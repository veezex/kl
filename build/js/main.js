$(document).ready(function(){if(function(s){"use strict";s.fn.emulateTransitionEnd=function(t){var e=!1,i=this;s(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||s(i).trigger(s.support.transition.end)},t),this},s(function(){s.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),s.support.transition&&(s.event.special.bsTransitionEnd={bindType:s.support.transition.end,delegateType:s.support.transition.end,handle:function(t){if(s(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(u){"use strict";var h=function(t,e){this.$element=u(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",u.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",u.proxy(this.pause,this)).on("mouseleave.bs.carousel",u.proxy(this.cycle,this))};function o(n){return this.each(function(){var t=u(this),e=t.data("bs.carousel"),i=u.extend({},h.DEFAULTS,t.data(),"object"==typeof n&&n),s="string"==typeof n?n:i.slide;e||t.data("bs.carousel",e=new h(this,i)),"number"==typeof n?e.to(n):s?e[s]():i.interval&&e.pause().cycle()})}h.VERSION="3.3.5",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(u.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var s=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(s)},h.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&u.support.transition&&(this.$element.trigger(u.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),s=e||this.getItemForDirection(t,i),n=this.interval,a="next"==t?"left":"right",o=this;if(s.hasClass("active"))return this.sliding=!1;var r=s[0],l=u.Event("slide.bs.carousel",{relatedTarget:r,direction:a});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=u(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var d=u.Event("slid.bs.carousel",{relatedTarget:r,direction:a});return u.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(a),s.addClass(a),i.one("bsTransitionEnd",function(){s.removeClass([t,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(d)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),n&&this.cycle(),this}};var t=u.fn.carousel;u.fn.carousel=o,u.fn.carousel.Constructor=h,u.fn.carousel.noConflict=function(){return u.fn.carousel=t,this};var e=function(t){var e,i=u(this),s=u(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var n=u.extend({},s.data(),i.data()),a=i.attr("data-slide-to");a&&(n.interval=!1),o.call(s,n),a&&s.data("bs.carousel").to(a),t.preventDefault()}};u(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),u(window).on("load",function(){u('[data-ride="carousel"]').each(function(){var t=u(this);o.call(t,t.data())})})}(jQuery),$(".carousel-showmanymoveone .item").each(function(){for(var t=$(this),e=1;e<4;e++)(t=t.next()).length||(t=$(this).siblings(":first")),t.children(":first-child").clone().addClass("cloneditem-"+e).appendTo($(this))}),$(".carousel").carousel({interval:0}),$("#carousel123").carousel({interval:2e3}),$(".js-hide-filter").on("click",function(t){t.preventDefault();var e=$(this);$(".filter__input-group--add").hasClass("js-isVisible")?($(".filter__input-group--add").removeClass("js-isVisible"),e.removeClass("iSopened")):($(".filter__input-group--add").addClass("js-isVisible"),e.addClass("iSopened"))}),$(".js-map__btn").on("click",function(t){var e=$(this).attr("data-modal");$("#"+e).addClass("isOpened")}),null!==document.getElementById("map")){ymaps.ready(function(){var t=new ymaps.Map("map",{center:[55.76,37.64],zoom:18,controls:[]}),e=new ymaps.Placemark([55.760584,37.63945],{},{iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[40,50],iconImageOffset:[-20,-50]}),i=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div><br><div id='zoom-out' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div>",{build:function(){i.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()-1,{checkZoomRange:!0})}}),s=new ymaps.control.ZoomControl({options:{layout:i,position:{left:30,top:465}}});t.controls.add(s),t.geoObjects.add(e)})}$("#modal-close").on("click",function(t){$(this).closest(".js-modal").removeClass("isOpened")}),$(".js-tab__item").on("click",function(t){var e=$(this);e.closest(".tab").find(".js-tab__item").removeClass("js-active"),e.addClass("js-active");var i=e.attr("data-tab");e.closest(".tab").find(".tab__block").removeClass("js-active"),$('[data-content="'+i+'"]').addClass("js-active")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJmbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiZHVyYXRpb24iLCJjYWxsZWQiLCIkZWwiLCJ0aGlzIiwib25lIiwic2V0VGltZW91dCIsInRyaWdnZXIiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsImVuZCIsImVsIiwiY3JlYXRlRWxlbWVudCIsInRyYW5zRW5kRXZlbnROYW1lcyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJuYW1lIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ0cmFuc2l0aW9uRW5kIiwiZXZlbnQiLCJzcGVjaWFsIiwiYnNUcmFuc2l0aW9uRW5kIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJlIiwidGFyZ2V0IiwiaXMiLCJoYW5kbGVPYmoiLCJoYW5kbGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJqUXVlcnkiLCJDYXJvdXNlbCIsImVsZW1lbnQiLCJvcHRpb25zIiwiJGVsZW1lbnQiLCIkaW5kaWNhdG9ycyIsImZpbmQiLCJwYXVzZWQiLCJzbGlkaW5nIiwiaW50ZXJ2YWwiLCIkYWN0aXZlIiwiJGl0ZW1zIiwia2V5Ym9hcmQiLCJvbiIsInByb3h5Iiwia2V5ZG93biIsInBhdXNlIiwiZG9jdW1lbnRFbGVtZW50IiwiY3ljbGUiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwiZXh0ZW5kIiwiREVGQVVMVFMiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiVkVSU0lPTiIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJ3cmFwIiwicHJvdG90eXBlIiwidGVzdCIsInRhZ05hbWUiLCJ3aGljaCIsInByZXYiLCJuZXh0IiwicHJldmVudERlZmF1bHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJpdGVtIiwicGFyZW50IiwiY2hpbGRyZW4iLCJpbmRleCIsImdldEl0ZW1Gb3JEaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJhY3RpdmUiLCJhY3RpdmVJbmRleCIsImxlbmd0aCIsIml0ZW1JbmRleCIsImVxIiwicG9zIiwidGhhdCIsInR5cGUiLCIkbmV4dCIsImlzQ3ljbGluZyIsImhhc0NsYXNzIiwicmVsYXRlZFRhcmdldCIsInNsaWRlRXZlbnQiLCJFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsInJlbW92ZUNsYXNzIiwiJG5leHRJbmRpY2F0b3IiLCJhZGRDbGFzcyIsInNsaWRFdmVudCIsIm9mZnNldFdpZHRoIiwiam9pbiIsIm9sZCIsImNhcm91c2VsIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiY2xpY2tIYW5kbGVyIiwiaHJlZiIsIiR0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsInNsaWRlSW5kZXgiLCJjYWxsIiwid2luZG93IiwiJGNhcm91c2VsIiwiaXRlbVRvQ2xvbmUiLCJpIiwic2libGluZ3MiLCJjbG9uZSIsImFwcGVuZFRvIiwidmFsIiwiZ2V0RWxlbWVudEJ5SWQiLCJ5bWFwcyIsIm15TWFwIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImNvbnRyb2xzIiwicGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiWm9vbUxheW91dCIsInRlbXBsYXRlTGF5b3V0RmFjdG9yeSIsImNyZWF0ZUNsYXNzIiwiYnVpbGQiLCJzdXBlcmNsYXNzIiwiem9vbUluQ2FsbGJhY2siLCJ1dGlsIiwiYmluZCIsInpvb21JbiIsInpvb21PdXRDYWxsYmFjayIsInpvb21PdXQiLCJjbGVhciIsInVuYmluZCIsIm1hcCIsImdldERhdGEiLCJjb250cm9sIiwiZ2V0TWFwIiwic2V0Wm9vbSIsImdldFpvb20iLCJjaGVja1pvb21SYW5nZSIsInpvb21Db250cm9sIiwiWm9vbUNvbnRyb2wiLCJsYXlvdXQiLCJwb3NpdGlvbiIsImxlZnQi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QUlJLFFBQVFKLEVBQUlLLFVBQVksRUFBRyxDQUFDQyxnQkFBZ0IsS0FHcERULFFBQVMsV0FDTCxJQUFJRyxFQUFNaEosS0FBS2lKLFVBQVVDLFFBQVFDLFNBQ2pDSCxFQUFJSSxRQUFRSixFQUFJSyxVQUFZLEVBQUcsQ0FBQ0MsZ0JBQWdCLE9BR3BEQyxFQUFjLElBQUloQyxNQUFNMkIsUUFBUU0sWUFBWSxDQUN4Q3ZILFFBQVMsQ0FDTHdILE9BQVF0QixFQUNSdUIsU0FBVSxDQUNOQyxLQUFNLEdBQ05DLElBQUssUUFJakJwQyxFQUFNSSxTQUFTaUMsSUFBSU4sR0FDbkIvQixFQUFNc0MsV0FBV0QsSUFBSWhDLEtBRzdCckksRUFBRSxnQkFBZ0JtRCxHQUFHLFFBQVEsU0FBU3BCLEdBQ3hCL0IsRUFBR1EsTUFFVCtKLFFBQVEsYUFBYWxFLFlBQVksY0FFekNyRyxFQUFFLGlCQUFpQm1ELEdBQUcsUUFBUSxTQUFTcEIsR0FDckMsSUFBSTZCLEVBQVE1RCxFQUFHUSxNQUVmb0QsRUFBTTJHLFFBQVEsUUFBUTNILEtBQUssaUJBQWlCeUQsWUFBWSxhQUN4RHpDLEVBQU0yQyxTQUFTLGFBRWYsSUFBSXNCLEVBQU1qRSxFQUFNc0QsS0FBSyxZQUVyQnRELEVBQU0yRyxRQUFRLFFBQVEzSCxLQUFLLGVBQWV5RCxZQUFZLGFBQ3REckcsRUFBRSxrQkFBa0I2SCxFQUFJLE1BQU10QixTQUFTIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMy41XG4gICAqIGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICBcbiAgXG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgXG4gICAgLy8gQ1NTIFRSQU5TSVRJT04gU1VQUE9SVCAoU2hvdXRvdXQ6IGh0dHBzOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcbiAgXG4gICAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgICAgfVxuICBcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XG4gICAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgICB9XG4gICAgICB9XG4gIFxuICAgICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxuICAgIH1cbiAgXG4gICAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgICB2YXIgJGVsID0gdGhpc1xuICAgICAgJCh0aGlzKS5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHsgY2FsbGVkID0gdHJ1ZSB9KVxuICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgICAkKGZ1bmN0aW9uICgpIHtcbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG4gIFxuICAgICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuXG4gIFxuICAgICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgICAgYmluZFR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhpcykpIHJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIFxuICB9KGpRdWVyeSk7XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQm9vdHN0cmFwOiBjYXJvdXNlbC5qcyB2My4zLjVcbiAgICogaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Nhcm91c2VsXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gIFxuICBcbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy4kZWxlbWVudCAgICA9ICQoZWxlbWVudClcbiAgICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICAgIHRoaXMub3B0aW9ucyAgICAgPSBvcHRpb25zXG4gICAgICB0aGlzLnBhdXNlZCAgICAgID0gbnVsbFxuICAgICAgdGhpcy5zbGlkaW5nICAgICA9IG51bGxcbiAgICAgIHRoaXMuaW50ZXJ2YWwgICAgPSBudWxsXG4gICAgICB0aGlzLiRhY3RpdmUgICAgID0gbnVsbFxuICAgICAgdGhpcy4kaXRlbXMgICAgICA9IG51bGxcbiAgXG4gICAgICB0aGlzLm9wdGlvbnMua2V5Ym9hcmQgJiYgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5rZXlkb3duLCB0aGlzKSlcbiAgXG4gICAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiAhKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgJiYgdGhpcy4kZWxlbWVudFxuICAgICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgICAub24oJ21vdXNlbGVhdmUuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMuY3ljbGUsIHRoaXMpKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwuVkVSU0lPTiAgPSAnMy4zLjUnXG4gIFxuICAgIENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04gPSA2MDBcbiAgXG4gICAgQ2Fyb3VzZWwuREVGQVVMVFMgPSB7XG4gICAgICBpbnRlcnZhbDogNTAwMCxcbiAgICAgIHBhdXNlOiAnaG92ZXInLFxuICAgICAgd3JhcDogdHJ1ZSxcbiAgICAgIGtleWJvYXJkOiB0cnVlXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG4gICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgICAgY2FzZSAzNzogdGhpcy5wcmV2KCk7IGJyZWFrXG4gICAgICAgIGNhc2UgMzk6IHRoaXMubmV4dCgpOyBicmVha1xuICAgICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICAgIH1cbiAgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IGZhbHNlKVxuICBcbiAgICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuICBcbiAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnZhbFxuICAgICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICAgJiYgKHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCwgdGhpcyksIHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpXG4gIFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdGhpcy4kaXRlbXMgPSBpdGVtLnBhcmVudCgpLmNoaWxkcmVuKCcuaXRlbScpXG4gICAgICByZXR1cm4gdGhpcy4kaXRlbXMuaW5kZXgoaXRlbSB8fCB0aGlzLiRhY3RpdmUpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUZvckRpcmVjdGlvbiA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIGFjdGl2ZSkge1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoYWN0aXZlKVxuICAgICAgdmFyIHdpbGxXcmFwID0gKGRpcmVjdGlvbiA9PSAncHJldicgJiYgYWN0aXZlSW5kZXggPT09IDApXG4gICAgICAgICAgICAgICAgICB8fCAoZGlyZWN0aW9uID09ICduZXh0JyAmJiBhY3RpdmVJbmRleCA9PSAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkpXG4gICAgICBpZiAod2lsbFdyYXAgJiYgIXRoaXMub3B0aW9ucy53cmFwKSByZXR1cm4gYWN0aXZlXG4gICAgICB2YXIgZGVsdGEgPSBkaXJlY3Rpb24gPT0gJ3ByZXYnID8gLTEgOiAxXG4gICAgICB2YXIgaXRlbUluZGV4ID0gKGFjdGl2ZUluZGV4ICsgZGVsdGEpICUgdGhpcy4kaXRlbXMubGVuZ3RoXG4gICAgICByZXR1cm4gdGhpcy4kaXRlbXMuZXEoaXRlbUluZGV4KVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgdmFyIHRoYXQgICAgICAgID0gdGhpc1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcbiAgXG4gICAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxuICBcbiAgICAgIGlmICh0aGlzLnNsaWRpbmcpICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50Lm9uZSgnc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHsgdGhhdC50byhwb3MpIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICAgIGlmIChhY3RpdmVJbmRleCA9PSBwb3MpIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKVxuICBcbiAgICAgIHJldHVybiB0aGlzLnNsaWRlKHBvcyA+IGFjdGl2ZUluZGV4ID8gJ25leHQnIDogJ3ByZXYnLCB0aGlzLiRpdGVtcy5lcShwb3MpKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcbiAgXG4gICAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCcubmV4dCwgLnByZXYnKS5sZW5ndGggJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZClcbiAgICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgICAgfVxuICBcbiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG4gIFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXG4gICAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCB0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24odHlwZSwgJGFjdGl2ZSlcbiAgICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXG4gICAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuICBcbiAgICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiAodGhpcy5zbGlkaW5nID0gZmFsc2UpXG4gIFxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KCdzbGlkZS5icy5jYXJvdXNlbCcsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcbiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgIH0pXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudClcbiAgICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgXG4gICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG4gIFxuICAgICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKVxuICBcbiAgICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdmFyICRuZXh0SW5kaWNhdG9yID0gJCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoJG5leHQpXSlcbiAgICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG4gIFxuICAgICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XG4gICAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXG4gICAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgICAkYWN0aXZlXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICAgIH0sIDApXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgfVxuICBcbiAgICAgIGlzQ3ljbGluZyAmJiB0aGlzLmN5Y2xlKClcbiAgXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gIFxuICAgIC8vIENBUk9VU0VMIFBMVUdJTiBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ2Fyb3VzZWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gICAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcbiAgXG4gICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnLCAoZGF0YSA9IG5ldyBDYXJvdXNlbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uKSBkYXRhW2FjdGlvbl0oKVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmludGVydmFsKSBkYXRhLnBhdXNlKCkuY3ljbGUoKVxuICAgICAgfSlcbiAgICB9XG4gIFxuICAgIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG4gIFxuICAgICQuZm4uY2Fyb3VzZWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcbiAgXG4gIFxuICAgIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJC5mbi5jYXJvdXNlbCA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09XG4gIFxuICAgIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGhyZWZcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcbiAgICAgIHZhciBzbGlkZUluZGV4ID0gJHRoaXMuYXR0cignZGF0YS1zbGlkZS10bycpXG4gICAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG4gIFxuICAgICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9ucylcbiAgXG4gICAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgICAkdGFyZ2V0LmRhdGEoJ2JzLmNhcm91c2VsJykudG8oc2xpZGVJbmRleClcbiAgICAgIH1cbiAgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIFxuICAgICQoZG9jdW1lbnQpXG4gICAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXScsIGNsaWNrSGFuZGxlcilcbiAgICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGUtdG9dJywgY2xpY2tIYW5kbGVyKVxuICBcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRjYXJvdXNlbCA9ICQodGhpcylcbiAgICAgICAgUGx1Z2luLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKVxuICAgICAgfSlcbiAgICB9KVxuICBcbiAgfShqUXVlcnkpO1xuICBcbiAgK2Z1bmN0aW9uKCl7XG4gICAgJCgnLmNhcm91c2VsLXNob3dtYW55bW92ZW9uZSAuaXRlbScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHZhciBpdGVtVG9DbG9uZSA9ICQodGhpcyk7XG4gIFxuICAgICAgZm9yICh2YXIgaT0xO2k8NDtpKyspIHtcbiAgICAgICAgaXRlbVRvQ2xvbmUgPSBpdGVtVG9DbG9uZS5uZXh0KCk7XG4gIFxuICAgICAgICAvLyB3cmFwIGFyb3VuZCBpZiBhdCBlbmQgb2YgaXRlbSBjb2xsZWN0aW9uXG4gICAgICAgIGlmICghaXRlbVRvQ2xvbmUubGVuZ3RoKSB7XG4gICAgICAgICAgaXRlbVRvQ2xvbmUgPSAkKHRoaXMpLnNpYmxpbmdzKCc6Zmlyc3QnKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLy8gZ3JhYiBpdGVtLCBjbG9uZSwgYWRkIG1hcmtlciBjbGFzcywgYWRkIHRvIGNvbGxlY3Rpb25cbiAgICAgICAgaXRlbVRvQ2xvbmUuY2hpbGRyZW4oJzpmaXJzdC1jaGlsZCcpLmNsb25lKClcbiAgICAgICAgICAuYWRkQ2xhc3MoXCJjbG9uZWRpdGVtLVwiKyhpKSlcbiAgICAgICAgICAuYXBwZW5kVG8oJCh0aGlzKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0oKTtcbiAgXG4gICQoJy5jYXJvdXNlbCcpLmNhcm91c2VsKHtcbiAgXHRpbnRlcnZhbDogMCAvL3RlbXBcbiAgfSk7XG4gIFxuICAkKCcjY2Fyb3VzZWwxMjMnKS5jYXJvdXNlbCh7IFxuICAgIGludGVydmFsOiAyMDAwIC8vdGVtcFxuICB9KTtcbiAgJCgnLmpzLWhpZGUtZmlsdGVyJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICBpZiAoICQoJy5maWx0ZXJfX2lucHV0LWdyb3VwLS1hZGQnKS5oYXNDbGFzcygnanMtaXNWaXNpYmxlJykgKSB7XG4gICAgICAkKCcuZmlsdGVyX19pbnB1dC1ncm91cC0tYWRkJykucmVtb3ZlQ2xhc3MoJ2pzLWlzVmlzaWJsZScpO1xuICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2lTb3BlbmVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5maWx0ZXJfX2lucHV0LWdyb3VwLS1hZGQnKS5hZGRDbGFzcygnanMtaXNWaXNpYmxlJyk7ICAgICAgXG4gICAgICAkdGhpcy5hZGRDbGFzcygnaVNvcGVuZWQnKTtcbiAgICB9XG4gIH0pO1xuICAkKCcuanMtbWFwX19idG4nKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdmFsID0gJCggdGhpcyApLmF0dHIoJ2RhdGEtbW9kYWwnKTtcbiAgICBcbiAgICAvLyB2YXIgc3R5bGVzID0ge1xuICAgIC8vICAgZGlzcGxheSA6IFwiYmxvY2tcIixcbiAgICAvLyAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAvLyAgIHRvcDogLWhlYWRlSGVpZ2h0XG4gICAgLy8gfTtcbiAgICBcbiAgICAkKCcjJyt2YWwpLmFkZENsYXNzKCdpc09wZW5lZCcpO1xuICB9KTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSAhPT0gbnVsbCkge1xuICAvLyAgIGZ1bmN0aW9uIG1hcFNpemUoKXtcbiAgLy8gICAgIHZhciBtYXBQb3MgPSAkKCcjbWFwJykub2Zmc2V0KCkudG9wO1xuICAvLyAgICAgdmFyIHdpbkhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcbiAgLy8gICAgIHZhciBtYXBIZWlnaHQgPSB3aW5IZWlnaHQgLSBtYXBQb3M7XG4gIC8vICAgICAvLyBjb25zb2xlLmxvZyh3aW5IZWlnaHQpO1xuICAvLyAgICAgJCgnI21hcCcpLmNzcygnaGVpZ2h0JywgbWFwSGVpZ2h0KTtcbiAgLy8gICB9O1xuICBcbiAgLy8gICBtYXBTaXplKCk7XG4gIFxuICAvLyAgICQoIHdpbmRvdyApLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgLy8gICAgIG1hcFNpemUoKTtcbiAgLy8gICB9KTtcbiAgXG4gICAgICAvLyDQpNGD0L3QutGG0LjRjyB5bWFwcy5yZWFkeSgpINCx0YPQtNC10YIg0LLRi9C30LLQsNC90LAsINC60L7Qs9C00LBcbiAgICAgIC8vINC30LDQs9GA0YPQt9GP0YLRgdGPINCy0YHQtSDQutC+0LzQv9C+0L3QtdC90YLRiyBBUEksINCwINGC0LDQutC20LUg0LrQvtCz0LTQsCDQsdGD0LTQtdGCINCz0L7RgtC+0LLQviBET00t0LTQtdGA0LXQstC+LlxuICAgICAgeW1hcHMucmVhZHkoaW5pdCk7XG4gIFxuICAgICAgZnVuY3Rpb24gaW5pdCgpeyBcbiAgICAgICAgICAvLyDQodC+0LfQtNCw0L3QuNC1INC60LDRgNGC0YsuICAgIFxuICAgICAgICAgIHZhciBteU1hcCA9IG5ldyB5bWFwcy5NYXAoXCJtYXBcIiwge1xuICAgICAgICAgICAgICAvLyDQmtC+0L7RgNC00LjQvdCw0YLRiyDRhtC10L3RgtGA0LAg0LrQsNGA0YLRiy5cbiAgICAgICAgICAgICAgLy8g0J/QvtGA0Y/QtNC+0Log0L/QviDRg9C80L7Qu9GH0L3QuNGOOiDCq9GI0LjRgNC+0YLQsCwg0LTQvtC70LPQvtGC0LDCuy5cbiAgICAgICAgICAgICAgLy8g0KfRgtC+0LHRiyDQvdC1INC+0L/RgNC10LTQtdC70Y/RgtGMINC60L7QvtGA0LTQuNC90LDRgtGLINGG0LXQvdGC0YDQsCDQutCw0YDRgtGLINCy0YDRg9GH0L3Rg9GOLFxuICAgICAgICAgICAgICAvLyDQstC+0YHQv9C+0LvRjNC30YPQudGC0LXRgdGMINC40L3RgdGC0YDRg9C80LXQvdGC0L7QvCDQntC/0YDQtdC00LXQu9C10L3QuNC1INC60L7QvtGA0LTQuNC90LDRgi5cbiAgICAgICAgICAgICAgY2VudGVyOiBbNTUuNzYsIDM3LjY0XSxcbiAgICAgICAgICAgICAgLy8g0KPRgNC+0LLQtdC90Ywg0LzQsNGB0YjRgtCw0LHQuNGA0L7QstCw0L3QuNGPLiDQlNC+0L/Rg9GB0YLQuNC80YvQtSDQt9C90LDRh9C10L3QuNGPOlxuICAgICAgICAgICAgICAvLyDQvtGCIDAgKNCy0LXRgdGMINC80LjRgCkg0LTQviAxOS5cbiAgICAgICAgICAgICAgem9vbTogMTgsXG4gICAgICAgICAgICAgIGNvbnRyb2xzOiBbXVxuICAgICAgICAgIH0pLCBcbiAgXG4gICAgICAgICAgLy8g0JzQtdGC0LrQsCwg0YHQvtC00LXRgNC20LjQvNC+0LUg0LHQsNC70YPQvdCwINC60L7RgtC+0YDQvtC5INC30LDQs9GA0YPQttCw0LXRgtGB0Y8g0YEg0L/QvtC80L7RidGM0Y4gQUpBWC5cbiAgICAgICAgICBwbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NS43NjA1ODQsIDM3LjYzOTQ1MF0sIHt9LCB7XG4gICAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcbiAgICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogJ2ltYWdlcy9tYXBfX2JhbG9vbi5wbmcnLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbNDAsIDUwXSxcbiAgICAgICAgICAgICAgaWNvbkltYWdlT2Zmc2V0OiBbLTIwLCAtNTBdXG4gICAgICAgICAgfSksXG4gIFxuICAgICAgICAgIC8vINCh0L7Qt9C00LDQtNC40Lwg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40Lkg0LzQsNC60LXRgiDQv9C+0LvQt9GD0L3QutCwINC80LDRgdGI0YLQsNCx0LAuXG4gICAgICAgICAgWm9vbUxheW91dCA9IHltYXBzLnRlbXBsYXRlTGF5b3V0RmFjdG9yeS5jcmVhdGVDbGFzcyhcIjxkaXYgY2xhc3M9J21hcF9fem9vbS1ibG9jayB1LWpjLXNidS1mZC1jb2wnPlwiICtcbiAgICAgICAgICBcIjxkaXYgaWQ9J3pvb20taW4nIGNsYXNzPSdtYXBfX3pvb20gbWFwX196b29tLS1taW51cyB1LWpjLWNlIHUtYWktY2UnPlwiICtcbiAgICAgICAgICBcIjxzdmcgY2xhc3M9J3N2Zycgd2lkdGg9JzhweCcgaGVpZ2h0PScycHgnIHZpZXdCb3g9JzAgMCA4IDInIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J21hcF9fbWludXMnIHdpZHRoPSc4JyBoZWlnaHQ9JzInPjwvcmVjdD5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj48YnI+XCIgK1xuICAgICAgICAgIFwiPGRpdiBpZD0nem9vbS1vdXQnIGNsYXNzPSdtYXBfX3pvb20gdS1qYy1jZSB1LWFpLWNlJz5cIiArXG4gICAgICAgICAgXCI8c3ZnIGNsYXNzPSdzdmcnIHdpZHRoPScxMnB4JyBoZWlnaHQ9JzEycHgnIHZpZXdCb3g9JzAgMCAxMiAxMicgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJz5cIiArXG4gICAgICAgICAgXCI8ZyBpZD0nR3JvdXAnID48cmVjdCBpZD0nUmVjdGFuZ2xlLTMnIHg9JzAnIHk9JzUnIHdpZHRoPScxMicgaGVpZ2h0PScyJz48L3JlY3Q+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J1JlY3RhbmdsZS0zJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2LjAwMDAwMCwgNi4wMDAwMDApIHJvdGF0ZSg5MC4wMDAwMDApIHRyYW5zbGF0ZSgtNi4wMDAwMDAsIC02LjAwMDAwMCkgJyB4PScwJyB5PSc1JyB3aWR0aD0nMTInIGhlaWdodD0nMic+PC9yZWN0PjwvZz5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj5cIiwge1xuICBcbiAgICAgICAgICAvLyDQn9C10YDQtdC+0L/RgNC10LTQtdC70Y/QtdC8INC80LXRgtC+0LTRiyDQvNCw0LrQtdGC0LAsINGH0YLQvtCx0Ysg0LLRi9C/0L7Qu9C90Y/RgtGMINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LUg0LTQtdC50YHRgtCy0LjRj1xuICAgICAgICAgIC8vINC/0YDQuCDQv9C+0YHRgtGA0L7QtdC90LjQuCDQuCDQvtGH0LjRgdGC0LrQtSDQvNCw0LrQtdGC0LAuXG4gICAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8g0JLRi9C30YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBidWlsZC5cbiAgICAgICAgICAgICAgWm9vbUxheW91dC5zdXBlcmNsYXNzLmJ1aWxkLmNhbGwodGhpcyk7XG4gIFxuICAgICAgICAgICAgICAvLyDQn9GA0LjQstGP0LfRi9Cy0LDQtdC8INGE0YPQvdC60YbQuNC4LdC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0Log0LrQvtC90YLQtdC60YHRgtGDINC4INGB0L7RhdGA0LDQvdGP0LXQvCDRgdGB0YvQu9C60LhcbiAgICAgICAgICAgICAgLy8g0L3QsCDQvdC40YUsINGH0YLQvtCx0Ysg0L/QvtGC0L7QvCDQvtGC0L/QuNGB0LDRgtGM0YHRjyDQvtGCINGB0L7QsdGL0YLQuNC5LlxuICAgICAgICAgICAgICB0aGlzLnpvb21JbkNhbGxiYWNrID0geW1hcHMudXRpbC5iaW5kKHRoaXMuem9vbUluLCB0aGlzKTtcbiAgICAgICAgICAgICAgdGhpcy56b29tT3V0Q2FsbGJhY2sgPSB5bWFwcy51dGlsLmJpbmQodGhpcy56b29tT3V0LCB0aGlzKTtcbiAgXG4gICAgICAgICAgICAgIC8vINCd0LDRh9C40L3QsNC10Lwg0YHQu9GD0YjQsNGC0Ywg0LrQu9C40LrQuCDQvdCwINC60L3QvtC/0LrQsNGFINC80LDQutC10YLQsC5cbiAgICAgICAgICAgICAgJCgnI3pvb20taW4nKS5iaW5kKCdjbGljaycsIHRoaXMuem9vbUluQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAkKCcjem9vbS1vdXQnKS5iaW5kKCdjbGljaycsIHRoaXMuem9vbU91dENhbGxiYWNrKTtcbiAgICAgICAgICB9LFxuICBcbiAgICAgICAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyDQodC90LjQvNCw0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INC60LvQuNC60L7Qsi5cbiAgICAgICAgICAgICAgJCgnI3pvb20taW4nKS51bmJpbmQoJ2NsaWNrJywgdGhpcy56b29tSW5DYWxsYmFjayk7XG4gICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21PdXRDYWxsYmFjayk7XG4gIFxuICAgICAgICAgICAgICAvLyDQktGL0LfRi9Cy0LDQtdC8INGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDQvNC10YLQvtC0IGNsZWFyLlxuICAgICAgICAgICAgICBab29tTGF5b3V0LnN1cGVyY2xhc3MuY2xlYXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICB9LFxuICBcbiAgICAgICAgICB6b29tSW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0RGF0YSgpLmNvbnRyb2wuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgKyAxLCB7Y2hlY2tab29tUmFuZ2U6IHRydWV9KTtcbiAgICAgICAgICB9LFxuICBcbiAgICAgICAgICB6b29tT3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLmdldERhdGEoKS5jb250cm9sLmdldE1hcCgpO1xuICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpIC0gMSwge2NoZWNrWm9vbVJhbmdlOiB0cnVlfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHpvb21Db250cm9sID0gbmV3IHltYXBzLmNvbnRyb2wuWm9vbUNvbnRyb2woe1xuICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICBsYXlvdXQ6IFpvb21MYXlvdXQsXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDMwLFxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogNDY1IC8vdGVtcFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbXlNYXAuY29udHJvbHMuYWRkKHpvb21Db250cm9sKTtcbiAgICAgICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChwbGFjZW1hcmspO1xuICAgICAgfVxuICB9XG4gICQoJyNtb2RhbC1jbG9zZScpLm9uKCdjbGljaycsZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgXG4gICAgJHRoaXMuY2xvc2VzdCgnLmpzLW1vZGFsJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIH0pO1xuICAkKCcuanMtdGFiX19pdGVtJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcudGFiJykuZmluZCgnLmpzLXRhYl9faXRlbScpLnJlbW92ZUNsYXNzKCdqcy1hY3RpdmUnKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnanMtYWN0aXZlJyk7XG4gIFxuICAgIHZhciB2YWwgPSAkdGhpcy5hdHRyKCdkYXRhLXRhYicpOyAgICBcbiAgXG4gICAgJHRoaXMuY2xvc2VzdCgnLnRhYicpLmZpbmQoJy50YWJfX2Jsb2NrJykucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgICQoJ1tkYXRhLWNvbnRlbnQ9XCInK3ZhbCsnXCJdJykuYWRkQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICB9KTtcbn0pIl19
