$(document).ready(function(){if(function(s){"use strict";s.fn.emulateTransitionEnd=function(t){var e=!1,i=this;s(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||s(i).trigger(s.support.transition.end)},t),this},s(function(){s.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),s.support.transition&&(s.event.special.bsTransitionEnd={bindType:s.support.transition.end,delegateType:s.support.transition.end,handle:function(t){if(s(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(p){"use strict";var h=function(t,e){this.$element=p(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",p.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",p.proxy(this.pause,this)).on("mouseleave.bs.carousel",p.proxy(this.cycle,this))};function o(a){return this.each(function(){var t=p(this),e=t.data("bs.carousel"),i=p.extend({},h.DEFAULTS,t.data(),"object"==typeof a&&a),s="string"==typeof a?a:i.slide;e||t.data("bs.carousel",e=new h(this,i)),"number"==typeof a?e.to(a):s?e[s]():i.interval&&e.pause().cycle()})}h.VERSION="3.3.5",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(p.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var s=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(s)},h.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&p.support.transition&&(this.$element.trigger(p.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),s=e||this.getItemForDirection(t,i),a=this.interval,n="next"==t?"left":"right",o=this;if(s.hasClass("active"))return this.sliding=!1;var l=s[0],r=p.Event("slide.bs.carousel",{relatedTarget:l,direction:n});if(this.$element.trigger(r),!r.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=p(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var d=p.Event("slid.bs.carousel",{relatedTarget:l,direction:n});return p.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(n),s.addClass(n),i.one("bsTransitionEnd",function(){s.removeClass([t,n].join(" ")).addClass("active"),i.removeClass(["active",n].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(d)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var t=p.fn.carousel;p.fn.carousel=o,p.fn.carousel.Constructor=h,p.fn.carousel.noConflict=function(){return p.fn.carousel=t,this};var e=function(t){var e,i=p(this),s=p(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=p.extend({},s.data(),i.data()),n=i.attr("data-slide-to");n&&(a.interval=!1),o.call(s,a),n&&s.data("bs.carousel").to(n),t.preventDefault()}};p(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),p(window).on("load",function(){p('[data-ride="carousel"]').each(function(){var t=p(this);o.call(t,t.data())})})}(jQuery),$(".carousel-item-image .item").each(function(){for(var t=$(this),e=1;e<5;e++)(t=t.next()).length||(t=$(this).siblings(":first")),t.children(":first-child").clone().addClass("cloneditem-"+e).appendTo($(this))}),$(".carousel").carousel({interval:0}),$("#carousel-item-image").carousel({interval:0}),$(".benefits__item").on("click",function(){var t=$(this),e=t.attr("data-name");t.hasClass("isActive")?t.closest(".filter__checkbox-wrap").find("#"+e).prop("checked",!1):t.closest(".filter__checkbox-wrap").find("#"+e).prop("checked",!0)}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(o){"use strict";var l=function(t,e){this.$element=o(t),this.options=o.extend({},l.DEFAULTS,e),this.$trigger=o('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function a(t){var e,i=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return o(i)}function r(s){return this.each(function(){var t=o(this),e=t.data("bs.collapse"),i=o.extend({},l.DEFAULTS,t.data(),"object"==typeof s&&s);!e&&i.toggle&&/show|hide/.test(s)&&(i.toggle=!1),e||t.data("bs.collapse",e=new l(this,i)),"string"==typeof s&&e[s]()})}l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".collapse__tab").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var i=o.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){e&&e.length&&(r.call(e,"hide"),t||e.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!o.support.transition)return a.call(this);var n=o.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",o.proxy(a,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[s](this.$element[0][n])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=o.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!o.support.transition)return i.call(this);this.$element[e](0).one("bsTransitionEnd",o.proxy(i,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return o(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(o.proxy(function(t,e){var i=o(e);this.addAriaAndCollapsedClass(a(i),i)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=o.fn.collapse;o.fn.collapse=r,o.fn.collapse.Constructor=l,o.fn.collapse.noConflict=function(){return o.fn.collapse=t,this},o(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=o(this);e.attr("data-target")||t.preventDefault();var i=a(e),s=i.data("bs.collapse")?"toggle":e.data();r.call(i,s)})}(jQuery),$(".js-hide-filter").on("click",function(t){t.preventDefault();var e=$(this);$(".filter__input-group--add").hasClass("js-isVisible")?($(".filter__input-group--add").removeClass("js-isVisible"),e.removeClass("iSopened")):($(".filter__input-group--add").addClass("js-isVisible"),e.addClass("iSopened"))});var e=0;if($(window).scroll(function(){var t=$("#counter").offset().top-window.innerHeight;0==e&&$(window).scrollTop()>t&&($(".counter-value").each(function(){var t=$(this),e=t.attr("data-count");$({countNum:t.text()}).animate({countNum:e},{duration:2e3,easing:"swing",step:function(){t.text(Math.floor(this.countNum))},complete:function(){t.text(this.countNum),$(".statistics__card-text").addClass("isAnimated"),$(".history__card-text").addClass("isAnimated")}})}),e=1)}),$(".js-select-btn").on("click",function(){var t=$(this),e=t.closest(".filter__input-block").find(".js-select-block");e.hasClass("isOpen")?(t.addClass("isClosed"),t.removeClass("isOpen"),e.removeClass("isOpen")):($(".js-select-block").removeClass("isOpen"),$(".js-select-btn").removeClass("isOpen"),t.addClass("isOpen"),e.addClass("isOpen"));var i=t.closest(".filter__input-block");i.find(".filter__empty").length||i.find(".js-filter-hidden").prop("required")&&(i.find(".js-filter-hidden").val()?(i.find(".filter__empty").remove(),t.removeClass("filter__danger")):(i.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),t.addClass("filter__danger")))}),$(".js-select-item").on("click",function(){var t=$(this);t.addClass("js-selected");var e=t.text(),i=t.attr("data-group");$('.js-select-btn[data-group="'+i+'"]').text(e),t.closest(".filter__input-block").find(".js-select-label").addClass("floated"),$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen"),$('.js-filter-hidden[data-group="'+i+'"]').val(e);var s=t.closest(".filter__input-block");if(s.find(".js-filter-hidden").prop("required")){s.find(".js-filter-hidden").val()?(s.find(".filter__empty").remove(),$('.js-select-btn[data-group="'+i+'"]').removeClass("filter__danger")):(s.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$('.js-select-btn[data-group="'+i+'"]').addClass("filter__danger"))}}),$(".js-select-btn.isOpen")&&$(document).on("click",function(t){if(!$(t.target).closest(".js-select-block.isOpen").length&&!$(t.target).closest(".js-select-btn.isOpen").length){$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen");var e=$(".js-select-btn.isClosed").closest(".filter__input-block");e.find(".filter__empty").length||e.find(".js-filter-hidden").prop("required")&&(e.find(".js-filter-hidden").val()?(e.find(".filter__empty").remove(),$(".js-select-btn.isClosed").removeClass("filter__danger")):(e.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$(".js-select-btn.isClosed").addClass("filter__danger")))}}),$(".filter__input").on("focus",function(){$(this).closest(".filter__input-wrap").find(".filter__floating-label").addClass("floated")}),$(".filter__input").on("blur",function(){var t,e,i=$(this),s=i.closest(".filter__input-wrap"),a=s.find(".filter__input");if(i.val()){var n=a.attr("name");if("name"===n)if(-1<a.val().indexOf(" "))s.addClass("validated"),a.hasClass("filter__danger")&&(a.removeClass("filter__danger"),s.find(".filter__empty").remove());else{s.removeClass("validated"),s.find(".filter__empty").remove();o="<span class='filter__empty'>Поле должно содержать Имя и Фамилию через пробел</span>";a.addClass("filter__danger"),s.append(o)}else if("email"===n)if(e=a.val(),/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e))s.addClass("validated"),a.hasClass("filter__danger")&&(a.removeClass("filter__danger"),s.find(".filter__empty").remove());else{s.removeClass("validated"),s.find(".filter__empty").remove();o="<span class='filter__empty'>Email должен содержать латинские буквы, символы @ и .</span>";a.addClass("filter__danger"),s.append(o)}else if("tel"===n)if(t=a.val(),/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10,14}$/.test(t))s.addClass("validated"),a.hasClass("filter__danger")&&(a.removeClass("filter__danger"),s.find(".filter__empty").remove());else{s.removeClass("validated"),s.find(".filter__empty").remove();o="<span class='filter__empty'>Номер телефона должен содержать от 10 до 14 цифр</span>";a.addClass("filter__danger"),s.append(o)}else a.removeClass("filter__danger"),s.find(".filter__empty").remove()}else{var o="<span class='filter__empty'>Поле обязательно для заполнения</span>";s.removeClass("validated"),s.find(".filter__floating-label").removeClass("floated"),i.prop("required")&&(a.hasClass("filter__danger")||(a.addClass("filter__danger"),s.append(o)))}}),$(".item__img").click(function(){var t=$(this).attr("src");console.log(t),$(".image__container").css("background-image","url("+t+")")}),null!==document.getElementById("map")){function t(){var e=new ymaps.Map("map",{center:[55.76,37.64],zoom:10,controls:[]}),i=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div><br><div id='zoom-out' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div>",{build:function(){i.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()-1,{checkZoomRange:!0})}});function s(t){return{type:"FeatureCollection",features:t.map(function(t,e){return{id:e,type:"Feature",geometry:{type:"Point",coordinates:[t.lat,t.long]},properties:{iconCaption:t.serialNumber}}})}}function t(){return fetch("../js/test.json").then(function(t){return t.json()}).then(function(t){return s(t)})}$(window).on("resize",function(){var t=document.getElementById("map").offsetHeight/2-50;e.controls.remove("zoomControl"),e.controls.add("zoomControl",{layout:i,position:{left:"30px",top:t}})}).resize();var a=new ymaps.ObjectManager({clusterize:!0,gridSize:64,clusterIconLayout:"default#pieChart",clusterDisableClickZoom:!1});t().then(function(t){a.add(t)}),a.objects.options.set({iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[57,51],iconImageOffset:[-37,-50]}),e.geoObjects.add(a)}ymaps.ready(t)}else if(null!==document.getElementById("item-map")){ymaps.ready(t);var s=$("#item-map").attr("data-lng"),a=$("#item-map").attr("data-lat");function t(){var e=new ymaps.Map("item-map",{center:[s,a],zoom:13,controls:[]}),t=new ymaps.Placemark([s,a],{},{iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[57,51],iconImageOffset:[-37,-50]}),i=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div><br><div id='zoom-out' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div>",{build:function(){i.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()-1,{checkZoomRange:!0})}});$(window).on("resize",function(){var t=document.getElementById("item-map").offsetHeight/2-50;e.controls.remove("zoomControl"),e.controls.add("zoomControl",{layout:i,position:{left:"30px",top:t}})}).resize(),e.geoObjects.add(t)}}$("#modal-close").on("click",function(t){$(this).closest(".js-modal").removeClass("isOpened")}),$(".js-modal__btn").on("click",function(t){var e=$(this).attr("data-modal");$("#"+e).addClass("isOpened")}),$(window).on("resize",function(){if(null!==$(".scrollable-inner"))for(var t=0;t<$(".scrollable-inner").length;t++){var e=$(".scrollable-inner")[t],i=$(e).attr("data-iscroll"),s=$('.scrollable-parent[data-pscroll="'+i+'"]'),a=e.clientHeight;s.height(a)}}).resize(),$(window).on("scroll load",function(){var t=$(".js-header");60<=$(window).scrollTop()?t.addClass("sticked"):t.removeClass("sticked")}),$(".js-tab__item").on("click",function(t){var e=$(this);e.closest(".tab").find(".js-tab__item").removeClass("js-active"),e.addClass("js-active");var i=e.attr("data-tab");e.closest(".tab").find(".tab__block").removeClass("js-active"),$('[data-content="'+i+'"]').addClass("js-active")}),$(".js-toggle-item").click(function(){$(this).toggleClass("isActive")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJmbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiZHVyYXRpb24iLCJjYWxsZWQiLCIkZWwiLCJ0aGlzIiwib25lIiwic2V0VGltZW91dCIsInRyaWdnZXIiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsImVuZCIsImVsIiwiY3JlYXRlRWxlbWVudCIsInRyYW5zRW5kRXZlbnROYW1lcyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJuYW1lIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ0cmFuc2l0aW9uRW5kIiwiZXZlbnQiLCJzcGVjaWFsIiwiYnNUcmFuc2l0aW9uRW5kIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJlIiwidGFyZ2V0IiwiaXMiLCJoYW5kbGVPYmoiLCJoYW5kbGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJqUXVlcnkiLCJDYXJvdXNlbCIsImVsZW1lbnQiLCJvcHRpb25zIiwiJGVsZW1lbnQiLCIkaW5kaWNhdG9ycyIsImZpbmQiLCJwYXVzZWQiLCJzbGlkaW5nIiwiaW50ZXJ2YWwiLCIkYWN0aXZlIiwiJGl0ZW1zIiwia2V5Ym9hcmQiLCJvbiIsInByb3h5Iiwia2V5ZG93biIsInBhdXNlIiwiZG9jdW1lbnRFbGVtZW50IiwiY3ljbGUiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwiZXh0ZW5kIiwiREVGQVVMVFMiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiVkVSU0lPTiIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJ3cmFwIiwicHJvdG90eXBlIiwidGVzdCIsInRhZ05hbWUiLCJ3aGljaCIsInByZXYiLCJuZXh0IiwicHJldmVudERlZmF1bHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJpdGVtIiwicGFyZW50IiwiY2hpbGRyZW4iLCJpbmRleCIsImdldEl0ZW1Gb3JEaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJhY3RpdmUiLCJhY3RpdmVJbmRleCIsImxlbmd0aCIsIml0ZW1JbmRleCIsImVxIiwicG9zIiwidGhhdCIsInR5cGUiLCIkbmV4dCIsImlzQ3ljbGluZyIsImhhc0NsYXNzIiwicmVsYXRlZFRhcmdldCIsInNsaWRlRXZlbnQiLCJFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsInJlbW92ZUNsYXNzIiwiJG5leHRJbmRpY2F0b3IiLCJhZGRDbGFzcyIsInNsaWRFdmVudCIsIm9mZnNldFdpZHRoIiwiam9pbiIsIm9sZCIsImNhcm91c2VsIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiY2xpY2tIYW5kbGVyIiwiaHJlZiIsIiR0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsInNsaWRlSW5kZXgiLCJjYWxsIiwid2luZG93IiwiJGNhcm91c2VsIiwiaXRlbVRvQ2xvbmUiLCJpIiwic2libGluZ3MiLCJjbG9uZSIsImFwcGVuZFRvIiwiY2hlY2tlZCIsImNsb3Nlc3QiLCJwcm9wIiwiRXJyb3IiLCJ2ZXJzaW9uIiwianF1ZXJ5Iiwic3BsaXQiLCJDb2xsYXBzZSIsIiR0cmlnZ2VyIiwiaWQiLCJ0cmFuc2l0aW9uaW5nIiwiJHBhcmVudCIsImdldFBhcmVudCIsImFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyIsInRvZ2dsZSIsImdldFRhcmdldEZyb21UcmlnZ2VyIiwiZGltZW5zaW9uIiwic2hvdyIsImFjdGl2ZXNEYXRhIiwiYWN0aXZlcyIsInN0YXJ0RXZlbnQiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiaXNPcGVuIiwidG9nZ2xlQ2xhc3MiLCJjb2xsYXBzZSIsImEiLCJzY3JvbGwiLCJvVG9wIiwib2Zmc2V0IiwidG9wIiwiaW5uZXJIZWlnaHQiLCJzY3JvbGxUb3AiLCJjb3VudFRvIiwiY291bnROdW0iLCJ0ZXh0IiwiYW5pbWF0ZSIsImVhc2luZyIsInN0ZXAiLCJNYXRoIiwiZmxvb3IiLCJzeWJsaW5nIiwiJGJsb2NrIiwidmFsIiwicmVtb3ZlIiwiYXBwZW5kIiwiZ3JvdXAiLCIkcGhvbmUiLCIkZW1haWwiLCIkaW5wdXQiLCJpbmRleE9mIiwiZW1wdHkiLCJjbGljayIsImltZ1NyYyIsImNvbnNvbGUiLCJsb2ciLCJjc3MiLCJnZXRFbGVtZW50QnlJZCIsImluaXQiLCJteU1hcCIsInltYXBzIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImNvbnRyb2xzIiwiWm9vbUxheW91dCIsInRlbXBsYXRlTGF5b3V0RmFjdG9yeSIsImNyZWF0ZUNsYXNzIiwiYnVpbGQiLCJzdXBlcmNsYXNzIiwiem9vbUluQ2FsbGJhY2siLCJ1dGlsIiwiYmluZCIsInpvb21JbiIsInpvb21PdXRDYWxsYmFjayIsInpvb21PdXQiLCJjbGVhciIsInVuYmluZCIsIm1hcCIsImdldERhdGEiLCJjb250cm9sIiwiZ2V0TWFwIiwic2V0Wm9vbSIsImdldFpvb20iLCJjaGVja1pvb21SYW5nZSIsIm1hcFNlcnZlckRhdGEiLCJzZXJ2ZXJEYXRhIiwiZmVhdHVyZXMiLCJvYmoiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwibGF0IiwibG9uZyIsInByb3BlcnRpZXMiLCJpY29uQ2FwdGlvbiIsInNlcmlhbE51bWJlciIsImxvYWRMaXN0IiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiY2VudGVyUG9zIiwiYWRkIiwibGF5b3V0IiwicG9zaXRpb24iLCJsZWZ0IiwicmVzaXplIiwib2JqZWN0TWFuYWdlciIsIk9iamVjdE1hbmFnZXIiLCJjbHVzdGVyaXplIiwiZ3JpZFNpemUiLCJjbHVzdGVySWNvbkxheW91dCIsImNsdXN0ZXJEaXNhYmxlQ2xpY2tab29tIiwib2JqZWN0cyIsInNldCIsImljb25MYXlvdXQiLCJpY29uSW1hZ2VIcmVmIiwiaWNvbkltYWdlU2l6ZSIsImljb25JbWFnZU9mZnNldCIsImdlb09iamVjdHMiLCJsbmciLCJwbGFjZW1hcmsiLCJQbGFjZW1hcmsiLCJzY3JJbiIsInNjckVsIiwic2NyUGFyIiwic2NySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaGVpZ2h0Iiwic3RpY2tibG9jayJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FpV2hCLEdBdlZDLFNBQVVGLEdBQ1QsYUF5QkFBLEVBQUVHLEdBQUdDLHFCQUF1QixTQUFVQyxHQUNwQyxJQUFJQyxHQUFTLEVBQ1RDLEVBQU1DLEtBQ1ZSLEVBQUVRLE1BQU1DLElBQUksa0JBQW1CLFdBQWNILEdBQVMsSUFHdEQsT0FEQUksV0FEZSxXQUFtQkosR0FBUU4sRUFBRU8sR0FBS0ksUUFBUVgsRUFBRVksUUFBUUMsV0FBV0MsTUFDekRULEdBQ2RHLE1BR1RSLEVBQUUsV0FDQUEsRUFBRVksUUFBUUMsV0E5QlosV0FDRSxJQUFJRSxFQUFLZCxTQUFTZSxjQUFjLGFBRTVCQyxFQUFxQixDQUN2QkMsaUJBQW1CLHNCQUNuQkMsY0FBbUIsZ0JBQ25CQyxZQUFtQixnQ0FDbkJQLFdBQW1CLGlCQUdyQixJQUFLLElBQUlRLEtBQVFKLEVBQ2YsUUFBdUJLLElBQW5CUCxFQUFHUSxNQUFNRixHQUNYLE1BQU8sQ0FBRVAsSUFBS0csRUFBbUJJLElBSXJDLE9BQU8sRUFjZ0JHLEdBRWxCeEIsRUFBRVksUUFBUUMsYUFFZmIsRUFBRXlCLE1BQU1DLFFBQVFDLGdCQUFrQixDQUNoQ0MsU0FBVTVCLEVBQUVZLFFBQVFDLFdBQVdDLElBQy9CZSxhQUFjN0IsRUFBRVksUUFBUUMsV0FBV0MsSUFDbkNnQixPQUFRLFNBQVVDLEdBQ2hCLEdBQUkvQixFQUFFK0IsRUFBRUMsUUFBUUMsR0FBR3pCLE1BQU8sT0FBT3VCLEVBQUVHLFVBQVVDLFFBQVFDLE1BQU01QixLQUFNNkIsZ0JBNUN4RSxDQWlEQ0MsUUFXRCxTQUFVdEMsR0FDVCxhQUtBLElBQUl1QyxFQUFXLFNBQVVDLEVBQVNDLEdBQ2hDakMsS0FBS2tDLFNBQWMxQyxFQUFFd0MsR0FDckJoQyxLQUFLbUMsWUFBY25DLEtBQUtrQyxTQUFTRSxL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cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQm9vdHN0cmFwOiB0cmFuc2l0aW9uLmpzIHYzLjMuNVxuICAgKiBodHRwczovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdHJhbnNpdGlvbnNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgXG4gIFxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICAgIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwczovL3d3dy5tb2Rlcm5penIuY29tLylcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZCgpIHtcbiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG4gIFxuICAgICAgdmFyIHRyYW5zRW5kRXZlbnROYW1lcyA9IHtcbiAgICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgICAgTW96VHJhbnNpdGlvbiAgICA6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgT1RyYW5zaXRpb24gICAgICA6ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXG4gICAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICAgIH1cbiAgXG4gICAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiB7IGVuZDogdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdIH1cbiAgICAgICAgfVxuICAgICAgfVxuICBcbiAgICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgICB9XG4gIFxuICAgIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAgICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICAgIHZhciBjYWxsZWQgPSBmYWxzZVxuICAgICAgdmFyICRlbCA9IHRoaXNcbiAgICAgICQodGhpcykub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWUgfSlcbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsgaWYgKCFjYWxsZWQpICQoJGVsKS50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCkgfVxuICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gICAgJChmdW5jdGlvbiAoKSB7XG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25FbmQoKVxuICBcbiAgICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVyblxuICBcbiAgICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICAgIGJpbmRUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICAgIGRlbGVnYXRlVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoaXMpKSByZXR1cm4gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICBcbiAgfShqUXVlcnkpO1xuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIEJvb3RzdHJhcDogY2Fyb3VzZWwuanMgdjMuMy41XG4gICAqIGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjYXJvdXNlbFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICBcbiAgXG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgXG4gICAgLy8gQ0FST1VTRUwgQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpXG4gICAgICB0aGlzLiRpbmRpY2F0b3JzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuY2Fyb3VzZWwtaW5kaWNhdG9ycycpXG4gICAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgICAgdGhpcy5wYXVzZWQgICAgICA9IG51bGxcbiAgICAgIHRoaXMuc2xpZGluZyAgICAgPSBudWxsXG4gICAgICB0aGlzLmludGVydmFsICAgID0gbnVsbFxuICAgICAgdGhpcy4kYWN0aXZlICAgICA9IG51bGxcbiAgICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG4gIFxuICAgICAgdGhpcy5vcHRpb25zLmtleWJvYXJkICYmIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMua2V5ZG93biwgdGhpcykpXG4gIFxuICAgICAgdGhpcy5vcHRpb25zLnBhdXNlID09ICdob3ZlcicgJiYgISgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpICYmIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uKCdtb3VzZWVudGVyLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLnBhdXNlLCB0aGlzKSlcbiAgICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLlZFUlNJT04gID0gJzMuMy41J1xuICBcbiAgICBDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gNjAwXG4gIFxuICAgIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgICBwYXVzZTogJ2hvdmVyJyxcbiAgICAgIHdyYXA6IHRydWUsXG4gICAgICBrZXlib2FyZDogdHJ1ZVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHJldHVyblxuICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgICBjYXNlIDM5OiB0aGlzLm5leHQoKTsgYnJlYWtcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuXG4gICAgICB9XG4gIFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuY3ljbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcbiAgXG4gICAgICB0aGlzLmludGVydmFsICYmIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcbiAgXG4gICAgICB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICAgICAgJiYgIXRoaXMucGF1c2VkXG4gICAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuICBcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW0gfHwgdGhpcy4kYWN0aXZlKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb24gPSBmdW5jdGlvbiAoZGlyZWN0aW9uLCBhY3RpdmUpIHtcbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KGFjdGl2ZSlcbiAgICAgIHZhciB3aWxsV3JhcCA9IChkaXJlY3Rpb24gPT0gJ3ByZXYnICYmIGFjdGl2ZUluZGV4ID09PSAwKVxuICAgICAgICAgICAgICAgICAgfHwgKGRpcmVjdGlvbiA9PSAnbmV4dCcgJiYgYWN0aXZlSW5kZXggPT0gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpKVxuICAgICAgaWYgKHdpbGxXcmFwICYmICF0aGlzLm9wdGlvbnMud3JhcCkgcmV0dXJuIGFjdGl2ZVxuICAgICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uID09ICdwcmV2JyA/IC0xIDogMVxuICAgICAgdmFyIGl0ZW1JbmRleCA9IChhY3RpdmVJbmRleCArIGRlbHRhKSAlIHRoaXMuJGl0ZW1zLmxlbmd0aFxuICAgICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmVxKGl0ZW1JbmRleClcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgIHZhciB0aGF0ICAgICAgICA9IHRoaXNcbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJykpXG4gIFxuICAgICAgaWYgKHBvcyA+ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSB8fCBwb3MgPCAwKSByZXR1cm5cbiAgXG4gICAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgICBpZiAoYWN0aXZlSW5kZXggPT0gcG9zKSByZXR1cm4gdGhpcy5wYXVzZSgpLmN5Y2xlKClcbiAgXG4gICAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgdGhpcy4kaXRlbXMuZXEocG9zKSlcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IHRydWUpXG4gIFxuICAgICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpXG4gICAgICAgIHRoaXMuY3ljbGUodHJ1ZSlcbiAgICAgIH1cbiAgXG4gICAgICB0aGlzLmludGVydmFsID0gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuICBcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICAgIHJldHVybiB0aGlzLnNsaWRlKCdwcmV2JylcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5zbGlkZSA9IGZ1bmN0aW9uICh0eXBlLCBuZXh0KSB7XG4gICAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgICAgdmFyICRuZXh0ICAgICA9IG5leHQgfHwgdGhpcy5nZXRJdGVtRm9yRGlyZWN0aW9uKHR5cGUsICRhY3RpdmUpXG4gICAgICB2YXIgaXNDeWNsaW5nID0gdGhpcy5pbnRlcnZhbFxuICAgICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgICAgdmFyIHRoYXQgICAgICA9IHRoaXNcbiAgXG4gICAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuICBcbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gJG5leHRbMF1cbiAgICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsXG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICB9KVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRlRXZlbnQpXG4gICAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG4gIFxuICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZVxuICBcbiAgICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcbiAgXG4gICAgICBpZiAodGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIHZhciAkbmV4dEluZGljYXRvciA9ICQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KCRuZXh0KV0pXG4gICAgICAgICRuZXh0SW5kaWNhdG9yICYmICRuZXh0SW5kaWNhdG9yLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuICBcbiAgICAgIHZhciBzbGlkRXZlbnQgPSAkLkV2ZW50KCdzbGlkLmJzLmNhcm91c2VsJywgeyByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LCBkaXJlY3Rpb246IGRpcmVjdGlvbiB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgICAkbmV4dC5hZGRDbGFzcyh0eXBlKVxuICAgICAgICAkbmV4dFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAgICRuZXh0LmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICAgJGFjdGl2ZVxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRuZXh0LnJlbW92ZUNsYXNzKFt0eXBlLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKFsnYWN0aXZlJywgZGlyZWN0aW9uXS5qb2luKCcgJykpXG4gICAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgICAgICAgICB9LCAwKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAkbmV4dC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2VcbiAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgIH1cbiAgXG4gICAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG4gIFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENhcm91c2VsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuICAgICAgICB2YXIgYWN0aW9uICA9IHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycgPyBvcHRpb24gOiBvcHRpb25zLnNsaWRlXG4gIFxuICAgICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJywgKGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnbnVtYmVyJykgZGF0YS50byhvcHRpb24pXG4gICAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5pbnRlcnZhbCkgZGF0YS5wYXVzZSgpLmN5Y2xlKClcbiAgICAgIH0pXG4gICAgfVxuICBcbiAgICB2YXIgb2xkID0gJC5mbi5jYXJvdXNlbFxuICBcbiAgICAkLmZuLmNhcm91c2VsICAgICAgICAgICAgID0gUGx1Z2luXG4gICAgJC5mbi5jYXJvdXNlbC5Db25zdHJ1Y3RvciA9IENhcm91c2VsXG4gIFxuICBcbiAgICAvLyBDQVJPVVNFTCBOTyBDT05GTElDVFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgICQuZm4uY2Fyb3VzZWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgXG4gICAgLy8gQ0FST1VTRUwgREFUQS1BUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuICBcbiAgICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBocmVmXG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdjYXJvdXNlbCcpKSByZXR1cm5cbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgICB2YXIgc2xpZGVJbmRleCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2xpZGUtdG8nKVxuICAgICAgaWYgKHNsaWRlSW5kZXgpIG9wdGlvbnMuaW50ZXJ2YWwgPSBmYWxzZVxuICBcbiAgICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbnMpXG4gIFxuICAgICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICAgJHRhcmdldC5kYXRhKCdicy5jYXJvdXNlbCcpLnRvKHNsaWRlSW5kZXgpXG4gICAgICB9XG4gIFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuICBcbiAgICAkKGRvY3VtZW50KVxuICAgICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0nLCBjbGlja0hhbmRsZXIpXG4gICAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlLXRvXScsIGNsaWNrSGFuZGxlcilcbiAgXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgJCgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICAgIFBsdWdpbi5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSlcbiAgICAgIH0pXG4gICAgfSlcbiAgXG4gIH0oalF1ZXJ5KTtcbiAgXG4gICtmdW5jdGlvbigpe1xuICAgICQoJy5jYXJvdXNlbC1pdGVtLWltYWdlIC5pdGVtJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgdmFyIGl0ZW1Ub0Nsb25lID0gJCh0aGlzKTtcbiAgXG4gICAgICBmb3IgKHZhciBpPTE7aTw1O2krKykge1xuICAgICAgICBpdGVtVG9DbG9uZSA9IGl0ZW1Ub0Nsb25lLm5leHQoKTtcbiAgXG4gICAgICAgIC8vIHdyYXAgYXJvdW5kIGlmIGF0IGVuZCBvZiBpdGVtIGNvbGxlY3Rpb25cbiAgICAgICAgaWYgKCFpdGVtVG9DbG9uZS5sZW5ndGgpIHtcbiAgICAgICAgICBpdGVtVG9DbG9uZSA9ICQodGhpcykuc2libGluZ3MoJzpmaXJzdCcpO1xuICAgICAgICB9XG4gIFxuICAgICAgICAvLyBncmFiIGl0ZW0sIGNsb25lLCBhZGQgbWFya2VyIGNsYXNzLCBhZGQgdG8gY29sbGVjdGlvblxuICAgICAgICBpdGVtVG9DbG9uZS5jaGlsZHJlbignOmZpcnN0LWNoaWxkJykuY2xvbmUoKVxuICAgICAgICAgIC5hZGRDbGFzcyhcImNsb25lZGl0ZW0tXCIrKGkpKVxuICAgICAgICAgIC5hcHBlbmRUbygkKHRoaXMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSgpO1xuICBcbiAgJCgnLmNhcm91c2VsJykuY2Fyb3VzZWwoe1xuICBcdGludGVydmFsOiAwIC8vdGVtcFxuICB9KTtcbiAgXG4gICQoJyNjYXJvdXNlbC1pdGVtLWltYWdlJykuY2Fyb3VzZWwoeyBcbiAgICBpbnRlcnZhbDogMCAvL3RlbXBcbiAgfSk7XG4gICQoJy5iZW5lZml0c19faXRlbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICB2YXIgY2hlY2tlZCA9ICR0aGlzLmF0dHIoJ2RhdGEtbmFtZScpO1xuICAgIGlmICggISR0aGlzLmhhc0NsYXNzKCdpc0FjdGl2ZScpKSB7XG4gICAgICAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyX19jaGVja2JveC13cmFwJykuZmluZCgnIycrIGNoZWNrZWQpLnByb3AoJ2NoZWNrZWQnLHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyX19jaGVja2JveC13cmFwJykuZmluZCgnIycrIGNoZWNrZWQpLnByb3AoJ2NoZWNrZWQnLGZhbHNlKTtcbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coJCgnI3NjaG9vbCcpLmlzKCc6Y2hlY2tlZCcpKTtcbiAgICAvLyBjb25zb2xlLmxvZygkKCcja2luZGVyJykuaXMoJzpjaGVja2VkJykpO1xuICAgIC8vIGNvbnNvbGUubG9nKCQoJyNkcnVnc3RvcmUnKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI2hvc3BpdGFsJykuaXMoJzpjaGVja2VkJykpO1xuICAgIC8vIGNvbnNvbGUubG9nKCQoJyNzaG9wJykuaXMoJzpjaGVja2VkJykpO1xuICAgIC8vIGNvbnNvbGUubG9nKCQoJyNiYW5rJykuaXMoJzpjaGVja2VkJykpO1xuICAgIC8vIGNvbnNvbGUubG9nKCQoJyNjYWZlJykuaXMoJzpjaGVja2VkJykpO1xuICAgIC8vIGNvbnNvbGUubG9nKCQoJyNyZXN0JykuaXMoJzpjaGVja2VkJykpO1xuICB9KVxuICAvKiFcbiAgICogQm9vdHN0cmFwIHYzLjMuNyAoaHR0cDovL2dldGJvb3RzdHJhcC5jb20pXG4gICAqIENvcHlyaWdodCAyMDExLTIwMTggVHdpdHRlciwgSW5jLlxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgKi9cbiAgXG4gIC8qIVxuICAgKiBHZW5lcmF0ZWQgdXNpbmcgdGhlIEJvb3RzdHJhcCBDdXN0b21pemVyICg8bm9uZT4pXG4gICAqIENvbmZpZyBzYXZlZCB0byBjb25maWcuanNvbiBhbmQgPG5vbmU+XG4gICAqL1xuICBpZiAodHlwZW9mIGpRdWVyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnknKVxuICB9XG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgdmVyc2lvbiA9ICQuZm4uanF1ZXJ5LnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKVxuICAgIGlmICgodmVyc2lvblswXSA8IDIgJiYgdmVyc2lvblsxXSA8IDkpIHx8ICh2ZXJzaW9uWzBdID09IDEgJiYgdmVyc2lvblsxXSA9PSA5ICYmIHZlcnNpb25bMl0gPCAxKSB8fCAodmVyc2lvblswXSA+IDMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkgdmVyc2lvbiAxLjkuMSBvciBoaWdoZXIsIGJ1dCBsb3dlciB0aGFuIHZlcnNpb24gNCcpXG4gICAgfVxuICB9KGpRdWVyeSk7XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4zLjdcbiAgICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY29sbGFwc2VcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgXG4gIC8qIGpzaGludCBsYXRlZGVmOiBmYWxzZSAqL1xuICBcbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLiRlbGVtZW50ICAgICAgPSAkKGVsZW1lbnQpXG4gICAgICB0aGlzLm9wdGlvbnMgICAgICAgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgICB0aGlzLiR0cmlnZ2VyICAgICAgPSAkKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtocmVmPVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtdGFyZ2V0PVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXScpXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBudWxsXG4gIFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy4kcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModGhpcy4kZWxlbWVudCwgdGhpcy4kdHJpZ2dlcilcbiAgICAgIH1cbiAgXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvZ2dsZSkgdGhpcy50b2dnbGUoKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UuVkVSU0lPTiAgPSAnMy4zLjcnXG4gIFxuICAgIENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzNTBcbiAgXG4gICAgQ29sbGFwc2UuREVGQVVMVFMgPSB7XG4gICAgICB0b2dnbGU6IHRydWVcbiAgICB9XG4gIFxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5kaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpXG4gICAgICByZXR1cm4gaGFzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCdcbiAgICB9XG4gIFxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cbiAgXG4gICAgICB2YXIgYWN0aXZlc0RhdGFcbiAgICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5jaGlsZHJlbignLmNvbGxhcHNlX190YWInKS5jaGlsZHJlbignLmluLCAuY29sbGFwc2luZycpXG4gIFxuICAgICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgICAgYWN0aXZlc0RhdGEgPSBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgICAgfVxuICBcbiAgICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnc2hvdy5icy5jb2xsYXBzZScpXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgXG4gICAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICBQbHVnaW4uY2FsbChhY3RpdmVzLCAnaGlkZScpXG4gICAgICAgIGFjdGl2ZXNEYXRhIHx8IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnLCBudWxsKVxuICAgICAgfVxuICBcbiAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gIFxuICAgICAgdGhpcy4kdHJpZ2dlclxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG4gIFxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJylbZGltZW5zaW9uXSgnJylcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmNvbGxhcHNlJylcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuICBcbiAgICAgIHZhciBzY3JvbGxTaXplID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSlcbiAgXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8ICF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cbiAgXG4gICAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG4gIFxuICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcbiAgXG4gICAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodFxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZSBpbicpXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG4gIFxuICAgICAgdGhpcy4kdHJpZ2dlclxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG4gIFxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuICBcbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgW2RpbWVuc2lvbl0oMClcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmdldFBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXG4gICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyB0aGlzLm9wdGlvbnMucGFyZW50ICsgJ1wiXScpXG4gICAgICAgIC5lYWNoKCQucHJveHkoZnVuY3Rpb24gKGksIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gICAgICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJGVsZW1lbnQpLCAkZWxlbWVudClcbiAgICAgICAgfSwgdGhpcykpXG4gICAgICAgIC5lbmQoKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyA9IGZ1bmN0aW9uICgkZWxlbWVudCwgJHRyaWdnZXIpIHtcbiAgICAgIHZhciBpc09wZW4gPSAkZWxlbWVudC5oYXNDbGFzcygnaW4nKVxuICBcbiAgICAgICRlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gICAgICAkdHJpZ2dlclxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNlZCcsICFpc09wZW4pXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICAgIH1cbiAgXG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRyaWdnZXIpIHtcbiAgICAgIHZhciBocmVmXG4gICAgICB2YXIgdGFyZ2V0ID0gJHRyaWdnZXIuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgICB8fCAoaHJlZiA9ICR0cmlnZ2VyLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICBcbiAgICAgIHJldHVybiAkKHRhcmdldClcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuICBcbiAgICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIC9zaG93fGhpZGUvLnRlc3Qob3B0aW9uKSkgb3B0aW9ucy50b2dnbGUgPSBmYWxzZVxuICAgICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJywgKGRhdGEgPSBuZXcgQ29sbGFwc2UodGhpcywgb3B0aW9ucykpKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICAgIH0pXG4gICAgfVxuICBcbiAgICB2YXIgb2xkID0gJC5mbi5jb2xsYXBzZVxuICBcbiAgICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICAgJC5mbi5jb2xsYXBzZS5Db25zdHJ1Y3RvciA9IENvbGxhcHNlXG4gIFxuICBcbiAgICAvLyBDT0xMQVBTRSBOTyBDT05GTElDVFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgICQuZm4uY29sbGFwc2Uubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4uY29sbGFwc2UgPSBvbGRcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgXG4gICAgLy8gQ09MTEFQU0UgREFUQS1BUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuICBcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gIFxuICAgICAgaWYgKCEkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpKSBlLnByZXZlbnREZWZhdWx0KClcbiAgXG4gICAgICB2YXIgJHRhcmdldCA9IGdldFRhcmdldEZyb21UcmlnZ2VyKCR0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGFyZ2V0LmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIHZhciBvcHRpb24gID0gZGF0YSA/ICd0b2dnbGUnIDogJHRoaXMuZGF0YSgpXG4gIFxuICAgICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICAgIH0pXG4gIFxuICB9KGpRdWVyeSk7XG4gICQoJy5qcy1oaWRlLWZpbHRlcicpLm9uKCdjbGljaycsZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgaWYgKCAkKCcuZmlsdGVyX19pbnB1dC1ncm91cC0tYWRkJykuaGFzQ2xhc3MoJ2pzLWlzVmlzaWJsZScpICkge1xuICAgICAgJCgnLmZpbHRlcl9faW5wdXQtZ3JvdXAtLWFkZCcpLnJlbW92ZUNsYXNzKCdqcy1pc1Zpc2libGUnKTtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdpU29wZW5lZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuZmlsdGVyX19pbnB1dC1ncm91cC0tYWRkJykuYWRkQ2xhc3MoJ2pzLWlzVmlzaWJsZScpOyAgICAgIFxuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2lTb3BlbmVkJyk7XG4gICAgfVxuICB9KTtcbiAgdmFyIGEgPSAwO1xuICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgIHZhciBvVG9wID0gJCgnI2NvdW50ZXInKS5vZmZzZXQoKS50b3AgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgaWYgKGEgPT0gMCAmJiAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiBvVG9wKSB7XG4gICAgICAkKCcuY291bnRlci12YWx1ZScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksIGNvdW50VG8gPSAkdGhpcy5hdHRyKCdkYXRhLWNvdW50Jyk7XG4gICAgICAgICQoe2NvdW50TnVtOiAkdGhpcy50ZXh0KCl9KS5hbmltYXRlKHsgY291bnROdW06IGNvdW50VG99LCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwMCxcbiAgICAgICAgICAgIGVhc2luZzogJ3N3aW5nJyxcbiAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkdGhpcy50ZXh0KE1hdGguZmxvb3IodGhpcy5jb3VudE51bSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJHRoaXMudGV4dCh0aGlzLmNvdW50TnVtKTtcbiAgICAgICAgICAgICAgLy9hbGVydCgnZmluaXNoZWQnKTtcbiAgICAgICAgICAgICAgJCgnLnN0YXRpc3RpY3NfX2NhcmQtdGV4dCcpLmFkZENsYXNzKCdpc0FuaW1hdGVkJyk7XG4gICAgICAgICAgICAgICQoJy5oaXN0b3J5X19jYXJkLXRleHQnKS5hZGRDbGFzcygnaXNBbmltYXRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgYSA9IDE7XG4gICAgfVxuICB9KTtcbiAgLy8gJCgnLmpzLW5hdi1saW5rJykuaG92ZXIoZnVuY3Rpb24oKSB7XG4gIC8vICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAvLyAgIC8vIHZhciBsaW5rID0gJHRoaXMuYXR0cignZGF0YS1saW5rJyk7XG4gIC8vICAgLy8gaWYgKCAkKCcuaGVhZGVyX19kcm9wZG93bltkYXRhLWRyb3A9XCInK2xpbmsrJ1wiXScpLmhhc0NsYXNzKCdpc09wZW5lZCcpICkge1xuICAvLyAgIC8vICAgJCgnLmhlYWRlcl9fZHJvcGRvd25bZGF0YS1kcm9wPVwiJytsaW5rKydcIl0nKS5yZW1vdmVDbGFzcygnaXNPcGVuZWQnKTtcbiAgLy8gICAvLyB9IGVsc2Uge1xuICAvLyAgIC8vICAgJCgnLmhlYWRlcl9fZHJvcGRvd25bZGF0YS1kcm9wPVwiJytsaW5rKydcIl0nKS5hZGRDbGFzcygnaXNPcGVuZWQnKTtcbiAgLy8gICAvLyB9XG4gIC8vICAgaWYgKCAkdGhpcy5maW5kKCcuaGVhZGVyX19kcm9wZG93bicpLmhhc0NsYXNzKCdpc09wZW5lZCcpICkge1xuICAvLyAgICAgJHRoaXMuZmluZCgnLmhlYWRlcl9fZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnaXNPcGVuZWQnKTtcbiAgLy8gICB9IGVsc2Uge1xuICAvLyAgICAgJHRoaXMuZmluZCgnLmhlYWRlcl9fZHJvcGRvd24nKS5hZGRDbGFzcygnaXNPcGVuZWQnKTtcbiAgLy8gICB9XG4gIC8vIH0pXG4gIFxuICAvLyBpZiAoICQoJy5oZWFkZXJfX2Ryb3Bkb3duLmlzT3BlbmVkJykgKSB7XG4gIC8vICAgY29uc29sZS5sb2coXCJoZXBwZW5zXCIpXG4gIC8vICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAvLyAgICAgaWYgKCAhJChlLnRhcmdldCkuY2xvc2VzdCgnLmhlYWRlcl9fZHJvcGRvd24uaXNPcGVuZWQnKS5sZW5ndGgpIHtcbiAgLy8gICAgICAgJCgnLmhlYWRlcl9fZHJvcGRvd24uaXNPcGVuZWQnKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gIC8vICAgICB9XG4gIC8vICAgfSk7XG4gIC8vIH1cbiAgLy93aGVuIGNsaWNraW5nL3RvZ2dsaW5nIGRyb3Bkb3duIG1lbnUgYnRuXG4gICQoJy5qcy1zZWxlY3QtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgIHZhciBzeWJsaW5nID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKS5maW5kKCcuanMtc2VsZWN0LWJsb2NrJyk7XG4gICAgaWYgKCBzeWJsaW5nLmhhc0NsYXNzKCdpc09wZW4nKSkge1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2lzQ2xvc2VkJyk7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gICAgICBzeWJsaW5nLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmpzLXNlbGVjdC1ibG9jaycpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICAgICQoJy5qcy1zZWxlY3QtYnRuJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpOyAgICBcbiAgICAgICR0aGlzLmFkZENsYXNzKCdpc09wZW4nKTtcbiAgICAgIHN5YmxpbmcuYWRkQ2xhc3MoJ2lzT3BlbicpO1xuICAgIH1cbiAgXG4gICAgdmFyICRibG9jayA9ICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LWJsb2NrJyk7XG4gICAgdmFyICRleGlzdCA9ICRibG9jay5maW5kKCcuZmlsdGVyX19lbXB0eScpO1xuICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPPC9zcGFuPlwiXG4gICAgaWYgKCAhJGV4aXN0Lmxlbmd0aCApIHtcbiAgICAgIGlmICggJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgICBpZiAoICEkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS52YWwoKSApIHtcbiAgICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpLmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gIFxuICB9KTtcbiAgXG4gIC8vd2hlbiBjbGlja2luZyBvbiBpdGVtIGluIGRyb3Bkb3duIG1lbnVcbiAgJCgnLmpzLXNlbGVjdC1pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgICR0aGlzLmFkZENsYXNzKCdqcy1zZWxlY3RlZCcpO1xuICAgIHZhciB0ZXh0ID0gJHRoaXMudGV4dCgpO1xuICAgIHZhciBncm91cCA9ICR0aGlzLmF0dHIoJ2RhdGEtZ3JvdXAnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bltkYXRhLWdyb3VwPVwiJyArIGdyb3VwICsgJ1wiXScpLnRleHQodGV4dCk7XG4gICAgJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKS5maW5kKCcuanMtc2VsZWN0LWxhYmVsJykuYWRkQ2xhc3MoJ2Zsb2F0ZWQnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5hZGRDbGFzcygnaXNDbG9zZWQnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJsb2NrLmlzT3BlbicpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gICAgJCgnLmpzLWZpbHRlci1oaWRkZW5bZGF0YS1ncm91cD1cIicgKyBncm91cCArICdcIl0nKS52YWwodGV4dCk7ICAgXG4gICAgXG4gICAgdmFyICRibG9jayA9ICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LWJsb2NrJylcbiAgICBpZiAoICRibG9jay5maW5kKCcuanMtZmlsdGVyLWhpZGRlbicpLnByb3AoJ3JlcXVpcmVkJykpIHtcbiAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPPC9zcGFuPlwiXG4gICAgICBpZiAoICEkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS52YWwoKSApIHtcbiAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2lucHV0LXdyYXAnKS5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgICQoJy5qcy1zZWxlY3QtYnRuW2RhdGEtZ3JvdXA9XCInICsgZ3JvdXAgKyAnXCJdJykuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgJCgnLmpzLXNlbGVjdC1idG5bZGF0YS1ncm91cD1cIicgKyBncm91cCArICdcIl0nKS5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBcbiAgLy93aGVuIGNsaWNraW5nIG91dHNpZGUgdGhlIGl0ZW0gaW4gZHJvcGRvd24gb3IgZHJvcGRvd24gYnRuIFxuICBpZiAoICQoJy5qcy1zZWxlY3QtYnRuLmlzT3BlbicpICkge1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1zZWxlY3QtYmxvY2suaXNPcGVuJykubGVuZ3RoICYmICEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5sZW5ndGgpIHtcbiAgICAgICAgJCgnLmpzLXNlbGVjdC1idG4uaXNPcGVuJykuYWRkQ2xhc3MoJ2lzQ2xvc2VkJyk7XG4gICAgICAgICQoJy5qcy1zZWxlY3QtYmxvY2suaXNPcGVuJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpO1xuICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gIFxuICAgICAgICB2YXIgJHRoaXMgPSAkKCcuanMtc2VsZWN0LWJ0bi5pc0Nsb3NlZCcpO1xuICAgICAgICB2YXIgJGJsb2NrID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKTtcbiAgICAgICAgdmFyICRleGlzdCA9ICRibG9jay5maW5kKCcuZmlsdGVyX19lbXB0eScpO1xuICAgICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIlxuICAgICAgICBpZiAoICEkZXhpc3QubGVuZ3RoICkge1xuICAgICAgICAgIGlmICggJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgICAgICAgaWYgKCAhJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykudmFsKCkgKSB7XG4gICAgICAgICAgICAgICRibG9jay5maW5kKCcuZmlsdGVyX19pbnB1dC13cmFwJykuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc0Nsb3NlZCcpLmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICQoJy5qcy1zZWxlY3QtYnRuLmlzQ2xvc2VkJykucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG4gICQoJy5maWx0ZXJfX2lucHV0Jykub24oJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LXdyYXAnKS5maW5kKCcuZmlsdGVyX19mbG9hdGluZy1sYWJlbCcpLmFkZENsYXNzKCdmbG9hdGVkJyk7XG4gIH0pXG4gIFxuICAkKCcuZmlsdGVyX19pbnB1dCcpLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgIHZhciAkcGFyZW50ID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpO1xuICAgIHZhciAkaW5wdXQgPSAkcGFyZW50LmZpbmQoJy5maWx0ZXJfX2lucHV0Jyk7XG4gICAgaWYgKCAhJHRoaXMudmFsKCkgKSB7XG4gICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIjtcbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19mbG9hdGluZy1sYWJlbCcpLnJlbW92ZUNsYXNzKCdmbG9hdGVkJyk7XG4gICAgICBpZiAoICR0aGlzLnByb3AoJ3JlcXVpcmVkJykpIHtcbiAgICAgICAgaWYgKCAhJGlucHV0Lmhhc0NsYXNzKCdmaWx0ZXJfX2RhbmdlcicpICkge1xuICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAkcGFyZW50LmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgfSAgICBcbiAgICAgIH1cbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgdmFyIG5hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpXG4gICAgICBpZiAoIG5hbWUgPT09ICduYW1lJyApIHtcbiAgICAgICAgaWYgKCAkaW5wdXQudmFsKCkuaW5kZXhPZignICcpID4gLTEpIHtcbiAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICBpZiAoICRpbnB1dC5oYXNDbGFzcygnZmlsdGVyX19kYW5nZXInKSApIHtcbiAgICAgICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQtNC+0LvQttC90L4g0YHQvtC00LXRgNC20LDRgtGMINCY0LzRjyDQuCDQpNCw0LzQuNC70LjRjiDRh9C10YDQtdC3INC/0YDQvtCx0LXQuzwvc3Bhbj5cIjtcbiAgICAgICAgICAkaW5wdXQuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgJHBhcmVudC5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIG5hbWUgPT09ICdlbWFpbCcgKSB7XG4gICAgICAgIGlmKCB2YWxpZGF0ZUVtYWlsKCRpbnB1dC52YWwoKSkpIHtcbiAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICBpZiAoICRpbnB1dC5oYXNDbGFzcygnZmlsdGVyX19kYW5nZXInKSApIHtcbiAgICAgICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPkVtYWlsINC00L7Qu9C20LXQvSDRgdC+0LTQtdGA0LbQsNGC0Ywg0LvQsNGC0LjQvdGB0LrQuNC1INCx0YPQutCy0YssINGB0LjQvNCy0L7Qu9GLIEAg0LggLjwvc3Bhbj5cIjtcbiAgICAgICAgICAkaW5wdXQuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgJHBhcmVudC5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIG5hbWUgPT09ICd0ZWwnICkge1xuICAgICAgICBpZiggdmFsaWRhdGVQaG9uZSgkaW5wdXQudmFsKCkpKSB7XG4gICAgICAgICAgJHBhcmVudC5hZGRDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgaWYgKCAkaW5wdXQuaGFzQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJykgKSB7XG4gICAgICAgICAgICAkaW5wdXQucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgICAkcGFyZW50LmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgfSAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7QndC+0LzQtdGAINGC0LXQu9C10YTQvtC90LAg0LTQvtC70LbQtdC9INGB0L7QtNC10YDQttCw0YLRjCDQvtGCIDEwINC00L4gMTQg0YbQuNGE0YA8L3NwYW4+XCI7XG4gICAgICAgICAgJGlucHV0LmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICRwYXJlbnQuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkaW5wdXQucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pOyBcbiAgXG4gIGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwoJGVtYWlsKSB7XG4gICAgdmFyIGVtYWlsUmVnID0gL14oW1xcdy1cXC5dK0AoW1xcdy1dK1xcLikrW1xcdy1dezIsNH0pPyQvO1xuICAgIHJldHVybiBlbWFpbFJlZy50ZXN0KCAkZW1haWwgKTtcbiAgfTtcbiAgXG4gIGZ1bmN0aW9uIHZhbGlkYXRlUGhvbmUoJHBob25lKSB7XG4gICAgdmFyIHBob25lUmVnID0gL14oKDh8XFwrNylbXFwtIF0/KT8oXFwoP1xcZHszfVxcKT9bXFwtIF0/KT9bXFxkXFwtIF17MTAsMTR9JC87XG4gICAgcmV0dXJuIHBob25lUmVnLnRlc3QoICRwaG9uZSApO1xuICB9O1xuICAkKCcuaXRlbV9faW1nJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICB2YXIgaW1nU3JjID0gJCggdGhpcyApLmF0dHIoJ3NyYycpO1xuICBcbiAgICBjb25zb2xlLmxvZyggaW1nU3JjICk7XG4gICAgXG4gICAgJCgnLmltYWdlX19jb250YWluZXInKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKCcgKyBpbWdTcmMgKyAnKScgKTtcbiAgfSk7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJykgIT09IG51bGwpIHtcbiAgICAgIC8vINCk0YPQvdC60YbQuNGPIHltYXBzLnJlYWR5KCkg0LHRg9C00LXRgiDQstGL0LfQstCw0L3QsCwg0LrQvtCz0LTQsFxuICAgICAgLy8g0LfQsNCz0YDRg9C30Y/RgtGB0Y8g0LLRgdC1INC60L7QvNC/0L7QvdC10L3RgtGLIEFQSSwg0LAg0YLQsNC60LbQtSDQutC+0LPQtNCwINCx0YPQtNC10YIg0LPQvtGC0L7QstC+IERPTS3QtNC10YDQtdCy0L4uXG4gICAgICB5bWFwcy5yZWFkeShpbml0KTtcbiAgXG4gICAgICBmdW5jdGlvbiBpbml0KCl7IFxuICAgICAgICAgIC8vINCh0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLRiy4gICAgXG4gICAgICAgICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcIm1hcFwiLCB7XG4gICAgICAgICAgICAgIC8vINCa0L7QvtGA0LTQuNC90LDRgtGLINGG0LXQvdGC0YDQsCDQutCw0YDRgtGLLlxuICAgICAgICAgICAgICAvLyDQn9C+0YDRj9C00L7QuiDQv9C+INGD0LzQvtC70YfQvdC40Y46IMKr0YjQuNGA0L7RgtCwLCDQtNC+0LvQs9C+0YLQsMK7LlxuICAgICAgICAgICAgICAvLyDQp9GC0L7QsdGLINC90LUg0L7Qv9GA0LXQtNC10LvRj9GC0Ywg0LrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC90YLRgNCwINC60LDRgNGC0Ysg0LLRgNGD0YfQvdGD0Y4sXG4gICAgICAgICAgICAgIC8vINCy0L7RgdC/0L7Qu9GM0LfRg9C50YLQtdGB0Ywg0LjQvdGB0YLRgNGD0LzQtdC90YLQvtC8INCe0L/RgNC10LTQtdC70LXQvdC40LUg0LrQvtC+0YDQtNC40L3QsNGCLlxuICAgICAgICAgICAgICBjZW50ZXI6IFs1NS43NiwgMzcuNjRdLFxuICAgICAgICAgICAgICAvLyDQo9GA0L7QstC10L3RjCDQvNCw0YHRiNGC0LDQsdC40YDQvtCy0LDQvdC40Y8uINCU0L7Qv9GD0YHRgtC40LzRi9C1INC30L3QsNGH0LXQvdC40Y86XG4gICAgICAgICAgICAgIC8vINC+0YIgMCAo0LLQtdGB0Ywg0LzQuNGAKSDQtNC+IDE5LlxuICAgICAgICAgICAgICB6b29tOiAxMCxcbiAgICAgICAgICAgICAgY29udHJvbHM6IFtdXG4gICAgICAgICAgfSk7IFxuICBcbiAgICAgICAgICAvLyDQnNC10YLQutCwLCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQsdCw0LvRg9C90LAg0LrQvtGC0L7RgNC+0Lkg0LfQsNCz0YDRg9C20LDQtdGC0YHRjyDRgSDQv9C+0LzQvtGJ0YzRjiBBSkFYLlxuICAgICAgICAgIC8vIHZhciBwbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NS43NjA1ODQsIDM3LjYzOTQ1MF0sIHt9LCB7XG4gICAgICAgICAgLy8gICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcbiAgICAgICAgICAvLyAgICAgaWNvbkltYWdlSHJlZjogJ2ltYWdlcy9tYXBfX2JhbG9vbi5wbmcnLFxuICAgICAgICAgIC8vICAgICBpY29uSW1hZ2VTaXplOiBbNTcsIDUxXSxcbiAgICAgICAgICAvLyAgICAgaWNvbkltYWdlT2Zmc2V0OiBbLTM3LCAtNTBdXG4gICAgICAgICAgLy8gfSk7XG4gIFxuICAgICAgICAgIHZhciBab29tTGF5b3V0ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKFwiPGRpdiBjbGFzcz0nbWFwX196b29tLWJsb2NrIHUtamMtc2J1LWZkLWNvbCc+XCIgK1xuICAgICAgICAgIFwiPGRpdiBpZD0nem9vbS1pbicgY2xhc3M9J21hcF9fem9vbSB1LWpjLWNlIHUtYWktY2UnPlwiICtcbiAgICAgICAgICBcIjxzdmcgY2xhc3M9J3N2Zycgd2lkdGg9JzEycHgnIGhlaWdodD0nMTJweCcgdmlld0JveD0nMCAwIDEyIDEyJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnPlwiICtcbiAgICAgICAgICBcIjxnIGlkPSdHcm91cCcgPjxyZWN0IGlkPSdSZWN0YW5nbGUtMycgeD0nMCcgeT0nNScgd2lkdGg9JzEyJyBoZWlnaHQ9JzInPjwvcmVjdD5cIiArXG4gICAgICAgICAgXCI8cmVjdCBpZD0nUmVjdGFuZ2xlLTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDYuMDAwMDAwLCA2LjAwMDAwMCkgcm90YXRlKDkwLjAwMDAwMCkgdHJhbnNsYXRlKC02LjAwMDAwMCwgLTYuMDAwMDAwKSAnIHg9JzAnIHk9JzUnIHdpZHRoPScxMicgaGVpZ2h0PScyJz48L3JlY3Q+PC9nPlwiICtcbiAgICAgICAgICBcIjwvc3ZnPjwvZGl2Pjxicj5cIiArXG4gICAgICAgICAgXCI8ZGl2IGlkPSd6b29tLW91dCcgY2xhc3M9J21hcF9fem9vbSBtYXBfX3pvb20tLW1pbnVzIHUtamMtY2UgdS1haS1jZSc+XCIgK1xuICAgICAgICAgIFwiPHN2ZyBjbGFzcz0nc3ZnJyB3aWR0aD0nOHB4JyBoZWlnaHQ9JzJweCcgdmlld0JveD0nMCAwIDggMicgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJz5cIiArXG4gICAgICAgICAgXCI8cmVjdCBpZD0nbWFwX19taW51cycgd2lkdGg9JzgnIGhlaWdodD0nMic+PC9yZWN0PlwiICtcbiAgICAgICAgICBcIjwvc3ZnPjwvZGl2PlwiLCB7XG4gICAgICAgICAgICAgIC8vINCf0LXRgNC10L7Qv9GA0LXQtNC10LvRj9C10Lwg0LzQtdGC0L7QtNGLINC80LDQutC10YLQsCwg0YfRgtC+0LHRiyDQstGL0L/QvtC70L3Rj9GC0Ywg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtSDQtNC10LnRgdGC0LLQuNGPXG4gICAgICAgICAgICAgIC8vINC/0YDQuCDQv9C+0YHRgtGA0L7QtdC90LjQuCDQuCDQvtGH0LjRgdGC0LrQtSDQvNCw0LrQtdGC0LAuXG4gICAgICAgICAgICAgIGJ1aWxkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAvLyDQktGL0LfRi9Cy0LDQtdC8INGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDQvNC10YLQvtC0IGJ1aWxkLlxuICAgICAgICAgICAgICAgICAgWm9vbUxheW91dC5zdXBlcmNsYXNzLmJ1aWxkLmNhbGwodGhpcyk7XG4gIFxuICAgICAgICAgICAgICAgICAgLy8g0J/RgNC40LLRj9C30YvQstCw0LXQvCDRhNGD0L3QutGG0LjQuC3QvtCx0YDQsNCx0L7RgtGH0LjQutC4INC6INC60L7QvdGC0LXQutGB0YLRgyDQuCDRgdC+0YXRgNCw0L3Rj9C10Lwg0YHRgdGL0LvQutC4XG4gICAgICAgICAgICAgICAgICAvLyDQvdCwINC90LjRhSwg0YfRgtC+0LHRiyDQv9C+0YLQvtC8INC+0YLQv9C40YHQsNGC0YzRgdGPINC+0YIg0YHQvtCx0YvRgtC40LkuXG4gICAgICAgICAgICAgICAgICB0aGlzLnpvb21JbkNhbGxiYWNrID0geW1hcHMudXRpbC5iaW5kKHRoaXMuem9vbUluLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuem9vbU91dENhbGxiYWNrID0geW1hcHMudXRpbC5iaW5kKHRoaXMuem9vbU91dCwgdGhpcyk7XG4gIFxuICAgICAgICAgICAgICAgICAgLy8g0J3QsNGH0LjQvdCw0LXQvCDRgdC70YPRiNCw0YLRjCDQutC70LjQutC4INC90LAg0LrQvdC+0L/QutCw0YUg0LzQsNC60LXRgtCwLlxuICAgICAgICAgICAgICAgICAgJCgnI3pvb20taW4nKS5iaW5kKCdjbGljaycsIHRoaXMuem9vbUluQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgJCgnI3pvb20tb3V0JykuYmluZCgnY2xpY2snLCB0aGlzLnpvb21PdXRDYWxsYmFjayk7XG4gICAgICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgICAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgLy8g0KHQvdC40LzQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQutC70LjQutC+0LIuXG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1pbicpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21JbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21PdXRDYWxsYmFjayk7XG4gIFxuICAgICAgICAgICAgICAgICAgLy8g0JLRi9C30YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBjbGVhci5cbiAgICAgICAgICAgICAgICAgIFpvb21MYXlvdXQuc3VwZXJjbGFzcy5jbGVhci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAgICAgem9vbUluOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXREYXRhKCkuY29udHJvbC5nZXRNYXAoKTtcbiAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgKyAxLCB7Y2hlY2tab29tUmFuZ2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgICAgIHpvb21PdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLmdldERhdGEoKS5jb250cm9sLmdldE1hcCgpO1xuICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSAtIDEsIHtjaGVja1pvb21SYW5nZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gIFxuICAgICAgICAgIC8vIHZhciBjdHJsID0gbXlNYXAuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpLm9wdGlvbnMuZ2V0KCdsZWZ0Jyk7XG4gICAgICAgICAgLy8gdmFyIG9iaiA9IG15TWFwLmNvbnRyb2xzLmdldCgnem9vbUNvbnRyb2wnKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhteU1hcCwgJ3pvb21Db250cm9sJywgY3RybCwgb2JqKTtcbiAgXG4gICAgICAgICAgJCggd2luZG93ICkub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkgeyAgIFxuICAgICAgICAgIC8v0L7Qv9GA0LXQtNC10LvRj9C10Lwg0LLQtdGA0YLQuNC60LDQu9GM0L3Ri9C5INGG0LXQvdGC0YAg0LrQsNGA0YLRi1xuICAgICAgICAgICAgICB2YXIgY2VudGVyUG9zID0gKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFwiKS5vZmZzZXRIZWlnaHQgLyAyICkgLSA1MDsgICAgXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNlbnRlclBvcyk7ICBcbiAgXG4gICAgICAgICAgICAgIC8v0LfQsNC00LDQtdC8INGB0LLQvtC50YHRgtCy0LAg0LrQvdC+0L/QvtC6INC30YPQvNCwXG4gICAgICAgICAgICAgIC8vIHZhciB6b29tQ29udHJvbCA9IG5ldyB5bWFwcy5jb250cm9sLlpvb21Db250cm9sKHtcbiAgICAgICAgICAgICAgLy8gICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgLy8gICAgICAgICBsYXlvdXQ6IFpvb21MYXlvdXQsXG4gICAgICAgICAgICAgIC8vICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbGVmdDogMzAsXG4gICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRvcDogY2VudGVyUG9zXG4gICAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAvLyB9KTtcbiAgXG4gICAgICAgICAgICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgnem9vbUNvbnRyb2wnKTtcbiAgICAgICAgICAgICAgLy8g0KHQvtC30LTQsNC00LjQvCDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60LjQuSDQvNCw0LrQtdGCINC/0L7Qu9C30YPQvdC60LAg0LzQsNGB0YjRgtCw0LHQsC5cbiAgICAgICAgICAgICAgbXlNYXAuY29udHJvbHMuYWRkKCd6b29tQ29udHJvbCcsIHtcbiAgICAgICAgICAgICAgICAgIGxheW91dDogWm9vbUxheW91dCxcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbGVmdDogJzMwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogY2VudGVyUG9zXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pOyAgICAgICAgXG4gICAgICAgICAgfSkucmVzaXplKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gbXlNYXAuZ2VvT2JqZWN0cy5hZGQocGxhY2VtYXJrKTtcbiAgXG4gICAgICAgICAgZnVuY3Rpb24gbWFwU2VydmVyRGF0YShzZXJ2ZXJEYXRhKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICBmZWF0dXJlczogc2VydmVyRGF0YS5tYXAoZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJGZWF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQb2ludFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbb2JqLmxhdCwgb2JqLmxvbmddIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25DYXB0aW9uOiBvYmouc2VyaWFsTnVtYmVyIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9uczogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHByZXNldDogZ2V0T2JqZWN0UHJlc2V0KG9iaikgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgXG4gICAgICAgICAgLy8gZnVuY3Rpb24gZ2V0T2JqZWN0UHJlc2V0KG9iaikge1xuICAgICAgICAgIC8vICAgICByZXR1cm4gb2JqLmlzQWN0aXZlXG4gICAgICAgICAgLy8gICAgICAgICA/ICdpc2xhbmRzI2JsdWVDaXJjbGVEb3RJY29uV2l0aENhcHRpb24nXG4gICAgICAgICAgLy8gICAgICAgICA6ICdpc2xhbmRzI3JlZENpcmNsZURvdEljb25XaXRoQ2FwdGlvbic7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgICAgXG4gICAgICBcbiAgICAgICAgICBmdW5jdGlvbiBsb2FkTGlzdCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKFwiLi4vanMvdGVzdC5qc29uXCIpXG4gICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXBTZXJ2ZXJEYXRhKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgXG4gICAgICAgICAgdmFyIG9iamVjdE1hbmFnZXIgPSBuZXcgeW1hcHMuT2JqZWN0TWFuYWdlcih7XG4gICAgICAgICAgICAgIGNsdXN0ZXJpemU6IHRydWUsXG4gICAgICAgICAgICAgIGdyaWRTaXplOiA2NCxcbiAgICAgICAgICAgICAgY2x1c3Rlckljb25MYXlvdXQ6ICdkZWZhdWx0I3BpZUNoYXJ0JyxcbiAgICAgICAgICAgICAgLy8gY2x1c3Rlckljb25JbWFnZUhyZWY6ICdpbWFnZXMvbWFwX19iYWxvb24ucG5nJyxcbiAgICAgICAgICAgICAgY2x1c3RlckRpc2FibGVDbGlja1pvb206IGZhbHNlXG4gICAgICAgICAgICAgIC8vIGdlb09iamVjdE9wZW5CYWxsb29uT25DbGljazogdHJ1ZSxcbiAgICAgICAgICAgICAgLy8gZ2VvT2JqZWN0SGlkZUljb25PbkJhbGxvb25PcGVuOiB0cnVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIG9iamVjdE1hbmFnZXIuY2x1c3RlcnMub3B0aW9ucy5zZXQoe1xuICAgICAgICAgIC8vICAgICBjbHVzdGVySWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgIC8vICAgICBjbHVzdGVySWNvbkltYWdlSHJlZjogJ2ltYWdlcy9tYXBfX2JhbG9vbi5wbmcnLFxuICAgICAgICAgIC8vICAgICBjbHVzdGVySWNvbkltYWdlU2l6ZTogWzU3LCA1MV0sXG4gICAgICAgICAgLy8gICAgIGNsdXN0ZXJJY29uSW1hZ2VPZmZzZXQ6IFstMzcsIC01MF1cbiAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2FkTGlzdCgpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICBvYmplY3RNYW5hZ2VyLmFkZChkYXRhKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBcbiAgICAgICAgICBvYmplY3RNYW5hZ2VyLm9iamVjdHMub3B0aW9ucy5zZXQoe1xuICAgICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgICAgICAgIGljb25JbWFnZUhyZWY6ICdpbWFnZXMvbWFwX19iYWxvb24ucG5nJyxcbiAgICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzU3LCA1MV0sXG4gICAgICAgICAgICAgIGljb25JbWFnZU9mZnNldDogWy0zNywgLTUwXVxuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChvYmplY3RNYW5hZ2VyKTtcbiAgICAgIH1cbiAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbS1tYXAnKSAhPT0gbnVsbCkge1xuICAgICAgeW1hcHMucmVhZHkoaW5pdCk7XG4gIFxuICAgICAgdmFyIGxuZyA9ICQoJyNpdGVtLW1hcCcpLmF0dHIoJ2RhdGEtbG5nJyk7XG4gICAgICB2YXIgbGF0ID0gJCgnI2l0ZW0tbWFwJykuYXR0cignZGF0YS1sYXQnKTtcbiAgXG4gICAgICBmdW5jdGlvbiBpbml0KCl7IFxuICAgICAgICAgIHZhciBteU1hcCA9IG5ldyB5bWFwcy5NYXAoXCJpdGVtLW1hcFwiLCB7XG4gICAgICAgICAgICAgIGNlbnRlcjogW2xuZywgbGF0XSxcbiAgICAgICAgICAgICAgem9vbTogMTMsXG4gICAgICAgICAgICAgIGNvbnRyb2xzOiBbXVxuICAgICAgICAgIH0pOyBcbiAgXG4gICAgICAgICAgdmFyIHBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoW2xuZywgbGF0XSwge30sIHtcbiAgICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnaW1hZ2VzL21hcF9fYmFsb29uLnBuZycsXG4gICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFs1NywgNTFdLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMzcsIC01MF1cbiAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgdmFyIFpvb21MYXlvdXQgPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3MoXCI8ZGl2IGNsYXNzPSdtYXBfX3pvb20tYmxvY2sgdS1qYy1zYnUtZmQtY29sJz5cIiArXG4gICAgICAgICAgXCI8ZGl2IGlkPSd6b29tLWluJyBjbGFzcz0nbWFwX196b29tIHUtamMtY2UgdS1haS1jZSc+XCIgK1xuICAgICAgICAgIFwiPHN2ZyBjbGFzcz0nc3ZnJyB3aWR0aD0nMTJweCcgaGVpZ2h0PScxMnB4JyB2aWV3Qm94PScwIDAgMTIgMTInIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+XCIgK1xuICAgICAgICAgIFwiPGcgaWQ9J0dyb3VwJyA+PHJlY3QgaWQ9J1JlY3RhbmdsZS0zJyB4PScwJyB5PSc1JyB3aWR0aD0nMTInIGhlaWdodD0nMic+PC9yZWN0PlwiICtcbiAgICAgICAgICBcIjxyZWN0IGlkPSdSZWN0YW5nbGUtMycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNi4wMDAwMDAsIDYuMDAwMDAwKSByb3RhdGUoOTAuMDAwMDAwKSB0cmFuc2xhdGUoLTYuMDAwMDAwLCAtNi4wMDAwMDApICcgeD0nMCcgeT0nNScgd2lkdGg9JzEyJyBoZWlnaHQ9JzInPjwvcmVjdD48L2c+XCIgK1xuICAgICAgICAgIFwiPC9zdmc+PC9kaXY+PGJyPlwiICtcbiAgICAgICAgICBcIjxkaXYgaWQ9J3pvb20tb3V0JyBjbGFzcz0nbWFwX196b29tIG1hcF9fem9vbS0tbWludXMgdS1qYy1jZSB1LWFpLWNlJz5cIiArXG4gICAgICAgICAgXCI8c3ZnIGNsYXNzPSdzdmcnIHdpZHRoPSc4cHgnIGhlaWdodD0nMnB4JyB2aWV3Qm94PScwIDAgOCAyJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnPlwiICtcbiAgICAgICAgICBcIjxyZWN0IGlkPSdtYXBfX21pbnVzJyB3aWR0aD0nOCcgaGVpZ2h0PScyJz48L3JlY3Q+XCIgK1xuICAgICAgICAgIFwiPC9zdmc+PC9kaXY+XCIsIHtcbiAgICAgICAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIFpvb21MYXlvdXQuc3VwZXJjbGFzcy5idWlsZC5jYWxsKHRoaXMpO1xuICBcbiAgICAgICAgICAgICAgICAgIHRoaXMuem9vbUluQ2FsbGJhY2sgPSB5bWFwcy51dGlsLmJpbmQodGhpcy56b29tSW4sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgdGhpcy56b29tT3V0Q2FsbGJhY2sgPSB5bWFwcy51dGlsLmJpbmQodGhpcy56b29tT3V0LCB0aGlzKTtcbiAgXG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1pbicpLmJpbmQoJ2NsaWNrJywgdGhpcy56b29tSW5DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1vdXQnKS5iaW5kKCdjbGljaycsIHRoaXMuem9vbU91dENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1pbicpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21JbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21PdXRDYWxsYmFjayk7XG4gIFxuICAgICAgICAgICAgICAgICAgWm9vbUxheW91dC5zdXBlcmNsYXNzLmNsZWFyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgICAgICB6b29tSW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLmdldERhdGEoKS5jb250cm9sLmdldE1hcCgpO1xuICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSArIDEsIHtjaGVja1pvb21SYW5nZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAgICAgem9vbU91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0RGF0YSgpLmNvbnRyb2wuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpIC0gMSwge2NoZWNrWm9vbVJhbmdlOiB0cnVlfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgJCggd2luZG93ICkub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkgeyAgIFxuICAgICAgICAgICAgICB2YXIgY2VudGVyUG9zID0gKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIml0ZW0tbWFwXCIpLm9mZnNldEhlaWdodCAvIDIgKSAtIDUwOyAgICBcbiAgXG4gICAgICAgICAgICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgnem9vbUNvbnRyb2wnKTtcbiAgICAgICAgICAgICAgbXlNYXAuY29udHJvbHMuYWRkKCd6b29tQ29udHJvbCcsIHtcbiAgICAgICAgICAgICAgICAgIGxheW91dDogWm9vbUxheW91dCxcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbGVmdDogJzMwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogY2VudGVyUG9zXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pOyAgICAgICAgXG4gICAgICAgICAgfSkucmVzaXplKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQocGxhY2VtYXJrKTtcbiAgICAgIH1cbiAgfVxuICAkKCcjbW9kYWwtY2xvc2UnKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gIFxuICAgICR0aGlzLmNsb3Nlc3QoJy5qcy1tb2RhbCcpLnJlbW92ZUNsYXNzKCdpc09wZW5lZCcpO1xuICB9KTtcbiAgJCgnLmpzLW1vZGFsX19idG4nKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdmFsID0gJCggdGhpcyApLmF0dHIoJ2RhdGEtbW9kYWwnKTtcbiAgICBcbiAgICAvLyB2YXIgc3R5bGVzID0ge1xuICAgIC8vICAgZGlzcGxheSA6IFwiYmxvY2tcIixcbiAgICAvLyAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAvLyAgIHRvcDogLWhlYWRlSGVpZ2h0XG4gICAgLy8gfTtcbiAgICBcbiAgICAkKCcjJyt2YWwpLmFkZENsYXNzKCdpc09wZW5lZCcpO1xuICB9KTtcbiAgJCggd2luZG93ICkub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkgeyAgIFxuICAgIGlmICgkKCcuc2Nyb2xsYWJsZS1pbm5lcicpICE9PSBudWxsKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICAkKCcuc2Nyb2xsYWJsZS1pbm5lcicpLmxlbmd0aDsgaSArKykge1xuICAgICAgICB2YXIgc2NySW4gPSAkKCcuc2Nyb2xsYWJsZS1pbm5lcicpW2ldO1xuICAgICAgICB2YXIgc2NyRWwgPSAkKHNjckluKS5hdHRyKCdkYXRhLWlzY3JvbGwnKTtcbiAgICAgICAgdmFyIHNjclBhciA9ICQoJy5zY3JvbGxhYmxlLXBhcmVudFtkYXRhLXBzY3JvbGw9XCInICsgc2NyRWwgKyAnXCJdJylcbiAgICAgICAgdmFyIHNjckhlaWdodCA9IHNjckluLmNsaWVudEhlaWdodDtcbiAgICAgICAgLy8gY29uc29sZS5sb2coc2NySGVpZ2h0KTtcbiAgICAgICAgc2NyUGFyLmhlaWdodChzY3JIZWlnaHQpO1xuICAgICAgfTtcbiAgICB9O1xuICB9KS5yZXNpemUoKTtcbiAgJCh3aW5kb3cpLm9uKFwic2Nyb2xsIGxvYWRcIixmdW5jdGlvbigpe1xuICAgIHZhciBzdGlja2Jsb2NrID0gJCgnLmpzLWhlYWRlcicpO1xuICBcbiAgICBpZiAoICQod2luZG93KS5zY3JvbGxUb3AoKSA+PSA2MCkge1xuICAgICAgc3RpY2tibG9jay5hZGRDbGFzcygnc3RpY2tlZCcpOyBcbiAgICB9IGVsc2Uge1xuICAgICAgc3RpY2tibG9jay5yZW1vdmVDbGFzcygnc3RpY2tlZCcpOyBcbiAgICB9O1xuICB9KVxuICAkKCcuanMtdGFiX19pdGVtJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcudGFiJykuZmluZCgnLmpzLXRhYl9faXRlbScpLnJlbW92ZUNsYXNzKCdqcy1hY3RpdmUnKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnanMtYWN0aXZlJyk7XG4gIFxuICAgIHZhciB2YWwgPSAkdGhpcy5hdHRyKCdkYXRhLXRhYicpOyAgICBcbiAgXG4gICAgJHRoaXMuY2xvc2VzdCgnLnRhYicpLmZpbmQoJy50YWJfX2Jsb2NrJykucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgICQoJ1tkYXRhLWNvbnRlbnQ9XCInK3ZhbCsnXCJdJykuYWRkQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICB9KTtcbiAgJCggXCIuanMtdG9nZ2xlLWl0ZW1cIiApLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoIHRoaXMgKS50b2dnbGVDbGFzcyggXCJpc0FjdGl2ZVwiICk7XG4gIH0pO1xufSkiXX0=
