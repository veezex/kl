$(document).ready(function(){if(function(s){"use strict";s.fn.emulateTransitionEnd=function(t){var e=!1,i=this;s(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||s(i).trigger(s.support.transition.end)},t),this},s(function(){s.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),s.support.transition&&(s.event.special.bsTransitionEnd={bindType:s.support.transition.end,delegateType:s.support.transition.end,handle:function(t){if(s(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(h){"use strict";var u=function(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))};function o(n){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),i=h.extend({},u.DEFAULTS,t.data(),"object"==typeof n&&n),s="string"==typeof n?n:i.slide;e||t.data("bs.carousel",e=new u(this,i)),"number"==typeof n?e.to(n):s?e[s]():i.interval&&e.pause().cycle()})}u.VERSION="3.3.5",u.TRANSITION_DURATION=600,u.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},u.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},u.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},u.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},u.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var s=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(s)},u.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},u.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},u.prototype.next=function(){if(!this.sliding)return this.slide("next")},u.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},u.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),s=e||this.getItemForDirection(t,i),n=this.interval,a="next"==t?"left":"right",o=this;if(s.hasClass("active"))return this.sliding=!1;var r=s[0],l=h.Event("slide.bs.carousel",{relatedTarget:r,direction:a});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=h(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var d=h.Event("slid.bs.carousel",{relatedTarget:r,direction:a});return h.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(a),s.addClass(a),i.one("bsTransitionEnd",function(){s.removeClass([t,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(d)},0)}).emulateTransitionEnd(u.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),n&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=o,h.fn.carousel.Constructor=u,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this};var e=function(t){var e,i=h(this),s=h(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var n=h.extend({},s.data(),i.data()),a=i.attr("data-slide-to");a&&(n.interval=!1),o.call(s,n),a&&s.data("bs.carousel").to(a),t.preventDefault()}};h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);o.call(t,t.data())})})}(jQuery),$(".carousel-item-image .item").each(function(){for(var t=$(this),e=1;e<5;e++)(t=t.next()).length||(t=$(this).siblings(":first")),t.children(":first-child").clone().addClass("cloneditem-"+e).appendTo($(this))}),$(".carousel").carousel({interval:0}),$("#carousel-item-image").carousel({interval:0}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(o){"use strict";var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.$trigger=o('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var e,i=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return o(i)}function l(s){return this.each(function(){var t=o(this),e=t.data("bs.collapse"),i=o.extend({},r.DEFAULTS,t.data(),"object"==typeof s&&s);!e&&i.toggle&&/show|hide/.test(s)&&(i.toggle=!1),e||t.data("bs.collapse",e=new r(this,i)),"string"==typeof s&&e[s]()})}r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".collapse__tab").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var i=o.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){e&&e.length&&(l.call(e,"hide"),t||e.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var n=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!o.support.transition)return n.call(this);var a=o.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",o.proxy(n,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[s](this.$element[0][a])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=o.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!o.support.transition)return i.call(this);this.$element[e](0).one("bsTransitionEnd",o.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return o(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(o.proxy(function(t,e){var i=o(e);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=o.fn.collapse;o.fn.collapse=l,o.fn.collapse.Constructor=r,o.fn.collapse.noConflict=function(){return o.fn.collapse=t,this},o(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=o(this);e.attr("data-target")||t.preventDefault();var i=n(e),s=i.data("bs.collapse")?"toggle":e.data();l.call(i,s)})}(jQuery),$(".js-hide-filter").on("click",function(t){t.preventDefault();var e=$(this);$(".filter__input-group--add").hasClass("js-isVisible")?($(".filter__input-group--add").removeClass("js-isVisible"),e.removeClass("iSopened")):($(".filter__input-group--add").addClass("js-isVisible"),e.addClass("iSopened"))}),$(".js-select-btn").on("click",function(){$(".js-select-block").hasClass("isOpen")?$(".js-select-block").removeClass("isOpen"):$(".js-select-block").addClass("isOpen")}),$(".js-select-item").on("click",function(){var t=$(this);t.addClass("js-selected");var e=t.text(),i=t.attr("data-group");$('.js-select-btn[data-group="'+i+'"]').text(e),$(".js-select-label").addClass("floated"),$(".js-select-block").removeClass("isOpen")}),$(".item__img").click(function(){var t=$(this).attr("src");console.log(t),$(".image__container").css("background-image","url("+t+")")}),null!==document.getElementById("map")){ymaps.ready(function(){var e=new ymaps.Map("map",{center:[55.76,37.64],zoom:10,controls:[]}),t=new ymaps.Placemark([55.760584,37.63945],{},{iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[57,51],iconImageOffset:[-37,-50]}),i=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div><br><div id='zoom-out' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div>",{build:function(){i.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()-1,{checkZoomRange:!0})}});$(window).on("resize",function(){var t=document.getElementById("map").offsetHeight/2-50;e.controls.remove("zoomControl"),e.controls.add("zoomControl",{layout:i,position:{left:"30px",top:t}})}).resize(),e.geoObjects.add(t);var s=new ymaps.ObjectManager({clusterize:!0,gridSize:64,clusterIconLayout:"default#pieChart",clusterDisableClickZoom:!1});fetch("../js/test.json").then(function(t){return t.json()}).then(function(t){return{type:"FeatureCollection",features:t.map(function(t,e){return{id:e,type:"Feature",geometry:{type:"Point",coordinates:[t.lat,t.long]},properties:{iconCaption:t.serialNumber}}})}}).then(function(t){s.add(t)}),s.objects.options.set({iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[57,51],iconImageOffset:[-37,-50]}),e.geoObjects.add(s)})}$("#modal-close").on("click",function(t){$(this).closest(".js-modal").removeClass("isOpened")}),$(".js-modal__btn").on("click",function(t){var e=$(this).attr("data-modal");$("#"+e).addClass("isOpened")}),$(".js-tab__item").on("click",function(t){var e=$(this);e.closest(".tab").find(".js-tab__item").removeClass("js-active"),e.addClass("js-active");var i=e.attr("data-tab");e.closest(".tab").find(".tab__block").removeClass("js-active"),$('[data-content="'+i+'"]').addClass("js-active")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJmbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiZHVyYXRpb24iLCJjYWxsZWQiLCIkZWwiLCJ0aGlzIiwib25lIiwic2V0VGltZW91dCIsInRyaWdnZXIiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsImVuZCIsImVsIiwiY3JlYXRlRWxlbWVudCIsInRyYW5zRW5kRXZlbnROYW1lcyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJuYW1lIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ0cmFuc2l0aW9uRW5kIiwiZXZlbnQiLCJzcGVjaWFsIiwiYnNUcmFuc2l0aW9uRW5kIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJlIiwidGFyZ2V0IiwiaXMiLCJoYW5kbGVPYmoiLCJoYW5kbGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJqUXVlcnkiLCJDYXJvdXNlbCIsImVsZW1lbnQiLCJvcHRpb25zIiwiJGVsZW1lbnQiLCIkaW5kaWNhdG9ycyIsImZpbmQiLCJwYXVzZWQiLCJzbGlkaW5nIiwiaW50ZXJ2YWwiLCIkYWN0aXZlIiwiJGl0ZW1zIiwia2V5Ym9hcmQiLCJvbiIsInByb3h5Iiwia2V5ZG93biIsInBhdXNlIiwiZG9jdW1lbnRFbGVtZW50IiwiY3ljbGUiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwiZXh0ZW5kIiwiREVGQVVMVFMiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiVkVSU0lPTiIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJ3cmFwIiwicHJvdG90eXBlIiwidGVzdCIsInRhZ05hbWUiLCJ3aGljaCIsInByZXYiLCJuZXh0IiwicHJldmVudERlZmF1bHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJpdGVtIiwicGFyZW50IiwiY2hpbGRyZW4iLCJpbmRleCIsImdldEl0ZW1Gb3JEaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJhY3RpdmUiLCJhY3RpdmVJbmRleCIsImxlbmd0aCIsIml0ZW1JbmRleCIsImVxIiwicG9zIiwidGhhdCIsInR5cGUiLCIkbmV4dCIsImlzQ3ljbGluZyIsImhhc0NsYXNzIiwicmVsYXRlZFRhcmdldCIsInNsaWRlRXZlbnQiLCJFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsInJlbW92ZUNsYXNzIiwiJG5leHRJbmRpY2F0b3IiLCJhZGRDbGFzcyIsInNsaWRFdmVudCIsIm9mZnNldFdpZHRoIiwiam9pbiIsIm9sZCIsImNhcm91c2VsIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiY2xpY2tIYW5kbGVyIiwiaHJlZiIsIiR0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsInNsaWRlSW5kZXgiLCJjYWxsIiwid2luZG93IiwiJGNhcm91c2VsIiwiaXRlbVRvQ2xvbmUiLCJpIiwic2libGluZ3MiLCJjbG9uZSIsImFwcGVuZFRvIiwiRXJyb3IiLCJ2ZXJzaW9uIiwianF1ZXJ5Iiwic3BsaXQiLCJDb2xsYXBzZSIsIiR0cmlnZ2VyIiwiaWQiLCJ0cmFuc2l0aW9uaW5nIiwiJHBhcmVudCIsImdldFBhcmVudCIsImFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyIsInRvZ2dsZSIsImdldFRhcmdldEZyb21UcmlnZ2VyIiwiZGltZW5zaW9uIiwic2hvdyIsImFjdGl2ZXNEYXRhIiwiYWN0aXZlcyIsInN0YXJ0RXZlbnQiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiaXNPcGVuIiwidG9nZ2xlQ2xhc3MiLCJjb2xsYXBzZSIsInRleHQiLCJncm91cCIsImNsaWNrIiwiaW1nU3JjIiwiY29uc29sZSIsImxvZyIsImNzcyIsImdldEVsZW1lbnRCeUlkIiwieW1hcHMiLCJteU1hcCIsIk1hcCIsImNlbnRlciIsInpvb20iLCJjb250cm9scyIsInBsYWNlbWFyayIsIlBsYWNlbWFyayIsImljb25MYXlvdXQiLCJpY29uSW1hZ2VIcmVmIiwiaWNvbkltYWdlU2l6ZSIsImljb25JbWFnZU9mZnNldCIsIlpvb21MYXlvdXQiLCJ0ZW1wbGF0ZUxheW91dEZhY3RvcnkiLCJjcmVhdGVDbGFzcyIsImJ1aWxkIiwic3VwZXJjbGFzcyIsInpvb21JbkNhbGxiYWNrIiwidXRpbCIsImJpbmQiLCJ6b29tSW4iLCJ6b29tT3V0Q2FsbGJhY2siLCJ6b29tT3V0IiwiY2xlYXIiLCJ1bmJpbmQiLCJtYXAiLCJnZXREYXRhIiwiY29udHJvbCIsImdldE1hcCIsInNldFpvb20iLCJnZXRab29tIiwiY2hlY2tab29tUmFuZ2UiLCJjZW50ZXJQb3MiLCJyZW1vdmUiLCJhZGQiLCJsYXlvdXQiLCJwb3NpdGlvbiIsImxlZnQiLCJ0b3AiLCJyZXNpemUiLCJnZW9PYmplY3RzIiwib2JqZWN0TWFuYWdlciIsIk9iamVjdE1hbmFnZXIiLCJjbHVzdGVyaXplIiwiZ3JpZFNpemUiLCJjbHVzdGVySWNvbkxheW91dCIsImNsdXN0ZXJEaXNhYmxlQ2xpY2tab29tIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiZmVhdHVyZXMiLCJvYmoiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwibGF0IiwibG9uZyIsInByb3BlcnRpZXMiLCJpY29uQ2FwdGlvbiIsInNlcmlhbE51bWJlciIsIm9iamVjdHMiLCJzZXQiLCJjbG9zZXN0IiwidmFsIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQWdWaEIsR0F0VUMsU0FBVUYsR0FDVCxhQXlCQUEsRUFBRUcsR0FBR0MscUJBQXVCLFNBQVVDLEdBQ3BDLElBQUlDLEdBQVMsRUFDVEMsRUFBTUMsS0FDVlIsRUFBRVEsTUFBTUMsSUFBSSxrQkFBbUIsV0FBY0gsR0FBUyxJQUd0RCxPQURBSSxXQURlLFdBQW1CSixHQUFRTixFQUFFTyxHQUFLSSxRQUFRWCxFQUFFWSxRQUFRQyxXQUFXQyxNQUN6RFQsR0FDZEcsTUFHVFIsRUFBRSxXQUNBQSxFQUFFWSxRQUFRQyxXQTlCWixXQUNFLElBQUlFLEVBQUtkLFNBQVNlLGNBQWMsYUFFNUJDLEVBQXFCLENBQ3ZCQyxpQkFBbUIsc0JBQ25CQyxjQUFtQixnQkFDbkJDLFlBQW1CLGdDQUNuQlAsV0FBbUIsaUJBR3JCLElBQUssSUFBSVEsS0FBUUosRUFDZixRQUF1QkssSUFBbkJQLEVBQUdRLE1BQU1GLEdBQ1gsTUFBTyxDQUFFUCxJQUFLRyxFQUFtQkksSUFJckMsT0FBTyxFQWNnQkcsR0FFbEJ4QixFQUFFWSxRQUFRQyxhQUVmYixFQUFFeUIsTUFBTUMsUUFBUUMsZ0JBQWtCLENBQ2hDQyxTQUFVNUIsRUFBRVksUUFBUUMsV0FBV0MsSUFDL0JlLGFBQWM3QixFQUFFWSxRQUFRQyxXQUFXQyxJQUNuQ2dCLE9BQVEsU0FBVUMsR0FDaEIsR0FBSS9CLEVBQUUrQixFQUFFQyxRQUFRQyxHQUFHekIsTUFBTyxPQUFPdUIsRUFBRUcsVUFBVUMsUUFBUUMsTUFBTTVCLEtBQU02QixnQkE1Q3hFLENBaURDQyxRQVdELFNBQVV0QyxHQUNULGFBS0EsSUFBSXVDLEVBQVcsU0FBVUMsRUFBU0MsR0FDaENqQyxLQUFLa0MsU0FBYzFDLEVBQUV3QyxHQUNyQmhDLEtBQUttQyxZQUFjbkMsS0FBS2tDLFNBQVNFLEtBQUssd0JBQ3RDcEMsS0FBS2lDLFFBQWNBLEVBQ25CakMsS0FBS3FDLE9BQWMsS0FDbkJyQyxLQUFLc0MsUUFBYyxLQUNuQnRDLEtBQUt1QyxTQUFjLEtBQ25CdkMsS0FBS3dDLFFBQWMsS0FDbkJ4QyxLQUFLeUMsT0FBYyxLQUVuQnpDLEtBQUtpQyxRQUFRUyxVQUFZMUMsS0FBS2tDLFNBQVNTLEdBQUcsc0JBQXVCbkQsRUFBRW9ELE1BQU01QyxLQUFLNkMsUUFBUzdDLE9BRWpFLFNBQXRCQSxLQUFLaUMsUUFBUWEsU0FBc0IsaUJBQWtCckQsU0FBU3NELGtCQUFvQi9DLEtBQUtrQyxTQUNwRlMsR0FBRyx5QkFBMEJuRCxFQUFFb0QsTUFBTTVDLEtBQUs4QyxNQUFPOUMsT0FDakQyQyxHQUFHLHlCQUEwQm5ELEVBQUVvRCxNQUFNNUMsS0FBS2dELE1BQU9oRCxRQWtKdEQsU0FBU2lELEVBQU9DLEdBQ2QsT0FBT2xELEtBQUttRCxLQUFLLFdBQ2YsSUFBSUMsRUFBVTVELEVBQUVRLE1BQ1pxRCxFQUFVRCxFQUFNQyxLQUFLLGVBQ3JCcEIsRUFBVXpDLEVBQUU4RCxPQUFPLEdBQUl2QixFQUFTd0IsU0FBVUgsRUFBTUMsT0FBeUIsaUJBQVZILEdBQXNCQSxHQUNyRk0sRUFBMkIsaUJBQVZOLEVBQXFCQSxFQUFTakIsRUFBUXdCLE1BRXRESixHQUFNRCxFQUFNQyxLQUFLLGNBQWdCQSxFQUFPLElBQUl0QixFQUFTL0IsS0FBTWlDLElBQzNDLGlCQUFWaUIsRUFBb0JHLEVBQUtLLEdBQUdSLEdBQzlCTSxFQUFRSCxFQUFLRyxLQUNidkIsRUFBUU0sVUFBVWMsRUFBS1AsUUFBUUUsVUF6SjVDakIsRUFBUzRCLFFBQVcsUUFFcEI1QixFQUFTNkIsb0JBQXNCLElBRS9CN0IsRUFBU3dCLFNBQVcsQ0FDbEJoQixTQUFVLElBQ1ZPLE1BQU8sUUFDUGUsTUFBTSxFQUNObkIsVUFBVSxHQUdaWCxFQUFTK0IsVUFBVWpCLFFBQVUsU0FBVXRCLEdBQ3JDLElBQUksa0JBQWtCd0MsS0FBS3hDLEVBQUVDLE9BQU93QyxTQUFwQyxDQUNBLE9BQVF6QyxFQUFFMEMsT0FDUixLQUFLLEdBQUlqRSxLQUFLa0UsT0FBUSxNQUN0QixLQUFLLEdBQUlsRSxLQUFLbUUsT0FBUSxNQUN0QixRQUFTLE9BR1g1QyxFQUFFNkMsbUJBR0pyQyxFQUFTK0IsVUFBVWQsTUFBUSxTQUFVekIsR0FTbkMsT0FSQUEsSUFBTXZCLEtBQUtxQyxRQUFTLEdBRXBCckMsS0FBS3VDLFVBQVk4QixjQUFjckUsS0FBS3VDLFVBRXBDdkMsS0FBS2lDLFFBQVFNLFdBQ1B2QyxLQUFLcUMsU0FDTHJDLEtBQUt1QyxTQUFXK0IsWUFBWTlFLEVBQUVvRCxNQUFNNUMsS0FBS21FLEtBQU1uRSxNQUFPQSxLQUFLaUMsUUFBUU0sV0FFbEV2QyxNQUdUK0IsRUFBUytCLFVBQVVTLGFBQWUsU0FBVUMsR0FFMUMsT0FEQXhFLEtBQUt5QyxPQUFTK0IsRUFBS0MsU0FBU0MsU0FBUyxTQUM5QjFFLEtBQUt5QyxPQUFPa0MsTUFBTUgsR0FBUXhFLEtBQUt3QyxVQUd4Q1QsRUFBUytCLFVBQVVjLG9CQUFzQixTQUFVQyxFQUFXQyxHQUM1RCxJQUFJQyxFQUFjL0UsS0FBS3VFLGFBQWFPLEdBR3BDLElBRjZCLFFBQWJELEdBQXVDLElBQWhCRSxHQUNWLFFBQWJGLEdBQXVCRSxHQUFnQi9FLEtBQUt5QyxPQUFPdUMsT0FBUyxLQUMzRGhGLEtBQUtpQyxRQUFRNEIsS0FBTSxPQUFPaUIsRUFDM0MsSUFDSUcsR0FBYUYsR0FEUSxRQUFiRixHQUF1QixFQUFJLElBQ0M3RSxLQUFLeUMsT0FBT3VDLE9BQ3BELE9BQU9oRixLQUFLeUMsT0FBT3lDLEdBQUdELElBR3hCbEQsRUFBUytCLFVBQVVKLEdBQUssU0FBVXlCLEdBQ2hDLElBQUlDLEVBQWNwRixLQUNkK0UsRUFBYy9FLEtBQUt1RSxhQUFhdkUsS0FBS3dDLFFBQVV4QyxLQUFLa0MsU0FBU0UsS0FBSyxpQkFFdEUsS0FBSStDLEVBQU9uRixLQUFLeUMsT0FBT3VDLE9BQVMsR0FBTUcsRUFBTSxHQUU1QyxPQUFJbkYsS0FBS3NDLFFBQXNCdEMsS0FBS2tDLFNBQVNqQyxJQUFJLG1CQUFvQixXQUFjbUYsRUFBSzFCLEdBQUd5QixLQUN2RkosR0FBZUksRUFBWW5GLEtBQUs4QyxRQUFRRSxRQUVyQ2hELEtBQUt5RCxNQUFZc0IsRUFBTkksRUFBb0IsT0FBUyxPQUFRbkYsS0FBS3lDLE9BQU95QyxHQUFHQyxLQUd4RXBELEVBQVMrQixVQUFVaEIsTUFBUSxTQUFVdkIsR0FVbkMsT0FUQUEsSUFBTXZCLEtBQUtxQyxRQUFTLEdBRWhCckMsS0FBS2tDLFNBQVNFLEtBQUssZ0JBQWdCNEMsUUFBVXhGLEVBQUVZLFFBQVFDLGFBQ3pETCxLQUFLa0MsU0FBUy9CLFFBQVFYLEVBQUVZLFFBQVFDLFdBQVdDLEtBQzNDTixLQUFLZ0QsT0FBTSxJQUdiaEQsS0FBS3VDLFNBQVc4QixjQUFjckUsS0FBS3VDLFVBRTVCdkMsTUFHVCtCLEVBQVMrQixVQUFVSyxLQUFPLFdBQ3hCLElBQUluRSxLQUFLc0MsUUFDVCxPQUFPdEMsS0FBS3lELE1BQU0sU0FHcEIxQixFQUFTK0IsVUFBVUksS0FBTyxXQUN4QixJQUFJbEUsS0FBS3NDLFFBQ1QsT0FBT3RDLEtBQUt5RCxNQUFNLFNBR3BCMUIsRUFBUytCLFVBQVVMLE1BQVEsU0FBVTRCLEVBQU1sQixHQUN6QyxJQUFJM0IsRUFBWXhDLEtBQUtrQyxTQUFTRSxLQUFLLGdCQUMvQmtELEVBQVluQixHQUFRbkUsS0FBSzRFLG9CQUFvQlMsRUFBTTdDLEdBQ25EK0MsRUFBWXZGLEtBQUt1QyxTQUNqQnNDLEVBQW9CLFFBQVJRLEVBQWlCLE9BQVMsUUFDdENELEVBQVlwRixLQUVoQixHQUFJc0YsRUFBTUUsU0FBUyxVQUFXLE9BQVF4RixLQUFLc0MsU0FBVSxFQUVyRCxJQUFJbUQsRUFBZ0JILEVBQU0sR0FDdEJJLEVBQWFsRyxFQUFFbUcsTUFBTSxvQkFBcUIsQ0FDNUNGLGNBQWVBLEVBQ2ZaLFVBQVdBLElBR2IsR0FEQTdFLEtBQUtrQyxTQUFTL0IsUUFBUXVGLElBQ2xCQSxFQUFXRSxxQkFBZixDQU1BLEdBSkE1RixLQUFLc0MsU0FBVSxFQUVmaUQsR0FBYXZGLEtBQUs4QyxRQUVkOUMsS0FBS21DLFlBQVk2QyxPQUFRLENBQzNCaEYsS0FBS21DLFlBQVlDLEtBQUssV0FBV3lELFlBQVksVUFDN0MsSUFBSUMsRUFBaUJ0RyxFQUFFUSxLQUFLbUMsWUFBWXVDLFdBQVcxRSxLQUFLdUUsYUFBYWUsS0FDckVRLEdBQWtCQSxFQUFlQyxTQUFTLFVBRzVDLElBQUlDLEVBQVl4RyxFQUFFbUcsTUFBTSxtQkFBb0IsQ0FBRUYsY0FBZUEsRUFBZVosVUFBV0EsSUF5QnZGLE9BeEJJckYsRUFBRVksUUFBUUMsWUFBY0wsS0FBS2tDLFNBQVNzRCxTQUFTLFVBQ2pERixFQUFNUyxTQUFTVixHQUNmQyxFQUFNLEdBQUdXLFlBQ1R6RCxFQUFRdUQsU0FBU2xCLEdBQ2pCUyxFQUFNUyxTQUFTbEIsR0FDZnJDLEVBQ0d2QyxJQUFJLGtCQUFtQixXQUN0QnFGLEVBQU1PLFlBQVksQ0FBQ1IsRUFBTVIsR0FBV3FCLEtBQUssTUFBTUgsU0FBUyxVQUN4RHZELEVBQVFxRCxZQUFZLENBQUMsU0FBVWhCLEdBQVdxQixLQUFLLE1BQy9DZCxFQUFLOUMsU0FBVSxFQUNmcEMsV0FBVyxXQUNUa0YsRUFBS2xELFNBQVMvQixRQUFRNkYsSUFDckIsS0FFSnBHLHFCQUFxQm1DLEVBQVM2Qix1QkFFakNwQixFQUFRcUQsWUFBWSxVQUNwQlAsRUFBTVMsU0FBUyxVQUNmL0YsS0FBS3NDLFNBQVUsRUFDZnRDLEtBQUtrQyxTQUFTL0IsUUFBUTZGLElBR3hCVCxHQUFhdkYsS0FBS2dELFFBRVhoRCxPQXFCVCxJQUFJbUcsRUFBTTNHLEVBQUVHLEdBQUd5RyxTQUVmNUcsRUFBRUcsR0FBR3lHLFNBQXVCbkQsRUFDNUJ6RCxFQUFFRyxHQUFHeUcsU0FBU0MsWUFBY3RFLEVBTTVCdkMsRUFBRUcsR0FBR3lHLFNBQVNFLFdBQWEsV0FFekIsT0FEQTlHLEVBQUVHLEdBQUd5RyxTQUFXRCxFQUNUbkcsTUFPVCxJQUFJdUcsRUFBZSxTQUFVaEYsR0FDM0IsSUFBSWlGLEVBQ0FwRCxFQUFVNUQsRUFBRVEsTUFDWnlHLEVBQVVqSCxFQUFFNEQsRUFBTXNELEtBQUssaUJBQW1CRixFQUFPcEQsRUFBTXNELEtBQUssVUFBWUYsRUFBS0csUUFBUSxpQkFBa0IsS0FDM0csR0FBS0YsRUFBUWpCLFNBQVMsWUFBdEIsQ0FDQSxJQUFJdkQsRUFBVXpDLEVBQUU4RCxPQUFPLEdBQUltRCxFQUFRcEQsT0FBUUQsRUFBTUMsUUFDN0N1RCxFQUFheEQsRUFBTXNELEtBQUssaUJBQ3hCRSxJQUFZM0UsRUFBUU0sVUFBVyxHQUVuQ1UsRUFBTzRELEtBQUtKLEVBQVN4RSxHQUVqQjJFLEdBQ0ZILEVBQVFwRCxLQUFLLGVBQWVLLEdBQUdrRCxHQUdqQ3JGLEVBQUU2QyxtQkFHSjVFLEVBQUVDLFVBQ0NrRCxHQUFHLDZCQUE4QixlQUFnQjRELEdBQ2pENUQsR0FBRyw2QkFBOEIsa0JBQW1CNEQsR0FFdkQvRyxFQUFFc0gsUUFBUW5FLEdBQUcsT0FBUSxXQUNuQm5ELEVBQUUsMEJBQTBCMkQsS0FBSyxXQUMvQixJQUFJNEQsRUFBWXZILEVBQUVRLE1BQ2xCaUQsRUFBTzRELEtBQUtFLEVBQVdBLEVBQVUxRCxZQS9OdEMsQ0FtT0N2QixRQUdBdEMsRUFBRSw4QkFBOEIyRCxLQUFLLFdBR25DLElBRkEsSUFBSTZELEVBQWN4SCxFQUFFUSxNQUVYaUgsRUFBRSxFQUFFQSxFQUFFLEVBQUVBLEtBQ2ZELEVBQWNBLEVBQVk3QyxRQUdUYSxTQUNmZ0MsRUFBY3hILEVBQUVRLE1BQU1rSCxTQUFTLFdBSWpDRixFQUFZdEMsU0FBUyxnQkFBZ0J5QyxRQUNsQ3BCLFNBQVMsY0FBYyxHQUN2QnFCLFNBQVM1SCxFQUFFUSxTQUtwQlIsRUFBRSxhQUFhNEcsU0FBUyxDQUN2QjdELFNBQVUsSUFHWC9DLEVBQUUsd0JBQXdCNEcsU0FBUyxDQUNqQzdELFNBQVUsSUFZVSxvQkFBWFQsT0FDVCxNQUFNLElBQUl1RixNQUFNLDBDQWlRbEIsR0EvUEMsU0FBVTdILEdBQ1QsYUFDQSxJQUFJOEgsRUFJSnhGLE9BSmdCbkMsR0FBRzRILE9BQU9DLE1BQU0sS0FBSyxHQUFHQSxNQUFNLEtBQzlDLEdBQUtGLEVBQVEsR0FBSyxHQUFLQSxFQUFRLEdBQUssR0FBcUIsR0FBZEEsRUFBUSxJQUF5QixHQUFkQSxFQUFRLElBQVdBLEVBQVEsR0FBSyxHQUFvQixFQUFiQSxFQUFRLEdBQzNHLE1BQU0sSUFBSUQsTUFBTSw0RkFKbkIsR0FrQkEsU0FBVTdILEdBQ1QsYUFLQSxJQUFJaUksRUFBVyxTQUFVekYsRUFBU0MsR0FDaENqQyxLQUFLa0MsU0FBZ0IxQyxFQUFFd0MsR0FDdkJoQyxLQUFLaUMsUUFBZ0J6QyxFQUFFOEQsT0FBTyxHQUFJbUUsRUFBU2xFLFNBQVV0QixHQUNyRGpDLEtBQUswSCxTQUFnQmxJLEVBQUUsbUNBQXFDd0MsRUFBUTJGLEdBQUssNkNBQ04zRixFQUFRMkYsR0FBSyxNQUNoRjNILEtBQUs0SCxjQUFnQixLQUVqQjVILEtBQUtpQyxRQUFRd0MsT0FDZnpFLEtBQUs2SCxRQUFVN0gsS0FBSzhILFlBRXBCOUgsS0FBSytILHlCQUF5Qi9ILEtBQUtrQyxTQUFVbEMsS0FBSzBILFVBR2hEMUgsS0FBS2lDLFFBQVErRixRQUFRaEksS0FBS2dJLFVBZ0loQyxTQUFTQyxFQUFxQlAsR0FDNUIsSUFBSWxCLEVBQ0FoRixFQUFTa0csRUFBU2hCLEtBQUssaUJBQ3JCRixFQUFPa0IsRUFBU2hCLEtBQUssVUFBWUYsRUFBS0csUUFBUSxpQkFBa0IsSUFFdEUsT0FBT25ILEVBQUVnQyxHQU9YLFNBQVN5QixFQUFPQyxHQUNkLE9BQU9sRCxLQUFLbUQsS0FBSyxXQUNmLElBQUlDLEVBQVU1RCxFQUFFUSxNQUNacUQsRUFBVUQsRUFBTUMsS0FBSyxlQUNyQnBCLEVBQVV6QyxFQUFFOEQsT0FBTyxHQUFJbUUsRUFBU2xFLFNBQVVILEVBQU1DLE9BQXlCLGlCQUFWSCxHQUFzQkEsSUFFcEZHLEdBQVFwQixFQUFRK0YsUUFBVSxZQUFZakUsS0FBS2IsS0FBU2pCLEVBQVErRixRQUFTLEdBQ3JFM0UsR0FBTUQsRUFBTUMsS0FBSyxjQUFnQkEsRUFBTyxJQUFJb0UsRUFBU3pILEtBQU1pQyxJQUMzQyxpQkFBVmlCLEdBQW9CRyxFQUFLSCxPQWpKeEN1RSxFQUFTOUQsUUFBVyxRQUVwQjhELEVBQVM3RCxvQkFBc0IsSUFFL0I2RCxFQUFTbEUsU0FBVyxDQUNsQnlFLFFBQVEsR0FHVlAsRUFBUzNELFVBQVVvRSxVQUFZLFdBRTdCLE9BRGVsSSxLQUFLa0MsU0FBU3NELFNBQVMsU0FDcEIsUUFBVSxVQUc5QmlDLEVBQVMzRCxVQUFVcUUsS0FBTyxXQUN4QixJQUFJbkksS0FBSzRILGdCQUFpQjVILEtBQUtrQyxTQUFTc0QsU0FBUyxNQUFqRCxDQUVBLElBQUk0QyxFQUNBQyxFQUFVckksS0FBSzZILFNBQVc3SCxLQUFLNkgsUUFBUW5ELFNBQVMsa0JBQWtCQSxTQUFTLG9CQUUvRSxLQUFJMkQsR0FBV0EsRUFBUXJELFNBQ3JCb0QsRUFBY0MsRUFBUWhGLEtBQUssaUJBQ1IrRSxFQUFZUixlQUZqQyxDQUtBLElBQUlVLEVBQWE5SSxFQUFFbUcsTUFBTSxvQkFFekIsR0FEQTNGLEtBQUtrQyxTQUFTL0IsUUFBUW1JLElBQ2xCQSxFQUFXMUMscUJBQWYsQ0FFSXlDLEdBQVdBLEVBQVFyRCxTQUNyQi9CLEVBQU80RCxLQUFLd0IsRUFBUyxRQUNyQkQsR0FBZUMsRUFBUWhGLEtBQUssY0FBZSxPQUc3QyxJQUFJNkUsRUFBWWxJLEtBQUtrSSxZQUVyQmxJLEtBQUtrQyxTQUNGMkQsWUFBWSxZQUNaRSxTQUFTLGNBQWNtQyxHQUFXLEdBQ2xDeEIsS0FBSyxpQkFBaUIsR0FFekIxRyxLQUFLMEgsU0FDRjdCLFlBQVksYUFDWmEsS0FBSyxpQkFBaUIsR0FFekIxRyxLQUFLNEgsY0FBZ0IsRUFFckIsSUFBSVcsRUFBVyxXQUNidkksS0FBS2tDLFNBQ0YyRCxZQUFZLGNBQ1pFLFNBQVMsZUFBZW1DLEdBQVcsSUFDdENsSSxLQUFLNEgsY0FBZ0IsRUFDckI1SCxLQUFLa0MsU0FDRi9CLFFBQVEsc0JBR2IsSUFBS1gsRUFBRVksUUFBUUMsV0FBWSxPQUFPa0ksRUFBUzFCLEtBQUs3RyxNQUVoRCxJQUFJd0ksRUFBYWhKLEVBQUVpSixVQUFVLENBQUMsU0FBVVAsR0FBV2hDLEtBQUssTUFFeERsRyxLQUFLa0MsU0FDRmpDLElBQUksa0JBQW1CVCxFQUFFb0QsTUFBTTJGLEVBQVV2SSxPQUN6Q0oscUJBQXFCNkgsRUFBUzdELHFCQUFxQnNFLEdBQVdsSSxLQUFLa0MsU0FBUyxHQUFHc0csUUFHcEZmLEVBQVMzRCxVQUFVNEUsS0FBTyxXQUN4QixJQUFJMUksS0FBSzRILGVBQWtCNUgsS0FBS2tDLFNBQVNzRCxTQUFTLE1BQWxELENBRUEsSUFBSThDLEVBQWE5SSxFQUFFbUcsTUFBTSxvQkFFekIsR0FEQTNGLEtBQUtrQyxTQUFTL0IsUUFBUW1JLElBQ2xCQSxFQUFXMUMscUJBQWYsQ0FFQSxJQUFJc0MsRUFBWWxJLEtBQUtrSSxZQUVyQmxJLEtBQUtrQyxTQUFTZ0csR0FBV2xJLEtBQUtrQyxTQUFTZ0csTUFBYyxHQUFHUyxhQUV4RDNJLEtBQUtrQyxTQUNGNkQsU0FBUyxjQUNURixZQUFZLGVBQ1phLEtBQUssaUJBQWlCLEdBRXpCMUcsS0FBSzBILFNBQ0YzQixTQUFTLGFBQ1RXLEtBQUssaUJBQWlCLEdBRXpCMUcsS0FBSzRILGNBQWdCLEVBRXJCLElBQUlXLEVBQVcsV0FDYnZJLEtBQUs0SCxjQUFnQixFQUNyQjVILEtBQUtrQyxTQUNGMkQsWUFBWSxjQUNaRSxTQUFTLFlBQ1Q1RixRQUFRLHVCQUdiLElBQUtYLEVBQUVZLFFBQVFDLFdBQVksT0FBT2tJLEVBQVMxQixLQUFLN0csTUFFaERBLEtBQUtrQyxTQUNGZ0csR0FBVyxHQUNYakksSUFBSSxrQkFBbUJULEVBQUVvRCxNQUFNMkYsRUFBVXZJLE9BQ3pDSixxQkFBcUI2SCxFQUFTN0Qsd0JBR25DNkQsRUFBUzNELFVBQVVrRSxPQUFTLFdBQzFCaEksS0FBS0EsS0FBS2tDLFNBQVNzRCxTQUFTLE1BQVEsT0FBUyxXQUcvQ2lDLEVBQVMzRCxVQUFVZ0UsVUFBWSxXQUM3QixPQUFPdEksRUFBRVEsS0FBS2lDLFFBQVF3QyxRQUNuQnJDLEtBQUsseUNBQTJDcEMsS0FBS2lDLFFBQVF3QyxPQUFTLE1BQ3RFdEIsS0FBSzNELEVBQUVvRCxNQUFNLFNBQVVxRSxFQUFHakYsR0FDekIsSUFBSUUsRUFBVzFDLEVBQUV3QyxHQUNqQmhDLEtBQUsrSCx5QkFBeUJFLEVBQXFCL0YsR0FBV0EsSUFDN0RsQyxPQUNGTSxPQUdMbUgsRUFBUzNELFVBQVVpRSx5QkFBMkIsU0FBVTdGLEVBQVV3RixHQUNoRSxJQUFJa0IsRUFBUzFHLEVBQVNzRCxTQUFTLE1BRS9CdEQsRUFBU3dFLEtBQUssZ0JBQWlCa0MsR0FDL0JsQixFQUNHbUIsWUFBWSxhQUFjRCxHQUMxQmxDLEtBQUssZ0JBQWlCa0MsSUEyQjNCLElBQUl6QyxFQUFNM0csRUFBRUcsR0FBR21KLFNBRWZ0SixFQUFFRyxHQUFHbUosU0FBdUI3RixFQUM1QnpELEVBQUVHLEdBQUdtSixTQUFTekMsWUFBY29CLEVBTTVCakksRUFBRUcsR0FBR21KLFNBQVN4QyxXQUFhLFdBRXpCLE9BREE5RyxFQUFFRyxHQUFHbUosU0FBVzNDLEVBQ1RuRyxNQU9UUixFQUFFQyxVQUFVa0QsR0FBRyw2QkFBOEIsMkJBQTRCLFNBQVVwQixHQUNqRixJQUFJNkIsRUFBVTVELEVBQUVRLE1BRVhvRCxFQUFNc0QsS0FBSyxnQkFBZ0JuRixFQUFFNkMsaUJBRWxDLElBQUlxQyxFQUFVd0IsRUFBcUI3RSxHQUUvQkYsRUFEVXVELEVBQVFwRCxLQUFLLGVBQ04sU0FBV0QsRUFBTUMsT0FFdENKLEVBQU80RCxLQUFLSixFQUFTdkQsS0F0TXhCLENBeU1DcEIsUUFDRnRDLEVBQUUsbUJBQW1CbUQsR0FBRyxRQUFRLFNBQVNwQixHQUN2Q0EsRUFBRTZDLGlCQUNGLElBQUloQixFQUFRNUQsRUFBR1EsTUFDVlIsRUFBRSw2QkFBNkJnRyxTQUFTLGlCQUMzQ2hHLEVBQUUsNkJBQTZCcUcsWUFBWSxnQkFDM0N6QyxFQUFNeUMsWUFBWSxjQUVsQnJHLEVBQUUsNkJBQTZCdUcsU0FBUyxnQkFDeEMzQyxFQUFNMkMsU0FBUyxlQUduQnZHLEVBQUUsa0JBQWtCbUQsR0FBRyxRQUFTLFdBQzFCbkQsRUFBRSxvQkFBb0JnRyxTQUFTLFVBQ2pDaEcsRUFBRSxvQkFBb0JxRyxZQUFZLFVBRWxDckcsRUFBRSxvQkFBb0J1RyxTQUFTLFlBSW5DdkcsRUFBRSxtQkFBbUJtRCxHQUFHLFFBQVMsV0FDL0IsSUFBSVMsRUFBUTVELEVBQUdRLE1BQ2ZvRCxFQUFNMkMsU0FBUyxlQUNmLElBQUlnRCxFQUFPM0YsRUFBTTJGLE9BQ2JDLEVBQVE1RixFQUFNc0QsS0FBSyxjQUN2QmxILEVBQUUsOEJBQWdDd0osRUFBUSxNQUFNRCxLQUFLQSxHQUNyRHZKLEVBQUUsb0JBQW9CdUcsU0FBUyxXQUMvQnZHLEVBQUUsb0JBQW9CcUcsWUFBWSxZQUVwQ3JHLEVBQUUsY0FBY3lKLE1BQU0sV0FDcEIsSUFBSUMsRUFBUzFKLEVBQUdRLE1BQU8wRyxLQUFLLE9BRTVCeUMsUUFBUUMsSUFBS0YsR0FFYjFKLEVBQUUscUJBQXFCNkosSUFBSSxtQkFBb0IsT0FBU0gsRUFBUyxPQUU1QixPQUFuQ3pKLFNBQVM2SixlQUFlLE9BQWlCLENBR3pDQyxNQUFNN0osTUFFTixXQUVJLElBQUk4SixFQUFRLElBQUlELE1BQU1FLElBQUksTUFBTyxDQUs3QkMsT0FBUSxDQUFDLE1BQU8sT0FHaEJDLEtBQU0sR0FDTkMsU0FBVSxLQUlkQyxFQUFZLElBQUlOLE1BQU1PLFVBQVUsQ0FBQyxVQUFXLFVBQVksR0FBSSxDQUN4REMsV0FBWSxnQkFDWkMsY0FBZSx5QkFDZkMsY0FBZSxDQUFDLEdBQUksSUFDcEJDLGdCQUFpQixFQUFFLElBQUssTUFHeEJDLEVBQWFaLE1BQU1hLHNCQUFzQkMsWUFBWSw0eEJBU3pDLENBR1pDLE1BQU8sV0FFSEgsRUFBV0ksV0FBV0QsTUFBTXpELEtBQUs3RyxNQUlqQ0EsS0FBS3dLLGVBQWlCakIsTUFBTWtCLEtBQUtDLEtBQUsxSyxLQUFLMkssT0FBUTNLLE1BQ25EQSxLQUFLNEssZ0JBQWtCckIsTUFBTWtCLEtBQUtDLEtBQUsxSyxLQUFLNkssUUFBUzdLLE1BR3JEUixFQUFFLFlBQVlrTCxLQUFLLFFBQVMxSyxLQUFLd0ssZ0JBQ2pDaEwsRUFBRSxhQUFha0wsS0FBSyxRQUFTMUssS0FBSzRLLGtCQUd0Q0UsTUFBTyxXQUVIdEwsRUFBRSxZQUFZdUwsT0FBTyxRQUFTL0ssS0FBS3dLLGdCQUNuQ2hMLEVBQUUsYUFBYXVMLE9BQU8sUUFBUy9LLEtBQUs0SyxpQkFHcENULEVBQVdJLFdBQVdPLE1BQU1qRSxLQUFLN0csT0FHckMySyxPQUFRLFdBQ0osSUFBSUssRUFBTWhMLEtBQUtpTCxVQUFVQyxRQUFRQyxTQUNqQ0gsRUFBSUksUUFBUUosRUFBSUssVUFBWSxFQUFHLENBQUNDLGdCQUFnQixLQUdwRFQsUUFBUyxXQUNMLElBQUlHLEVBQU1oTCxLQUFLaUwsVUFBVUMsUUFBUUMsU0FDakNILEVBQUlJLFFBQVFKLEVBQUlLLFVBQVksRUFBRyxDQUFDQyxnQkFBZ0IsT0FReEQ5TCxFQUFHc0gsUUFBU25FLEdBQUcsU0FBVSxXQUVyQixJQUFJNEksRUFBYzlMLFNBQVM2SixlQUFlLE9BQU9YLGFBQWUsRUFBTSxHQWN0RWEsRUFBTUksU0FBUzRCLE9BQU8sZUFFdEJoQyxFQUFNSSxTQUFTNkIsSUFBSSxjQUFlLENBQzlCQyxPQUFRdkIsRUFDUndCLFNBQVUsQ0FDTkMsS0FBTSxPQUNOQyxJQUFLTixPQUdkTyxTQUNIdEMsRUFBTXVDLFdBQVdOLElBQUk1QixHQTBDckIsSUFBSW1DLEVBQWdCLElBQUl6QyxNQUFNMEMsY0FBYyxDQUN4Q0MsWUFBWSxFQUNaQyxTQUFVLEdBQ1ZDLGtCQUFtQixtQkFFbkJDLHlCQUF5QixJQWRsQkMsTUFBTSxtQkFDUkMsS0FBSyxTQUFTQyxHQUNYLE9BQU9BLEVBQVNDLFNBRW5CRixLQUFLLFNBQVNsSixHQUNYLE1BbkNELENBQ0hnQyxLQUFNLG9CQUNOcUgsU0FpQ3lCckosRUFqQ0oySCxJQUFJLFNBQVMyQixFQUFLaEksR0FDbkMsTUFBTyxDQUNIZ0QsR0FBSWhELEVBQ0pVLEtBQU0sVUFDTnVILFNBQVUsQ0FDTnZILEtBQU0sUUFDTndILFlBQWEsQ0FBQ0YsRUFBSUcsSUFBS0gsRUFBSUksT0FFL0JDLFdBQVksQ0FDUkMsWUFBYU4sRUFBSU8sb0JBNkMxQlgsS0FBSyxTQUFTbEosR0FDckIySSxFQUFjUCxJQUFJcEksS0FHdEIySSxFQUFjbUIsUUFBUWxMLFFBQVFtTCxJQUFJLENBQzlCckQsV0FBWSxnQkFDWkMsY0FBZSx5QkFDZkMsY0FBZSxDQUFDLEdBQUksSUFDcEJDLGdCQUFpQixFQUFFLElBQUssTUFHNUJWLEVBQU11QyxXQUFXTixJQUFJTyxLQUc3QnhNLEVBQUUsZ0JBQWdCbUQsR0FBRyxRQUFRLFNBQVNwQixHQUN4Qi9CLEVBQUdRLE1BRVRxTixRQUFRLGFBQWF4SCxZQUFZLGNBRXpDckcsRUFBRSxrQkFBa0JtRCxHQUFHLFFBQVEsU0FBU3BCLEdBQ3RDLElBQUkrTCxFQUFNOU4sRUFBR1EsTUFBTzBHLEtBQUssY0FRekJsSCxFQUFFLElBQUk4TixHQUFLdkgsU0FBUyxjQUV0QnZHLEVBQUUsaUJBQWlCbUQsR0FBRyxRQUFRLFNBQVNwQixHQUNyQyxJQUFJNkIsRUFBUTVELEVBQUdRLE1BRWZvRCxFQUFNaUssUUFBUSxRQUFRakwsS0FBSyxpQkFBaUJ5RCxZQUFZLGFBQ3hEekMsRUFBTTJDLFNBQVMsYUFFZixJQUFJdUgsRUFBTWxLLEVBQU1zRCxLQUFLLFlBRXJCdEQsRUFBTWlLLFFBQVEsUUFBUWpMLEtBQUssZUFBZXlELFlBQVksYUFDdERyRyxFQUFFLGtCQUFrQjhOLEVBQUksTUFBTXZILFNBQVMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4zLjVcbiAgICogaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RyYW5zaXRpb25zXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gIFxuICBcbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgICAvLyBDU1MgVFJBTlNJVElPTiBTVVBQT1JUIChTaG91dG91dDogaHR0cHM6Ly93d3cubW9kZXJuaXpyLmNvbS8pXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7XG4gICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib290c3RyYXAnKVxuICBcbiAgICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgICAgIFdlYmtpdFRyYW5zaXRpb24gOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICAgIE9UcmFuc2l0aW9uICAgICAgOiAnb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQnLFxuICAgICAgICB0cmFuc2l0aW9uICAgICAgIDogJ3RyYW5zaXRpb25lbmQnXG4gICAgICB9XG4gIFxuICAgICAgZm9yICh2YXIgbmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpIHtcbiAgICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4geyBlbmQ6IHRyYW5zRW5kRXZlbnROYW1lc1tuYW1lXSB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgICByZXR1cm4gZmFsc2UgLy8gZXhwbGljaXQgZm9yIGllOCAoICAuXy4pXG4gICAgfVxuICBcbiAgICAvLyBodHRwOi8vYmxvZy5hbGV4bWFjY2F3LmNvbS9jc3MtdHJhbnNpdGlvbnNcbiAgICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgICAgIHZhciAkZWwgPSB0aGlzXG4gICAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGlmICghY2FsbGVkKSAkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpIH1cbiAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIGR1cmF0aW9uKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICAgICQoZnVuY3Rpb24gKCkge1xuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRW5kKClcbiAgXG4gICAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cbiAgXG4gICAgICAkLmV2ZW50LnNwZWNpYWwuYnNUcmFuc2l0aW9uRW5kID0ge1xuICAgICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgICBkZWxlZ2F0ZVR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgICAgaGFuZGxlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgXG4gIH0oalF1ZXJ5KTtcbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjMuNVxuICAgKiBodHRwczovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgXG4gIFxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICAgIC8vIENBUk9VU0VMIENMQVNTIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLiRlbGVtZW50ICAgID0gJChlbGVtZW50KVxuICAgICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmNhcm91c2VsLWluZGljYXRvcnMnKVxuICAgICAgdGhpcy5vcHRpb25zICAgICA9IG9wdGlvbnNcbiAgICAgIHRoaXMucGF1c2VkICAgICAgPSBudWxsXG4gICAgICB0aGlzLnNsaWRpbmcgICAgID0gbnVsbFxuICAgICAgdGhpcy5pbnRlcnZhbCAgICA9IG51bGxcbiAgICAgIHRoaXMuJGFjdGl2ZSAgICAgPSBudWxsXG4gICAgICB0aGlzLiRpdGVtcyAgICAgID0gbnVsbFxuICBcbiAgICAgIHRoaXMub3B0aW9ucy5rZXlib2FyZCAmJiB0aGlzLiRlbGVtZW50Lm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuICBcbiAgICAgIHRoaXMub3B0aW9ucy5wYXVzZSA9PSAnaG92ZXInICYmICEoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbignbW91c2VlbnRlci5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5wYXVzZSwgdGhpcykpXG4gICAgICAgIC5vbignbW91c2VsZWF2ZS5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5WRVJTSU9OICA9ICczLjMuNSdcbiAgXG4gICAgQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTiA9IDYwMFxuICBcbiAgICBDYXJvdXNlbC5ERUZBVUxUUyA9IHtcbiAgICAgIGludGVydmFsOiA1MDAwLFxuICAgICAgcGF1c2U6ICdob3ZlcicsXG4gICAgICB3cmFwOiB0cnVlLFxuICAgICAga2V5Ym9hcmQ6IHRydWVcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICgvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpKSByZXR1cm5cbiAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgICBjYXNlIDM3OiB0aGlzLnByZXYoKTsgYnJlYWtcbiAgICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6IHJldHVyblxuICAgICAgfVxuICBcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgfHwgKHRoaXMucGF1c2VkID0gZmFsc2UpXG4gIFxuICAgICAgdGhpcy5pbnRlcnZhbCAmJiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG4gIFxuICAgICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAgICYmICF0aGlzLnBhdXNlZFxuICAgICAgICAmJiAodGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LCB0aGlzKSwgdGhpcy5vcHRpb25zLmludGVydmFsKSlcbiAgXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB0aGlzLiRpdGVtcyA9IGl0ZW0ucGFyZW50KCkuY2hpbGRyZW4oJy5pdGVtJylcbiAgICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtRm9yRGlyZWN0aW9uID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgYWN0aXZlKSB7XG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChhY3RpdmUpXG4gICAgICB2YXIgd2lsbFdyYXAgPSAoZGlyZWN0aW9uID09ICdwcmV2JyAmJiBhY3RpdmVJbmRleCA9PT0gMClcbiAgICAgICAgICAgICAgICAgIHx8IChkaXJlY3Rpb24gPT0gJ25leHQnICYmIGFjdGl2ZUluZGV4ID09ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSlcbiAgICAgIGlmICh3aWxsV3JhcCAmJiAhdGhpcy5vcHRpb25zLndyYXApIHJldHVybiBhY3RpdmVcbiAgICAgIHZhciBkZWx0YSA9IGRpcmVjdGlvbiA9PSAncHJldicgPyAtMSA6IDFcbiAgICAgIHZhciBpdGVtSW5kZXggPSAoYWN0aXZlSW5kZXggKyBkZWx0YSkgJSB0aGlzLiRpdGVtcy5sZW5ndGhcbiAgICAgIHJldHVybiB0aGlzLiRpdGVtcy5lcShpdGVtSW5kZXgpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmUgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpKVxuICBcbiAgICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG4gIFxuICAgICAgaWYgKHRoaXMuc2xpZGluZykgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQub25lKCdzbGlkLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKCkgeyB0aGF0LnRvKHBvcykgfSkgLy8geWVzLCBcInNsaWRcIlxuICAgICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG4gIFxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGUocG9zID4gYWN0aXZlSW5kZXggPyAnbmV4dCcgOiAncHJldicsIHRoaXMuJGl0ZW1zLmVxKHBvcykpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuICBcbiAgICAgIGlmICh0aGlzLiRlbGVtZW50LmZpbmQoJy5uZXh0LCAucHJldicpLmxlbmd0aCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgICB0aGlzLmN5Y2xlKHRydWUpXG4gICAgICB9XG4gIFxuICAgICAgdGhpcy5pbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcbiAgXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICAgIHJldHVybiB0aGlzLnNsaWRlKCduZXh0JylcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuc2xpZGUgPSBmdW5jdGlvbiAodHlwZSwgbmV4dCkge1xuICAgICAgdmFyICRhY3RpdmUgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJylcbiAgICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8IHRoaXMuZ2V0SXRlbUZvckRpcmVjdGlvbih0eXBlLCAkYWN0aXZlKVxuICAgICAgdmFyIGlzQ3ljbGluZyA9IHRoaXMuaW50ZXJ2YWxcbiAgICAgIHZhciBkaXJlY3Rpb24gPSB0eXBlID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCdcbiAgICAgIHZhciB0aGF0ICAgICAgPSB0aGlzXG4gIFxuICAgICAgaWYgKCRuZXh0Lmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuICh0aGlzLnNsaWRpbmcgPSBmYWxzZSlcbiAgXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9ICRuZXh0WzBdXG4gICAgICB2YXIgc2xpZGVFdmVudCA9ICQuRXZlbnQoJ3NsaWRlLmJzLmNhcm91c2VsJywge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgfSlcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuICBcbiAgICAgIHRoaXMuc2xpZGluZyA9IHRydWVcbiAgXG4gICAgICBpc0N5Y2xpbmcgJiYgdGhpcy5wYXVzZSgpXG4gIFxuICAgICAgaWYgKHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgICAkbmV4dEluZGljYXRvciAmJiAkbmV4dEluZGljYXRvci5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cbiAgXG4gICAgICB2YXIgc2xpZEV2ZW50ID0gJC5FdmVudCgnc2xpZC5icy5jYXJvdXNlbCcsIHsgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCwgZGlyZWN0aW9uOiBkaXJlY3Rpb24gfSkgLy8geWVzLCBcInNsaWRcIlxuICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3NsaWRlJykpIHtcbiAgICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICAgJG5leHRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICAgICRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAgICRhY3RpdmVcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcyhbJ2FjdGl2ZScsIGRpcmVjdGlvbl0uam9pbignICcpKVxuICAgICAgICAgICAgdGhhdC5zbGlkaW5nID0gZmFsc2VcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgICAgICAgfSwgMClcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgICB9XG4gIFxuICAgICAgaXNDeWNsaW5nICYmIHRoaXMuY3ljbGUoKVxuICBcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgXG4gICAgLy8gQ0FST1VTRUwgUExVR0lOIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnKVxuICAgICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgICAgdmFyIGFjdGlvbiAgPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZVxuICBcbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ251bWJlcicpIGRhdGEudG8ob3B0aW9uKVxuICAgICAgICBlbHNlIGlmIChhY3Rpb24pIGRhdGFbYWN0aW9uXSgpXG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgICB9KVxuICAgIH1cbiAgXG4gICAgdmFyIG9sZCA9ICQuZm4uY2Fyb3VzZWxcbiAgXG4gICAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAgICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbFxuICBcbiAgXG4gICAgLy8gQ0FST1VTRUwgTk8gQ09ORkxJQ1RcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICAkLmZuLmNhcm91c2VsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkLmZuLmNhcm91c2VsID0gb2xkXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gIFxuICAgIC8vIENBUk9VU0VMIERBVEEtQVBJXG4gICAgLy8gPT09PT09PT09PT09PT09PT1cbiAgXG4gICAgdmFyIGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgaHJlZlxuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygnY2Fyb3VzZWwnKSkgcmV0dXJuXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuICAgICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICAgIGlmIChzbGlkZUluZGV4KSBvcHRpb25zLmludGVydmFsID0gZmFsc2VcbiAgXG4gICAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuICBcbiAgICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgICAgfVxuICBcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgXG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGVdJywgY2xpY2tIYW5kbGVyKVxuICAgICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZS10b10nLCBjbGlja0hhbmRsZXIpXG4gIFxuICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJ1tkYXRhLXJpZGU9XCJjYXJvdXNlbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGNhcm91c2VsID0gJCh0aGlzKVxuICAgICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgICB9KVxuICAgIH0pXG4gIFxuICB9KGpRdWVyeSk7XG4gIFxuICArZnVuY3Rpb24oKXtcbiAgICAkKCcuY2Fyb3VzZWwtaXRlbS1pbWFnZSAuaXRlbScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHZhciBpdGVtVG9DbG9uZSA9ICQodGhpcyk7XG4gIFxuICAgICAgZm9yICh2YXIgaT0xO2k8NTtpKyspIHtcbiAgICAgICAgaXRlbVRvQ2xvbmUgPSBpdGVtVG9DbG9uZS5uZXh0KCk7XG4gIFxuICAgICAgICAvLyB3cmFwIGFyb3VuZCBpZiBhdCBlbmQgb2YgaXRlbSBjb2xsZWN0aW9uXG4gICAgICAgIGlmICghaXRlbVRvQ2xvbmUubGVuZ3RoKSB7XG4gICAgICAgICAgaXRlbVRvQ2xvbmUgPSAkKHRoaXMpLnNpYmxpbmdzKCc6Zmlyc3QnKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLy8gZ3JhYiBpdGVtLCBjbG9uZSwgYWRkIG1hcmtlciBjbGFzcywgYWRkIHRvIGNvbGxlY3Rpb25cbiAgICAgICAgaXRlbVRvQ2xvbmUuY2hpbGRyZW4oJzpmaXJzdC1jaGlsZCcpLmNsb25lKClcbiAgICAgICAgICAuYWRkQ2xhc3MoXCJjbG9uZWRpdGVtLVwiKyhpKSlcbiAgICAgICAgICAuYXBwZW5kVG8oJCh0aGlzKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0oKTtcbiAgXG4gICQoJy5jYXJvdXNlbCcpLmNhcm91c2VsKHtcbiAgXHRpbnRlcnZhbDogMCAvL3RlbXBcbiAgfSk7XG4gIFxuICAkKCcjY2Fyb3VzZWwtaXRlbS1pbWFnZScpLmNhcm91c2VsKHsgXG4gICAgaW50ZXJ2YWw6IDAgLy90ZW1wXG4gIH0pO1xuICAvKiFcbiAgICogQm9vdHN0cmFwIHYzLjMuNyAoaHR0cDovL2dldGJvb3RzdHJhcC5jb20pXG4gICAqIENvcHlyaWdodCAyMDExLTIwMTggVHdpdHRlciwgSW5jLlxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgKi9cbiAgXG4gIC8qIVxuICAgKiBHZW5lcmF0ZWQgdXNpbmcgdGhlIEJvb3RzdHJhcCBDdXN0b21pemVyICg8bm9uZT4pXG4gICAqIENvbmZpZyBzYXZlZCB0byBjb25maWcuanNvbiBhbmQgPG5vbmU+XG4gICAqL1xuICBpZiAodHlwZW9mIGpRdWVyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnknKVxuICB9XG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgdmVyc2lvbiA9ICQuZm4uanF1ZXJ5LnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKVxuICAgIGlmICgodmVyc2lvblswXSA8IDIgJiYgdmVyc2lvblsxXSA8IDkpIHx8ICh2ZXJzaW9uWzBdID09IDEgJiYgdmVyc2lvblsxXSA9PSA5ICYmIHZlcnNpb25bMl0gPCAxKSB8fCAodmVyc2lvblswXSA+IDMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkgdmVyc2lvbiAxLjkuMSBvciBoaWdoZXIsIGJ1dCBsb3dlciB0aGFuIHZlcnNpb24gNCcpXG4gICAgfVxuICB9KGpRdWVyeSk7XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4zLjdcbiAgICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY29sbGFwc2VcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgXG4gIC8qIGpzaGludCBsYXRlZGVmOiBmYWxzZSAqL1xuICBcbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLiRlbGVtZW50ICAgICAgPSAkKGVsZW1lbnQpXG4gICAgICB0aGlzLm9wdGlvbnMgICAgICAgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgICB0aGlzLiR0cmlnZ2VyICAgICAgPSAkKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtocmVmPVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtdGFyZ2V0PVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXScpXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBudWxsXG4gIFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy4kcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModGhpcy4kZWxlbWVudCwgdGhpcy4kdHJpZ2dlcilcbiAgICAgIH1cbiAgXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvZ2dsZSkgdGhpcy50b2dnbGUoKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UuVkVSU0lPTiAgPSAnMy4zLjcnXG4gIFxuICAgIENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzNTBcbiAgXG4gICAgQ29sbGFwc2UuREVGQVVMVFMgPSB7XG4gICAgICB0b2dnbGU6IHRydWVcbiAgICB9XG4gIFxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5kaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpXG4gICAgICByZXR1cm4gaGFzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCdcbiAgICB9XG4gIFxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cbiAgXG4gICAgICB2YXIgYWN0aXZlc0RhdGFcbiAgICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5jaGlsZHJlbignLmNvbGxhcHNlX190YWInKS5jaGlsZHJlbignLmluLCAuY29sbGFwc2luZycpXG4gIFxuICAgICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgICAgYWN0aXZlc0RhdGEgPSBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgICAgfVxuICBcbiAgICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnc2hvdy5icy5jb2xsYXBzZScpXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgXG4gICAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICBQbHVnaW4uY2FsbChhY3RpdmVzLCAnaGlkZScpXG4gICAgICAgIGFjdGl2ZXNEYXRhIHx8IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnLCBudWxsKVxuICAgICAgfVxuICBcbiAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gIFxuICAgICAgdGhpcy4kdHJpZ2dlclxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG4gIFxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJylbZGltZW5zaW9uXSgnJylcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmNvbGxhcHNlJylcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuICBcbiAgICAgIHZhciBzY3JvbGxTaXplID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSlcbiAgXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8ICF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cbiAgXG4gICAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG4gIFxuICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcbiAgXG4gICAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodFxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZSBpbicpXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG4gIFxuICAgICAgdGhpcy4kdHJpZ2dlclxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG4gIFxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuICBcbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgW2RpbWVuc2lvbl0oMClcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmdldFBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXG4gICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyB0aGlzLm9wdGlvbnMucGFyZW50ICsgJ1wiXScpXG4gICAgICAgIC5lYWNoKCQucHJveHkoZnVuY3Rpb24gKGksIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gICAgICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJGVsZW1lbnQpLCAkZWxlbWVudClcbiAgICAgICAgfSwgdGhpcykpXG4gICAgICAgIC5lbmQoKVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyA9IGZ1bmN0aW9uICgkZWxlbWVudCwgJHRyaWdnZXIpIHtcbiAgICAgIHZhciBpc09wZW4gPSAkZWxlbWVudC5oYXNDbGFzcygnaW4nKVxuICBcbiAgICAgICRlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gICAgICAkdHJpZ2dlclxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNlZCcsICFpc09wZW4pXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICAgIH1cbiAgXG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRyaWdnZXIpIHtcbiAgICAgIHZhciBocmVmXG4gICAgICB2YXIgdGFyZ2V0ID0gJHRyaWdnZXIuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgICB8fCAoaHJlZiA9ICR0cmlnZ2VyLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICBcbiAgICAgIHJldHVybiAkKHRhcmdldClcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuICBcbiAgICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIC9zaG93fGhpZGUvLnRlc3Qob3B0aW9uKSkgb3B0aW9ucy50b2dnbGUgPSBmYWxzZVxuICAgICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJywgKGRhdGEgPSBuZXcgQ29sbGFwc2UodGhpcywgb3B0aW9ucykpKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICAgIH0pXG4gICAgfVxuICBcbiAgICB2YXIgb2xkID0gJC5mbi5jb2xsYXBzZVxuICBcbiAgICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICAgJC5mbi5jb2xsYXBzZS5Db25zdHJ1Y3RvciA9IENvbGxhcHNlXG4gIFxuICBcbiAgICAvLyBDT0xMQVBTRSBOTyBDT05GTElDVFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgICQuZm4uY29sbGFwc2Uubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4uY29sbGFwc2UgPSBvbGRcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgXG4gICAgLy8gQ09MTEFQU0UgREFUQS1BUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuICBcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gIFxuICAgICAgaWYgKCEkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpKSBlLnByZXZlbnREZWZhdWx0KClcbiAgXG4gICAgICB2YXIgJHRhcmdldCA9IGdldFRhcmdldEZyb21UcmlnZ2VyKCR0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGFyZ2V0LmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIHZhciBvcHRpb24gID0gZGF0YSA/ICd0b2dnbGUnIDogJHRoaXMuZGF0YSgpXG4gIFxuICAgICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICAgIH0pXG4gIFxuICB9KGpRdWVyeSk7XG4gICQoJy5qcy1oaWRlLWZpbHRlcicpLm9uKCdjbGljaycsZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgaWYgKCAkKCcuZmlsdGVyX19pbnB1dC1ncm91cC0tYWRkJykuaGFzQ2xhc3MoJ2pzLWlzVmlzaWJsZScpICkge1xuICAgICAgJCgnLmZpbHRlcl9faW5wdXQtZ3JvdXAtLWFkZCcpLnJlbW92ZUNsYXNzKCdqcy1pc1Zpc2libGUnKTtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdpU29wZW5lZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuZmlsdGVyX19pbnB1dC1ncm91cC0tYWRkJykuYWRkQ2xhc3MoJ2pzLWlzVmlzaWJsZScpOyAgICAgIFxuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2lTb3BlbmVkJyk7XG4gICAgfVxuICB9KTtcbiAgJCgnLmpzLXNlbGVjdC1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoJCgnLmpzLXNlbGVjdC1ibG9jaycpLmhhc0NsYXNzKCdpc09wZW4nKSkge1xuICAgICAgJCgnLmpzLXNlbGVjdC1ibG9jaycpLnJlbW92ZUNsYXNzKCdpc09wZW4nKVxuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuanMtc2VsZWN0LWJsb2NrJykuYWRkQ2xhc3MoJ2lzT3BlbicpO1xuICAgIH1cbiAgfSk7XG4gIFxuICAkKCcuanMtc2VsZWN0LWl0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ2pzLXNlbGVjdGVkJyk7XG4gICAgdmFyIHRleHQgPSAkdGhpcy50ZXh0KCk7XG4gICAgdmFyIGdyb3VwID0gJHRoaXMuYXR0cignZGF0YS1ncm91cCcpO1xuICAgICQoJy5qcy1zZWxlY3QtYnRuW2RhdGEtZ3JvdXA9XCInICsgZ3JvdXAgKyAnXCJdJykudGV4dCh0ZXh0KTtcbiAgICAkKCcuanMtc2VsZWN0LWxhYmVsJykuYWRkQ2xhc3MoJ2Zsb2F0ZWQnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJsb2NrJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpXG4gIH0pXG4gICQoJy5pdGVtX19pbWcnKS5jbGljayhmdW5jdGlvbigpe1xuICAgIHZhciBpbWdTcmMgPSAkKCB0aGlzICkuYXR0cignc3JjJyk7XG4gIFxuICAgIGNvbnNvbGUubG9nKCBpbWdTcmMgKTtcbiAgICBcbiAgICAkKCcuaW1hZ2VfX2NvbnRhaW5lcicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJyArIGltZ1NyYyArICcpJyApO1xuICB9KTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSAhPT0gbnVsbCkge1xuICAgICAgLy8g0KTRg9C90LrRhtC40Y8geW1hcHMucmVhZHkoKSDQsdGD0LTQtdGCINCy0YvQt9Cy0LDQvdCwLCDQutC+0LPQtNCwXG4gICAgICAvLyDQt9Cw0LPRgNGD0LfRj9GC0YHRjyDQstGB0LUg0LrQvtC80L/QvtC90LXQvdGC0YsgQVBJLCDQsCDRgtCw0LrQttC1INC60L7Qs9C00LAg0LHRg9C00LXRgiDQs9C+0YLQvtCy0L4gRE9NLdC00LXRgNC10LLQvi5cbiAgICAgIHltYXBzLnJlYWR5KGluaXQpO1xuICBcbiAgICAgIGZ1bmN0aW9uIGluaXQoKXsgXG4gICAgICAgICAgLy8g0KHQvtC30LTQsNC90LjQtSDQutCw0YDRgtGLLiAgICBcbiAgICAgICAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcbiAgICAgICAgICAgICAgLy8g0JrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC90YLRgNCwINC60LDRgNGC0YsuXG4gICAgICAgICAgICAgIC8vINCf0L7RgNGP0LTQvtC6INC/0L4g0YPQvNC+0LvRh9C90LjRjjogwqvRiNC40YDQvtGC0LAsINC00L7Qu9Cz0L7RgtCwwrsuXG4gICAgICAgICAgICAgIC8vINCn0YLQvtCx0Ysg0L3QtSDQvtC/0YDQtdC00LXQu9GP0YLRjCDQutC+0L7RgNC00LjQvdCw0YLRiyDRhtC10L3RgtGA0LAg0LrQsNGA0YLRiyDQstGA0YPRh9C90YPRjixcbiAgICAgICAgICAgICAgLy8g0LLQvtGB0L/QvtC70YzQt9GD0LnRgtC10YHRjCDQuNC90YHRgtGA0YPQvNC10L3RgtC+0Lwg0J7Qv9GA0LXQtNC10LvQtdC90LjQtSDQutC+0L7RgNC00LjQvdCw0YIuXG4gICAgICAgICAgICAgIGNlbnRlcjogWzU1Ljc2LCAzNy42NF0sXG4gICAgICAgICAgICAgIC8vINCj0YDQvtCy0LXQvdGMINC80LDRgdGI0YLQsNCx0LjRgNC+0LLQsNC90LjRjy4g0JTQvtC/0YPRgdGC0LjQvNGL0LUg0LfQvdCw0YfQtdC90LjRjzpcbiAgICAgICAgICAgICAgLy8g0L7RgiAwICjQstC10YHRjCDQvNC40YApINC00L4gMTkuXG4gICAgICAgICAgICAgIHpvb206IDEwLFxuICAgICAgICAgICAgICBjb250cm9sczogW11cbiAgICAgICAgICB9KSwgXG4gIFxuICAgICAgICAgIC8vINCc0LXRgtC60LAsINGB0L7QtNC10YDQttC40LzQvtC1INCx0LDQu9GD0L3QsCDQutC+0YLQvtGA0L7QuSDQt9Cw0LPRgNGD0LbQsNC10YLRgdGPINGBINC/0L7QvNC+0YnRjNGOIEFKQVguXG4gICAgICAgICAgcGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNzYwNTg0LCAzNy42Mzk0NTBdLCB7fSwge1xuICAgICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgICAgICAgIGljb25JbWFnZUhyZWY6ICdpbWFnZXMvbWFwX19iYWxvb24ucG5nJyxcbiAgICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzU3LCA1MV0sXG4gICAgICAgICAgICAgIGljb25JbWFnZU9mZnNldDogWy0zNywgLTUwXVxuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICB2YXIgWm9vbUxheW91dCA9IHltYXBzLnRlbXBsYXRlTGF5b3V0RmFjdG9yeS5jcmVhdGVDbGFzcyhcIjxkaXYgY2xhc3M9J21hcF9fem9vbS1ibG9jayB1LWpjLXNidS1mZC1jb2wnPlwiICtcbiAgICAgICAgICBcIjxkaXYgaWQ9J3pvb20taW4nIGNsYXNzPSdtYXBfX3pvb20gdS1qYy1jZSB1LWFpLWNlJz5cIiArXG4gICAgICAgICAgXCI8c3ZnIGNsYXNzPSdzdmcnIHdpZHRoPScxMnB4JyBoZWlnaHQ9JzEycHgnIHZpZXdCb3g9JzAgMCAxMiAxMicgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJz5cIiArXG4gICAgICAgICAgXCI8ZyBpZD0nR3JvdXAnID48cmVjdCBpZD0nUmVjdGFuZ2xlLTMnIHg9JzAnIHk9JzUnIHdpZHRoPScxMicgaGVpZ2h0PScyJz48L3JlY3Q+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J1JlY3RhbmdsZS0zJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2LjAwMDAwMCwgNi4wMDAwMDApIHJvdGF0ZSg5MC4wMDAwMDApIHRyYW5zbGF0ZSgtNi4wMDAwMDAsIC02LjAwMDAwMCkgJyB4PScwJyB5PSc1JyB3aWR0aD0nMTInIGhlaWdodD0nMic+PC9yZWN0PjwvZz5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj48YnI+XCIgK1xuICAgICAgICAgIFwiPGRpdiBpZD0nem9vbS1vdXQnIGNsYXNzPSdtYXBfX3pvb20gbWFwX196b29tLS1taW51cyB1LWpjLWNlIHUtYWktY2UnPlwiICtcbiAgICAgICAgICBcIjxzdmcgY2xhc3M9J3N2Zycgd2lkdGg9JzhweCcgaGVpZ2h0PScycHgnIHZpZXdCb3g9JzAgMCA4IDInIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J21hcF9fbWludXMnIHdpZHRoPSc4JyBoZWlnaHQ9JzInPjwvcmVjdD5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj5cIiwge1xuICAgICAgICAgICAgICAvLyDQn9C10YDQtdC+0L/RgNC10LTQtdC70Y/QtdC8INC80LXRgtC+0LTRiyDQvNCw0LrQtdGC0LAsINGH0YLQvtCx0Ysg0LLRi9C/0L7Qu9C90Y/RgtGMINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LUg0LTQtdC50YHRgtCy0LjRj1xuICAgICAgICAgICAgICAvLyDQv9GA0Lgg0L/QvtGB0YLRgNC+0LXQvdC40Lgg0Lgg0L7Rh9C40YHRgtC60LUg0LzQsNC60LXRgtCwLlxuICAgICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgLy8g0JLRi9C30YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBidWlsZC5cbiAgICAgICAgICAgICAgICAgIFpvb21MYXlvdXQuc3VwZXJjbGFzcy5idWlsZC5jYWxsKHRoaXMpO1xuICBcbiAgICAgICAgICAgICAgICAgIC8vINCf0YDQuNCy0Y/Qt9GL0LLQsNC10Lwg0YTRg9C90LrRhtC40Lgt0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQuiDQutC+0L3RgtC10LrRgdGC0YMg0Lgg0YHQvtGF0YDQsNC90Y/QtdC8INGB0YHRi9C70LrQuFxuICAgICAgICAgICAgICAgICAgLy8g0L3QsCDQvdC40YUsINGH0YLQvtCx0Ysg0L/QvtGC0L7QvCDQvtGC0L/QuNGB0LDRgtGM0YHRjyDQvtGCINGB0L7QsdGL0YLQuNC5LlxuICAgICAgICAgICAgICAgICAgdGhpcy56b29tSW5DYWxsYmFjayA9IHltYXBzLnV0aWwuYmluZCh0aGlzLnpvb21JbiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnpvb21PdXRDYWxsYmFjayA9IHltYXBzLnV0aWwuYmluZCh0aGlzLnpvb21PdXQsIHRoaXMpO1xuICBcbiAgICAgICAgICAgICAgICAgIC8vINCd0LDRh9C40L3QsNC10Lwg0YHQu9GD0YjQsNGC0Ywg0LrQu9C40LrQuCDQvdCwINC60L3QvtC/0LrQsNGFINC80LDQutC10YLQsC5cbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLWluJykuYmluZCgnY2xpY2snLCB0aGlzLnpvb21JbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLmJpbmQoJ2NsaWNrJywgdGhpcy56b29tT3V0Q2FsbGJhY2spO1xuICAgICAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIC8vINCh0L3QuNC80LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LrQu9C40LrQvtCyLlxuICAgICAgICAgICAgICAgICAgJCgnI3pvb20taW4nKS51bmJpbmQoJ2NsaWNrJywgdGhpcy56b29tSW5DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1vdXQnKS51bmJpbmQoJ2NsaWNrJywgdGhpcy56b29tT3V0Q2FsbGJhY2spO1xuICBcbiAgICAgICAgICAgICAgICAgIC8vINCS0YvQt9GL0LLQsNC10Lwg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQgY2xlYXIuXG4gICAgICAgICAgICAgICAgICBab29tTGF5b3V0LnN1cGVyY2xhc3MuY2xlYXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgICAgIHpvb21JbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0RGF0YSgpLmNvbnRyb2wuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgMSwge2NoZWNrWm9vbVJhbmdlOiB0cnVlfSk7XG4gICAgICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgICAgICB6b29tT3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXREYXRhKCkuY29udHJvbC5nZXRNYXAoKTtcbiAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgLSAxLCB7Y2hlY2tab29tUmFuZ2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICAvLyB2YXIgY3RybCA9IG15TWFwLmNvbnRyb2xzLmdldCgnem9vbUNvbnRyb2wnKS5vcHRpb25zLmdldCgnbGVmdCcpO1xuICAgICAgICAgIC8vIHZhciBvYmogPSBteU1hcC5jb250cm9scy5nZXQoJ3pvb21Db250cm9sJyk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobXlNYXAsICd6b29tQ29udHJvbCcsIGN0cmwsIG9iaik7XG4gIFxuICAgICAgICAgICQoIHdpbmRvdyApLm9uKCdyZXNpemUnLCBmdW5jdGlvbigpIHsgICBcbiAgICAgICAgICAvL9C+0L/RgNC10LTQtdC70Y/QtdC8INCy0LXRgNGC0LjQutCw0LvRjNC90YvQuSDRhtC10L3RgtGAINC60LDRgNGC0YtcbiAgICAgICAgICAgICAgdmFyIGNlbnRlclBvcyA9ICggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBcIikub2Zmc2V0SGVpZ2h0IC8gMiApIC0gNTA7ICAgIFxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjZW50ZXJQb3MpOyAgXG4gIFxuICAgICAgICAgICAgICAvL9C30LDQtNCw0LXQvCDRgdCy0L7QudGB0YLQstCwINC60L3QvtC/0L7QuiDQt9GD0LzQsFxuICAgICAgICAgICAgICAvLyB2YXIgem9vbUNvbnRyb2wgPSBuZXcgeW1hcHMuY29udHJvbC5ab29tQ29udHJvbCh7XG4gICAgICAgICAgICAgIC8vICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgIC8vICAgICAgICAgbGF5b3V0OiBab29tTGF5b3V0LFxuICAgICAgICAgICAgICAvLyAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGxlZnQ6IDMwLFxuICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB0b3A6IGNlbnRlclBvc1xuICAgICAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgLy8gfSk7XG4gIFxuICAgICAgICAgICAgICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3pvb21Db250cm9sJyk7XG4gICAgICAgICAgICAgIC8vINCh0L7Qt9C00LDQtNC40Lwg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40Lkg0LzQsNC60LXRgiDQv9C+0LvQt9GD0L3QutCwINC80LDRgdGI0YLQsNCx0LAuXG4gICAgICAgICAgICAgIG15TWFwLmNvbnRyb2xzLmFkZCgnem9vbUNvbnRyb2wnLCB7XG4gICAgICAgICAgICAgICAgICBsYXlvdXQ6IFpvb21MYXlvdXQsXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICczMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICB0b3A6IGNlbnRlclBvc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTsgICAgICAgIFxuICAgICAgICAgIH0pLnJlc2l6ZSgpO1xuICAgICAgICAgIG15TWFwLmdlb09iamVjdHMuYWRkKHBsYWNlbWFyayk7XG4gIFxuICAgICAgICAgIGZ1bmN0aW9uIG1hcFNlcnZlckRhdGEoc2VydmVyRGF0YSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgZmVhdHVyZXM6IHNlcnZlckRhdGEubWFwKGZ1bmN0aW9uKG9iaiwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeTogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUG9pbnRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogW29iai5sYXQsIG9iai5sb25nXSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uQ2FwdGlvbjogb2JqLnNlcmlhbE51bWJlciBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbnM6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBwcmVzZXQ6IGdldE9iamVjdFByZXNldChvYmopIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgfTtcbiAgICAgIFxuICAgICAgICAgIC8vIGZ1bmN0aW9uIGdldE9iamVjdFByZXNldChvYmopIHtcbiAgICAgICAgICAvLyAgICAgcmV0dXJuIG9iai5pc0FjdGl2ZVxuICAgICAgICAgIC8vICAgICAgICAgPyAnaXNsYW5kcyNibHVlQ2lyY2xlRG90SWNvbldpdGhDYXB0aW9uJ1xuICAgICAgICAgIC8vICAgICAgICAgOiAnaXNsYW5kcyNyZWRDaXJjbGVEb3RJY29uV2l0aENhcHRpb24nO1xuICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIFxuICAgICAgXG4gICAgICAgICAgZnVuY3Rpb24gbG9hZExpc3QoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaChcIi4uL2pzL3Rlc3QuanNvblwiKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFwU2VydmVyRGF0YShkYXRhKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgIFxuICAgICAgICAgIHZhciBvYmplY3RNYW5hZ2VyID0gbmV3IHltYXBzLk9iamVjdE1hbmFnZXIoe1xuICAgICAgICAgICAgICBjbHVzdGVyaXplOiB0cnVlLFxuICAgICAgICAgICAgICBncmlkU2l6ZTogNjQsXG4gICAgICAgICAgICAgIGNsdXN0ZXJJY29uTGF5b3V0OiAnZGVmYXVsdCNwaWVDaGFydCcsXG4gICAgICAgICAgICAgIC8vIGNsdXN0ZXJJY29uSW1hZ2VIcmVmOiAnaW1hZ2VzL21hcF9fYmFsb29uLnBuZycsXG4gICAgICAgICAgICAgIGNsdXN0ZXJEaXNhYmxlQ2xpY2tab29tOiBmYWxzZVxuICAgICAgICAgICAgICAvLyBnZW9PYmplY3RPcGVuQmFsbG9vbk9uQ2xpY2s6IHRydWUsXG4gICAgICAgICAgICAgIC8vIGdlb09iamVjdEhpZGVJY29uT25CYWxsb29uT3BlbjogdHJ1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBvYmplY3RNYW5hZ2VyLmNsdXN0ZXJzLm9wdGlvbnMuc2V0KHtcbiAgICAgICAgICAvLyAgICAgY2x1c3Rlckljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcbiAgICAgICAgICAvLyAgICAgY2x1c3Rlckljb25JbWFnZUhyZWY6ICdpbWFnZXMvbWFwX19iYWxvb24ucG5nJyxcbiAgICAgICAgICAvLyAgICAgY2x1c3Rlckljb25JbWFnZVNpemU6IFs1NywgNTFdLFxuICAgICAgICAgIC8vICAgICBjbHVzdGVySWNvbkltYWdlT2Zmc2V0OiBbLTM3LCAtNTBdXG4gICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgbG9hZExpc3QoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgb2JqZWN0TWFuYWdlci5hZGQoZGF0YSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgXG4gICAgICAgICAgb2JqZWN0TWFuYWdlci5vYmplY3RzLm9wdGlvbnMuc2V0KHtcbiAgICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnaW1hZ2VzL21hcF9fYmFsb29uLnBuZycsXG4gICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFs1NywgNTFdLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMzcsIC01MF1cbiAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQob2JqZWN0TWFuYWdlcik7XG4gICAgICB9XG4gIH1cbiAgJCgnI21vZGFsLWNsb3NlJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcuanMtbW9kYWwnKS5yZW1vdmVDbGFzcygnaXNPcGVuZWQnKTtcbiAgfSk7XG4gICQoJy5qcy1tb2RhbF9fYnRuJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgdmFyIHZhbCA9ICQoIHRoaXMgKS5hdHRyKCdkYXRhLW1vZGFsJyk7XG4gICAgXG4gICAgLy8gdmFyIHN0eWxlcyA9IHtcbiAgICAvLyAgIGRpc3BsYXkgOiBcImJsb2NrXCIsXG4gICAgLy8gICB3aWR0aDogXCIxMDAlXCIsXG4gICAgLy8gICB0b3A6IC1oZWFkZUhlaWdodFxuICAgIC8vIH07XG4gICAgXG4gICAgJCgnIycrdmFsKS5hZGRDbGFzcygnaXNPcGVuZWQnKTtcbiAgfSk7XG4gICQoJy5qcy10YWJfX2l0ZW0nKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gIFxuICAgICR0aGlzLmNsb3Nlc3QoJy50YWInKS5maW5kKCcuanMtdGFiX19pdGVtJykucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgICR0aGlzLmFkZENsYXNzKCdqcy1hY3RpdmUnKTtcbiAgXG4gICAgdmFyIHZhbCA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFiJyk7ICAgIFxuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcudGFiJykuZmluZCgnLnRhYl9fYmxvY2snKS5yZW1vdmVDbGFzcygnanMtYWN0aXZlJyk7XG4gICAgJCgnW2RhdGEtY29udGVudD1cIicrdmFsKydcIl0nKS5hZGRDbGFzcygnanMtYWN0aXZlJyk7XG4gIH0pO1xufSkiXX0=
