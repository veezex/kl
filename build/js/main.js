$(document).ready(function(){if(function(i){"use strict";i.fn.emulateTransitionEnd=function(e){var t=!1,s=this;i(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||i(s).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var s in t)if(void 0!==e.style[s])return{end:t[s]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(p){"use strict";var m=function(e,t){this.$element=p(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",p.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",p.proxy(this.pause,this)).on("mouseleave.bs.carousel",p.proxy(this.cycle,this))};function l(a){return this.each(function(){var e=p(this),t=e.data("bs.carousel"),s=p.extend({},m.DEFAULTS,e.data(),"object"==typeof a&&a),i="string"==typeof a?a:s.slide;t||e.data("bs.carousel",t=new m(this,s)),"number"==typeof a?t.to(a):i?t[i]():s.interval&&t.pause().cycle()})}m.VERSION="3.3.5",m.TRANSITION_DURATION=600,m.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},m.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},m.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(p.proxy(this.next,this),this.options.interval)),this},m.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},m.prototype.getItemForDirection=function(e,t){var s=this.getItemIndex(t);if(("prev"==e&&0===s||"next"==e&&s==this.$items.length-1)&&!this.options.wrap)return t;var i=(s+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},m.prototype.to=function(e){var t=this,s=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):s==e?this.pause().cycle():this.slide(s<e?"next":"prev",this.$items.eq(e))},m.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&p.support.transition&&(this.$element.trigger(p.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},m.prototype.next=function(){if(!this.sliding)return this.slide("next")},m.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},m.prototype.slide=function(e,t){var s=this.$element.find(".item.active"),i=t||this.getItemForDirection(e,s),a=this.interval,n="next"==e?"left":"right",l=this;if(i.hasClass("active"))return this.sliding=!1;var o=i[0],r=p.Event("slide.bs.carousel",{relatedTarget:o,direction:n});if(this.$element.trigger(r),!r.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=p(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var c=p.Event("slid.bs.carousel",{relatedTarget:o,direction:n});return p.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,s.addClass(n),i.addClass(n),s.one("bsTransitionEnd",function(){i.removeClass([e,n].join(" ")).addClass("active"),s.removeClass(["active",n].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(m.TRANSITION_DURATION)):(s.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var e=p.fn.carousel;p.fn.carousel=l,p.fn.carousel.Constructor=m,p.fn.carousel.noConflict=function(){return p.fn.carousel=e,this};var t=function(e){var t,s=p(this),i=p(s.attr("data-target")||(t=s.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var a=p.extend({},i.data(),s.data()),n=s.attr("data-slide-to");n&&(a.interval=!1),l.call(i,a),n&&i.data("bs.carousel").to(n),e.preventDefault()}};p(document).on("click.bs.carousel.data-api","[data-slide]",t).on("click.bs.carousel.data-api","[data-slide-to]",t),p(window).on("load",function(){p('[data-ride="carousel"]').each(function(){var e=p(this);l.call(e,e.data())})})}(jQuery),$(".carousel-item-image .item").each(function(){for(var e=$(this),t=1;t<5;t++)(e=e.next()).length||(e=$(this).siblings(":first")),e.children(":first-child").clone().addClass("cloneditem-"+t).appendTo($(this))}),$(".carousel").carousel({interval:0}),$("#carousel-item-image").carousel({interval:0}),$(".benefits__item").on("click",function(){var e=$(this),t=e.attr("data-name");e.hasClass("isActive")?e.closest(".filter__checkbox-wrap").find("#"+t).prop("checked",!1):e.closest(".filter__checkbox-wrap").find("#"+t).prop("checked",!0)}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(l){"use strict";var o=function(e,t){this.$element=l(e),this.options=l.extend({},o.DEFAULTS,t),this.$trigger=l('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function a(e){var t,s=e.attr("data-target")||(t=e.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return l(s)}function r(i){return this.each(function(){var e=l(this),t=e.data("bs.collapse"),s=l.extend({},o.DEFAULTS,e.data(),"object"==typeof i&&i);!t&&s.toggle&&/show|hide/.test(i)&&(s.toggle=!1),t||e.data("bs.collapse",t=new o(this,s)),"string"==typeof i&&t[i]()})}o.VERSION="3.3.7",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,t=this.$parent&&this.$parent.children(".collapse__tab").children(".in, .collapsing");if(!(t&&t.length&&(e=t.data("bs.collapse"))&&e.transitioning)){var s=l.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){t&&t.length&&(r.call(t,"hide"),e||t.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!l.support.transition)return a.call(this);var n=l.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",l.proxy(a,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[i](this.$element[0][n])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=l.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!l.support.transition)return s.call(this);this.$element[t](0).one("bsTransitionEnd",l.proxy(s,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return l(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(l.proxy(function(e,t){var s=l(t);this.addAriaAndCollapsedClass(a(s),s)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(e,t){var s=e.hasClass("in");e.attr("aria-expanded",s),t.toggleClass("collapsed",!s).attr("aria-expanded",s)};var e=l.fn.collapse;l.fn.collapse=r,l.fn.collapse.Constructor=o,l.fn.collapse.noConflict=function(){return l.fn.collapse=e,this},l(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=l(this);t.attr("data-target")||e.preventDefault();var s=a(t),i=s.data("bs.collapse")?"toggle":t.data();r.call(s,i)})}(jQuery),$(".js-hide-filter").on("click",function(e){e.preventDefault();var t=$(this);$(".filter__input-group--add").hasClass("js-isVisible")?($(".filter__input-group--add").removeClass("js-isVisible"),t.removeClass("iSopened")):($(".filter__input-group--add").addClass("js-isVisible"),t.addClass("iSopened"))}),$("#counter").length){var t=0;$(window).scroll(function(){var e=$("#counter").offset().top-window.innerHeight;0==t&&$(window).scrollTop()>e&&($(".counter-value").each(function(){var e=$(this),t=e.attr("data-count");$({countNum:e.text()}).animate({countNum:t},{duration:2e3,easing:"swing",step:function(){e.text(Math.floor(this.countNum))},complete:function(){e.text(this.countNum),$(".statistics__card-text").addClass("isAnimated"),$(".history__card-text").addClass("isAnimated")}})}),t=1)})}if($(".js-header-menu").on("click",function(){$(".header__side").addClass("isOpened")}),$(".side-modal").on("click",function(e){$(e.target).closest(".side-modal__wrapper").length||$(".side-modal").removeClass("isOpened")}),$("#modal-close-menu").on("click",function(e){$(this).closest(".side-modal").removeClass("isOpened")}),$(".item__img").click(function(){var e=$(this).attr("src");console.log(e),$(".image__container").css("background-image","url("+e+")")}),$("#modal-close-help").on("click",function(e){$(this).closest(".js-modal").removeClass("isOpened")}),null!==document.getElementById("map")){function e(){var t=new ymaps.Map("map",{center:[55.76,37.64],zoom:10,controls:[]}),s=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div><br><div id='zoom-out' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div>",{build:function(){s.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),s.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}});function i(e){return{type:"FeatureCollection",features:e.map(function(e,t){return{id:t,type:"Feature",geometry:{type:"Point",coordinates:[e.lat,e.long]},properties:{iconCaption:e.serialNumber}}})}}function e(){return fetch("../js/test.json").then(function(e){return e.json()}).then(function(e){return i(e)})}$(window).on("resize",function(){var e=document.getElementById("map").offsetHeight/2-50;t.controls.remove("zoomControl"),t.controls.add("zoomControl",{layout:s,position:{left:"30px",top:e}})}).resize();var a=new ymaps.ObjectManager({clusterize:!0,gridSize:64,clusterIconLayout:"default#pieChart",clusterDisableClickZoom:!1});e().then(function(e){a.add(e)}),a.objects.options.set({iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[57,51],iconImageOffset:[-37,-50]}),t.geoObjects.add(a)}ymaps.ready(e)}else if(null!==document.getElementById("item-map")){ymaps.ready(e);var i=$("#item-map").attr("data-lng"),a=$("#item-map").attr("data-lat");function e(){var t=new ymaps.Map("item-map",{center:[i,a],zoom:13,controls:[]}),e=new ymaps.Placemark([i,a],{},{iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[57,51],iconImageOffset:[-37,-50]}),s=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div><br><div id='zoom-out' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div>",{build:function(){s.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),s.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}});$(window).on("resize",function(){var e=document.getElementById("item-map").offsetHeight/2-50;t.controls.remove("zoomControl"),t.controls.add("zoomControl",{layout:s,position:{left:"30px",top:e}})}).resize(),t.geoObjects.add(e)}}$(".js-modal-close-btn").on("click",function(){$(this).closest(".js-modal").removeClass("isOpened")}),$(".js-modal__btn").on("click",function(e){var t=$(this).attr("data-modal");$("#"+t).addClass("isOpened")}),$(window).on("resize",function(){if(null!==$(".scrollable-inner"))for(var e=0;e<$(".scrollable-inner").length;e++){var t=$(".scrollable-inner")[e],s=$(t).attr("data-iscroll"),i=$('.scrollable-parent[data-pscroll="'+s+'"]'),a=t.clientHeight;i.height(a)}}).resize(),$(window).on("scroll load",function(){var e=$(".js-header");60<=$(window).scrollTop()?e.addClass("sticked"):e.removeClass("sticked")}),$(".js-tab__item").on("click",function(e){var t=$(this);t.closest(".tab").find(".js-tab__item").removeClass("js-active"),t.addClass("js-active");var s=t.attr("data-tab");t.closest(".tab").find(".tab__block").removeClass("js-active"),$('[data-content="'+s+'"]').addClass("js-active")}),$.ajax({url:"./js/theme.json",dataType:"json",success:function(e){$(".side-modal__content").append('<ul class="side-modal__list side-modal__list--help"></ul>'),$.each(e,function(e,t){$(".side-modal__list--help").append('<li class="side-modal__theme"><a href="javascript:;" data-link="subtheme'+t.id+'" class="side-modal__theme-link js-open-subtheme">'+t.theme+"</a></li>")})}}),$(".js-toggle-item").click(function(){$(this).toggleClass("isActive")}),$(".js-select-btn").on("click",function(){var e=$(this),t=e.closest(".filter__input-block").find(".js-select-block");t.hasClass("isOpen")?(e.addClass("isClosed"),e.removeClass("isOpen"),t.removeClass("isOpen")):($(".js-select-block").removeClass("isOpen"),$(".js-select-btn").removeClass("isOpen"),e.addClass("isOpen"),t.addClass("isOpen"));var s=e.closest(".filter__input-block");s.find(".filter__empty").length||s.find(".js-filter-hidden").prop("required")&&(s.find(".js-filter-hidden").val()?(s.find(".filter__empty").remove(),e.removeClass("filter__danger")):(s.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),e.addClass("filter__danger")))}),$(".js-select-item").on("click",function(){var e=$(this);e.addClass("js-selected");var t=e.text(),s=e.attr("data-group");$('.js-select-btn[data-group="'+s+'"]').text(t),e.closest(".filter__input-block").find(".js-select-label").addClass("floated"),$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen"),$('.js-filter-hidden[data-group="'+s+'"]').val(t);var i=e.closest(".filter__input-block");if(i.find(".js-filter-hidden").prop("required")){i.find(".js-filter-hidden").val()?(i.find(".filter__empty").remove(),$('.js-select-btn[data-group="'+s+'"]').removeClass("filter__danger")):(i.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$('.js-select-btn[data-group="'+s+'"]').addClass("filter__danger"))}}),$(".js-select-btn.isOpen")&&$(document).on("click",function(e){if(!$(e.target).closest(".js-select-block.isOpen").length&&!$(e.target).closest(".js-select-btn.isOpen").length){$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen");var t=$(".js-select-btn.isClosed").closest(".filter__input-block");t.find(".filter__empty").length||t.find(".js-filter-hidden").prop("required")&&(t.find(".js-filter-hidden").val()?(t.find(".filter__empty").remove(),$(".js-select-btn.isClosed").removeClass("filter__danger")):(t.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$(".js-select-btn.isClosed").addClass("filter__danger")))}}),$(".filter__input").on("focus",function(){$(this).closest(".filter__input-wrap").find(".filter__floating-label").addClass("floated")}),$(".filter__input").on("blur",function(){var e,t,s=$(this),i=s.closest(".filter__input-wrap"),a=i.find(".filter__input");if(s.val()){var n=a.attr("name");if("name"===n)if(-1<a.val().indexOf(" "))i.addClass("validated"),a.hasClass("filter__danger")&&(a.removeClass("filter__danger"),i.find(".filter__empty").remove());else{i.removeClass("validated"),i.find(".filter__empty").remove();l="<span class='filter__empty'>Поле должно содержать Имя и Фамилию через пробел</span>";a.addClass("filter__danger"),i.append(l)}else if("email"===n)if(t=a.val(),/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t))i.addClass("validated"),a.hasClass("filter__danger")&&(a.removeClass("filter__danger"),i.find(".filter__empty").remove());else{i.removeClass("validated"),i.find(".filter__empty").remove();l="<span class='filter__empty'>Email должен содержать латинские буквы, символы @ и .</span>";a.addClass("filter__danger"),i.append(l)}else if("tel"===n)if(e=a.val(),/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10,14}$/.test(e))i.addClass("validated"),a.hasClass("filter__danger")&&(a.removeClass("filter__danger"),i.find(".filter__empty").remove());else{i.removeClass("validated"),i.find(".filter__empty").remove();l="<span class='filter__empty'>Номер телефона должен содержать от 10 до 14 цифр</span>";a.addClass("filter__danger"),i.append(l)}else a.removeClass("filter__danger"),i.find(".filter__empty").remove()}else{var l="<span class='filter__empty'>Поле обязательно для заполнения</span>";i.removeClass("validated"),i.find(".filter__floating-label").removeClass("floated"),s.prop("required")&&(a.hasClass("filter__danger")||(a.addClass("filter__danger"),i.append(l)))}})}),$(document).ajaxComplete(function(){$(".js-select-btn").on("click",function(){var e=$(this),t=e.closest(".filter__input-block").find(".js-select-block");t.hasClass("isOpen")?(e.addClass("isClosed"),e.removeClass("isOpen"),t.removeClass("isOpen")):($(".js-select-block").removeClass("isOpen"),$(".js-select-btn").removeClass("isOpen"),e.addClass("isOpen"),t.addClass("isOpen"));var s=e.closest(".filter__input-block");s.find(".filter__empty").length||s.find(".js-filter-hidden").prop("required")&&(s.find(".js-filter-hidden").val()?(s.find(".filter__empty").remove(),e.removeClass("filter__danger")):(s.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),e.addClass("filter__danger")))}),$(".js-select-item").on("click",function(){var e=$(this);e.addClass("js-selected");var t=e.text(),s=e.attr("data-group");$('.js-select-btn[data-group="'+s+'"]').text(t),e.closest(".filter__input-block").find(".js-select-label").addClass("floated"),$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen"),$('.js-filter-hidden[data-group="'+s+'"]').val(t);var i=e.closest(".filter__input-block");if(i.find(".js-filter-hidden").prop("required")){i.find(".js-filter-hidden").val()?(i.find(".filter__empty").remove(),$('.js-select-btn[data-group="'+s+'"]').removeClass("filter__danger")):(i.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$('.js-select-btn[data-group="'+s+'"]').addClass("filter__danger"))}}),$(".js-select-btn.isOpen")&&$(document).on("click",function(e){if(!$(e.target).closest(".js-select-block.isOpen").length&&!$(e.target).closest(".js-select-btn.isOpen").length){$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen");var t=$(".js-select-btn.isClosed").closest(".filter__input-block");t.find(".filter__empty").length||t.find(".js-filter-hidden").prop("required")&&(t.find(".js-filter-hidden").val()?(t.find(".filter__empty").remove(),$(".js-select-btn.isClosed").removeClass("filter__danger")):(t.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$(".js-select-btn.isClosed").addClass("filter__danger")))}}),$(".filter__input").on("focus",function(){$(this).closest(".filter__input-wrap").find(".filter__floating-label").addClass("floated")}),$(".filter__input").on("blur",function(){var e,t,s=$(this),i=s.closest(".filter__input-wrap"),a=i.find(".filter__input");if(s.val()){var n=a.attr("name");if("name"===n)if(-1<a.val().indexOf(" "))i.addClass("validated"),a.hasClass("filter__danger")&&(a.removeClass("filter__danger"),i.find(".filter__empty").remove());else{i.removeClass("validated"),i.find(".filter__empty").remove();l="<span class='filter__empty'>Поле должно содержать Имя и Фамилию через пробел</span>";a.addClass("filter__danger"),i.append(l)}else if("email"===n)if(t=a.val(),/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t))i.addClass("validated"),a.hasClass("filter__danger")&&(a.removeClass("filter__danger"),i.find(".filter__empty").remove());else{i.removeClass("validated"),i.find(".filter__empty").remove();l="<span class='filter__empty'>Email должен содержать латинские буквы, символы @ и .</span>";a.addClass("filter__danger"),i.append(l)}else if("tel"===n)if(e=a.val(),/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10,14}$/.test(e))i.addClass("validated"),a.hasClass("filter__danger")&&(a.removeClass("filter__danger"),i.find(".filter__empty").remove());else{i.removeClass("validated"),i.find(".filter__empty").remove();l="<span class='filter__empty'>Номер телефона должен содержать от 10 до 14 цифр</span>";a.addClass("filter__danger"),i.append(l)}else a.removeClass("filter__danger"),i.find(".filter__empty").remove()}else{var l="<span class='filter__empty'>Поле обязательно для заполнения</span>";i.removeClass("validated"),i.find(".filter__floating-label").removeClass("floated"),s.prop("required")&&(a.hasClass("filter__danger")||(a.addClass("filter__danger"),i.append(l)))}}),$(".js-open-subtheme-content").on("click",function(){var e=$(this),t=e.attr("data-link"),s=e.text();$(".side-modal__breadcrumbs").append('<li class="breadcrumbs__item"><a href="#" class="breadcrumbs__link">'+s+"</a></li>"),$.ajax({url:"./"+t+".html",dataType:"html",success:function(e){$(".side-modal__content").html(e)}})}),$(".js-open-subtheme").on("click",function(){var e=$(this),t=e.attr("data-link"),s=e.text();$(".side-modal__header-wrapper").html('<ul class="breadcrumbs__list side-modal__breadcrumbs u-jc-fs"><li class="breadcrumbs__item"><a href="#" class="breadcrumbs__link">Юридическая помощь</a></li></ul>'),$(".side-modal__breadcrumbs").append('<li class="breadcrumbs__item"><a href="#" class="breadcrumbs__link">'+s+"</a></li>"),$.ajax({url:"./js/"+t+".json",dataType:"json",success:function(e){$(".side-modal__content").html('<ul class="side-modal__list side-modal__list--help"></ul>'),$.each(e,function(e,t){$(".side-modal__list--help").append('<li class="side-modal__theme"><a href="javascript:;" data-link="subtheme'+t.id+'" class="side-modal__theme-link js-open-subtheme-content">'+t.theme+"</a></li>")})}})}),$(".js-btn-yes").on("click",function(){$.ajax({url:"./subtheme_yes.html",dataType:"html",success:function(e){$(".subtheme__block").html(e)}})}),$(".js-btn-no").on("click",function(){$.ajax({url:"./subtheme_form.html",dataType:"html",success:function(e){$(".subtheme__block").html(e)}})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJmbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiZHVyYXRpb24iLCJjYWxsZWQiLCIkZWwiLCJ0aGlzIiwib25lIiwic2V0VGltZW91dCIsInRyaWdnZXIiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsImVuZCIsImVsIiwiY3JlYXRlRWxlbWVudCIsInRyYW5zRW5kRXZlbnROYW1lcyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJuYW1lIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ0cmFuc2l0aW9uRW5kIiwiZXZlbnQiLCJzcGVjaWFsIiwiYnNUcmFuc2l0aW9uRW5kIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJlIiwidGFyZ2V0IiwiaXMiLCJoYW5kbGVPYmoiLCJoYW5kbGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJqUXVlcnkiLCJDYXJvdXNlbCIsImVsZW1lbnQiLCJvcHRpb25zIiwiJGVsZW1lbnQiLCIkaW5kaWNhdG9ycyIsImZpbmQiLCJwYXVzZWQiLCJzbGlkaW5nIiwiaW50ZXJ2YWwiLCIkYWN0aXZlIiwiJGl0ZW1zIiwia2V5Ym9hcmQiLCJvbiIsInByb3h5Iiwia2V5ZG93biIsInBhdXNlIiwiZG9jdW1lbnRFbGVtZW50IiwiY3ljbGUiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwiZXh0ZW5kIiwiREVGQVVMVFMiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiVkVSU0lPTiIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJ3cmFwIiwicHJvdG90eXBlIiwidGVzdCIsInRhZ05hbWUiLCJ3aGljaCIsInByZXYiLCJuZXh0IiwicHJldmVudERlZmF1bHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJpdGVtIiwicGFyZW50IiwiY2hpbGRyZW4iLCJpbmRleCIsImdldEl0ZW1Gb3JEaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJhY3RpdmUiLCJhY3RpdmVJbmRleCIsImxlbmd0aCIsIml0ZW1JbmRleCIsImVxIiwicG9zIiwidGhhdCIsInR5cGUiLCIkbmV4dCIsImlzQ3ljbGluZyIsImhhc0NsYXNzIiwicmVsYXRlZFRhcmdldCIsInNsaWRlRXZlbnQiLCJFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsInJlbW92ZUNsYXNzIiwiJG5leHRJbmRpY2F0b3IiLCJhZGRDbGFzcyIsInNsaWRFdmVudCIsIm9mZnNldFdpZHRoIiwiam9pbiIsIm9sZCIsImNhcm91c2VsIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiY2xpY2tIYW5kbGVyIiwiaHJlZiIsIiR0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsInNsaWRlSW5kZXgiLCJjYWxsIiwid2luZG93IiwiJGNhcm91c2VsIiwiaXRlbVRvQ2xvbmUiLCJpIiwic2libGluZ3MiLCJjbG9uZSIsImFwcGVuZFRvIiwiY2hlY2tlZCIsImNsb3Nlc3QiLCJwcm9wIiwiRXJyb3IiLCJ2ZXJzaW9uIiwianF1ZXJ5Iiwic3BsaXQiLCJDb2xsYXBzZSIsIiR0cmlnZ2VyIiwiaWQiLCJ0cmFuc2l0aW9uaW5nIiwiJHBhcmVudCIsImdldFBhcmVudCIsImFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyIsInRvZ2dsZSIsImdldFRhcmdldEZyb21UcmlnZ2VyIiwiZGltZW5zaW9uIiwic2hvdyIsImFjdGl2ZXNEYXRhIiwiYWN0aXZlcyIsInN0YXJ0RXZlbnQiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiaXNPcGVuIiwidG9nZ2xlQ2xhc3MiLCJjb2xsYXBzZSIsImEiLCJzY3JvbGwiLCJvVG9wIiwib2Zmc2V0IiwidG9wIiwiaW5uZXJIZWlnaHQiLCJzY3JvbGxUb3AiLCJjb3VudFRvIiwiY291bnROdW0iLCJ0ZXh0IiwiYW5pbWF0ZSIsImVhc2luZyIsInN0ZXAiLCJNYXRoIiwiZmxvb3IiLCJjbGljayIsImltZ1NyYyIsImNvbnNvbGUiLCJsb2ciLCJjc3MiLCJnZXRFbGVtZW50QnlJZCIsImluaXQiLCJteU1hcCIsInltYXBzIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImNvbnRyb2xzIiwiWm9vbUxheW91dCIsInRlbXBsYXRlTGF5b3V0RmFjdG9yeSIsImNyZWF0ZUNsYXNzIiwiYnVpbGQiLCJzdXBlcmNsYXNzIiwiem9vbUluQ2FsbGJhY2siLCJ1dGlsIiwiYmluZCIsInpvb21JbiIsInpvb21PdXRDYWxsYmFjayIsInpvb21PdXQiLCJjbGVhciIsInVuYmluZCIsIm1hcCIsImdldERhdGEiLCJjb250cm9sIiwiZ2V0TWFwIiwic2V0Wm9vbSIsImdldFpvb20iLCJjaGVja1pvb21SYW5nZSIsIm1hcFNlcnZlckRhdGEiLCJzZXJ2ZXJEYXRhIiwiZmVhdHVyZXMiLCJvYmoiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwibGF0IiwibG9uZyIsInByb3BlcnRpZXMiLCJpY29uQ2FwdGlvbiIsInNlcmlhbE51bWJlciIsImxvYWRMaXN0IiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiY2VudGVyUG9zIiwicmVtb3ZlIiwiYWRkIiwibGF5b3V0IiwicG9zaXRpb24iLCJsZWZ0IiwicmVzaXplIiwib2JqZWN0TWFuYWdlciIsIk9iamVjdE1hbmFnZXIiLCJjbHVzdGVyaXplIiwiZ3JpZFNpemUiLCJjbHVzdGVySWNvbkxheW91dCIsImNsdXN0ZXJEaXNhYmxlQ2xpY2tab29tIiwib2JqZWN0cyIsInNldCIsImljb25MYXlvdXQiLCJpY29uSW1hZ2VIcmVmIiwiaWNvbkltYWdlU2l6ZSIsImljb25JbWFnZU9mZnNldCIsImdlb09iamVjdHMiLCJsbmciLCJwbGFjZW1hcmsiLCJQbGFjZW1hcmsiLCJ2YWwiLCJzY3JJbiIsInNjckVsIiwic2NyUGFyIiwic2NySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaGVpZ2h0Iiwic3RpY2tibG9jayIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJhcHBlbmQiLCJ0aGVtZSIsInN5YmxpbmciLCIkYmxvY2siLCJncm91cCIsIiRwaG9uZSIsIiRlbWFpbCIsIiRpbnB1dCIsImluZGV4T2YiLCJlbXB0eSIsImFqYXhDb21wbGV0ZSIsImxpbmsiLCJodG1sIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQWlXaEIsR0F2VkMsU0FBVUYsR0FDVCxhQXlCQUEsRUFBRUcsR0FBR0MscUJBQXVCLFNBQVVDLEdBQ3BDLElBQUlDLEdBQVMsRUFDVEMsRUFBTUMsS0FDVlIsRUFBRVEsTUFBTUMsSUFBSSxrQkFBbUIsV0FBY0gsR0FBUyxJQUd0RCxPQURBSSxXQURlLFdBQW1CSixHQUFRTixFQUFFTyxHQUFLSSxRQUFRWCxFQUFFWSxRQUFRQyxXQUFXQyxNQUN6RFQsR0FDZEcsTUFHVFIsRUFBRSxXQUNBQSxFQUFFWSxRQUFRQyxXQTlCWixXQUNFLElBQUlFLEVBQUtkLFNBQVNlLGNBQWMsYUFFNUJDLEVBQXFCLENBQ3ZCQyxpQkFBbUIsc0JBQ25CQyxjQUFtQixnQkFDbkJDLFlBQW1CLGdDQUNuQlAsV0FBbUIsaUJBR3JCLElBQUssSUFBSVEsS0FBUUosRUFDZixRQUF1QkssSUFBbkJQLEVBQUdRLE1BQU1GLEdBQ1gsTUFBTyxDQUFFUCxJQUFLRyxFQUFtQkksSUFJckMsT0FBTyxFQWNnQkcsR0FFbEJ4QixFQUFFWSxRQUFRQyxhQUVmYixFQUFFeUIsTUFBTUMsUUFBUUMsZ0JBQWtCLENBQ2hDQyxTQUFVNUIsRUFBRVksUUFBUUMsV0FBV0MsSUFDL0JlLGFBQWM3QixFQUFFWSxRQUFRQyxXQUFXQyxJQUNuQ2dCLE9BQVEsU0FBVUMsR0FDaEIsR0FBSS9CLEVBQUUrQixFQUFFQyxRQUFRQyxHQUFHekIsTUFBTyxPQUFPdUIsRUFBRUcsVUFBVUMsUUFBUUMsTUFBTTVCLEtBQU02QixnQkE1Q3hFLENBaURDQyxRQVdELFNBQVV0QyxHQUNULGFBS0EsSUFBSXVDLEVBQVcsU0FBVUMs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eVAsS0FBSyxDQUNMQyxJQUFLLEtBQU9jLEVBQU8sUUFDbkJiLFNBQVcsT0FDWEMsUUFBUyxTQUFVL0wsR0FDakI3RCxFQUFFLHdCQUF3QnlRLEtBQU01TSxRQUl0QzdELEVBQUUscUJBQXFCbUQsR0FBRyxRQUFTLFdBQ2pDLElBQUlTLEVBQVE1RCxFQUFHUSxNQUNYZ1EsRUFBTzVNLEVBQU1zRCxLQUFLLGFBQ2xCaUQsRUFBT3ZHLEVBQU11RyxPQUtqQm5LLEVBQUUsK0JBQStCeVEsS0FKZixzS0FNbEJ6USxFQUFFLDRCQUE0QjZQLE9BQU8sdUVBQ0kxRixFQUFLLGFBRTlDbkssRUFBRXlQLEtBQUssQ0FDTEMsSUFBSyxRQUFRYyxFQUFLLFFBQ2xCYixTQUFXLE9BQ1hDLFFBQVMsU0FBVS9MLEdBQ2pCN0QsRUFBRSx3QkFBd0J5USxLQUFLLDZEQUMvQnpRLEVBQUUyRCxLQUFLRSxFQUFNLFNBQVM0RCxFQUFHd0gsR0FDdkJqUCxFQUFFLDJCQUNDNlAsT0FBTywyRUFDTlosRUFBSTNHLEdBQ0osNkRBQ0EyRyxFQUFJYSxNQUNKLG9CQUtaOVAsRUFBRSxlQUFlbUQsR0FBRyxRQUFTLFdBQzNCbkQsRUFBRXlQLEtBQUssQ0FDTEMsSUFBSyxzQkFDTEMsU0FBVyxPQUNYQyxRQUFTLFNBQVUvTCxHQUNqQjdELEVBQUUsb0JBQW9CeVEsS0FBTTVNLFFBS2xDN0QsRUFBRSxjQUFjbUQsR0FBRyxRQUFTLFdBQzFCbkQsRUFBRXlQLEtBQUssQ0FDTEMsSUFBSyx1QkFDTEMsU0FBVyxPQUNYQyxRQUFTLFNBQVUvTCxHQUNqQjdELEVBQUUsb0JBQW9CeVEsS0FBTTVNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMy41XG4gICAqIGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICBcbiAgXG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgXG4gICAgLy8gQ1NTIFRSQU5TSVRJT04gU1VQUE9SVCAoU2hvdXRvdXQ6IGh0dHBzOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcbiAgXG4gICAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgICAgfVxuICBcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XG4gICAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgICB9XG4gICAgICB9XG4gIFxuICAgICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxuICAgIH1cbiAgXG4gICAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgICB2YXIgJGVsID0gdGhpc1xuICAgICAgJCh0aGlzKS5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHsgY2FsbGVkID0gdHJ1ZSB9KVxuICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgICAkKGZ1bmN0aW9uICgpIHtcbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG4gIFxuICAgICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuXG4gIFxuICAgICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgICAgYmluZFR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhpcykpIHJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIFxuICB9KGpRdWVyeSk7XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQm9vdHN0cmFwOiBjYXJvdXNlbC5qcyB2My4zLjVcbiAgICogaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Nhcm91c2VsXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gIFxuICBcbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy4kZWxlbWVudCAgICA9ICQoZWxlbWVudClcbiAgICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICAgIHRoaXMub3B0aW9ucyAgICAgPSBvcHRpb25zXG4gICAgICB0aGlzLnBhdXNlZCAgICAgID0gbnVsbFxuICAgICAgdGhpcy5zbGlkaW5nICAgICA9IG51bGxcbiAgICAgIHRoaXMuaW50ZXJ2YWwgICAgPSBudWxsXG4gICAgICB0aGlzLiRhY3RpdmUgICAgID0gbnVsbFxuICAgICAgdGhpcy4kaXRlbXMgICAgICA9IG51bGxcbiAgXG4gICAgICB0aGlzLm9wdGlvbnMua2V5Ym9hcmQgJiYgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5rZXlkb3duLCB0aGlzKSlcbiAgXG4gICAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiAhKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgJiYgdGhpcy4kZWxlbWVudFxuICAgICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgICAub24oJ21vdXNlbGVhdmUuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMuY3ljbGUsIHRoaXMpKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwuVkVSU0lPTiAgPSAnMy4zLjUnXG4gIFxuICAgIENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04gPSA2MDBcbiAgXG4gICAgQ2Fyb3VzZWwuREVGQVVMVFMgPSB7XG4gICAgICBpbnRlcnZhbDogNTAwMCxcbiAgICAgIHBhdXNlOiAnaG92ZXInLFxuICAgICAgd3JhcDogdHJ1ZSxcbiAgICAgIGtleWJvYXJkOiB0cnVlXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG4gICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgICAgY2FzZSAzNzogdGhpcy5wcmV2KCk7IGJyZWFrXG4gICAgICAgIGNhc2UgMzk6IHRoaXMubmV4dCgpOyBicmVha1xuICAgICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICAgIH1cbiAgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IGZhbHNlKVxuICBcbiAgICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuICBcbiAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnZhbFxuICAgICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICAgJiYgKHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCwgdGhpcyksIHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpXG4gIFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdGhpcy4kaXRlbXMgPSBpdGVtLnBhcmVudCgpLmNoaWxkcmVuKCcuaXRlbScpXG4gICAgICByZXR1cm4gdGhpcy4kaXRlbXMuaW5kZXgoaXRlbSB8fCB0aGlzLiRhY3RpdmUpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUZvckRpcmVjdGlvbiA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIGFjdGl2ZSkge1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoYWN0aXZlKVxuICAgICAgdmFyIHdpbGxXcmFwID0gKGRpcmVjdGlvbiA9PSAncHJldicgJiYgYWN0aXZlSW5kZXggPT09IDApXG4gICAgICAgICAgICAgICAgICB8fCAoZGlyZWN0aW9uID09ICduZXh0JyAmJiBhY3RpdmVJbmRleCA9PSAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkpXG4gICAgICBpZiAod2lsbFdyYXAgJiYgIXRoaXMub3B0aW9ucy53cmFwKSByZXR1cm4gYWN0aXZlXG4gICAgICB2YXIgZGVsdGEgPSBkaXJlY3Rpb24gPT0gJ3ByZXYnID8gLTEgOiAxXG4gICAgICB2YXIgaXRlbUluZGV4ID0gKGFjdGl2ZUluZGV4ICsgZGVsdGEpICUgdGhpcy4kaXRlbXMubGVuZ3RoXG4gICAgICByZXR1cm4gdGhpcy4kaXRlbXMuZXEoaXRlbUluZGV4KVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgdmFyIHRoYXQgICAgICAgID0gdGhpc1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcbiAgXG4gICAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxuICBcbiAgICAgIGlmICh0aGlzLnNsaWRpbmcpICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50Lm9uZSgnc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHsgdGhhdC50byhwb3MpIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICAgIGlmIChhY3RpdmVJbmRleCA9PSBwb3MpIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKVxuICBcbiAgICAgIHJldHVybiB0aGlzLnNsaWRlKHBvcyA+IGFjdGl2ZUluZGV4ID8gJ25leHQnIDogJ3ByZXYnLCB0aGlzLiRpdGVtcy5lcShwb3MpKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcbiAgXG4gICAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCcubmV4dCwgLnByZXYnKS5sZW5ndGggJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZClcbiAgICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgICAgfVxuICBcbiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG4gIFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXG4gICAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCB0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24odHlwZSwgJGFjdGl2ZSlcbiAgICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXG4gICAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuICBcbiAgICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiAodGhpcy5zbGlkaW5nID0gZmFsc2UpXG4gIFxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KCdzbGlkZS5icy5jYXJvdXNlbCcsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcbiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgIH0pXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudClcbiAgICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgXG4gICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG4gIFxuICAgICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKVxuICBcbiAgICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdmFyICRuZXh0SW5kaWNhdG9yID0gJCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoJG5leHQpXSlcbiAgICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG4gIFxuICAgICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XG4gICAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXG4gICAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgICAkYWN0aXZlXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICAgIH0sIDApXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgfVxuICBcbiAgICAgIGlzQ3ljbGluZyAmJiB0aGlzLmN5Y2xlKClcbiAgXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gIFxuICAgIC8vIENBUk9VU0VMIFBMVUdJTiBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ2Fyb3VzZWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gICAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcbiAgXG4gICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnLCAoZGF0YSA9IG5ldyBDYXJvdXNlbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uKSBkYXRhW2FjdGlvbl0oKVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmludGVydmFsKSBkYXRhLnBhdXNlKCkuY3ljbGUoKVxuICAgICAgfSlcbiAgICB9XG4gIFxuICAgIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG4gIFxuICAgICQuZm4uY2Fyb3VzZWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcbiAgXG4gIFxuICAgIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJC5mbi5jYXJvdXNlbCA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09XG4gIFxuICAgIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGhyZWZcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcbiAgICAgIHZhciBzbGlkZUluZGV4ID0gJHRoaXMuYXR0cignZGF0YS1zbGlkZS10bycpXG4gICAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG4gIFxuICAgICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9ucylcbiAgXG4gICAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgICAkdGFyZ2V0LmRhdGEoJ2JzLmNhcm91c2VsJykudG8oc2xpZGVJbmRleClcbiAgICAgIH1cbiAgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIFxuICAgICQoZG9jdW1lbnQpXG4gICAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXScsIGNsaWNrSGFuZGxlcilcbiAgICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGUtdG9dJywgY2xpY2tIYW5kbGVyKVxuICBcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRjYXJvdXNlbCA9ICQodGhpcylcbiAgICAgICAgUGx1Z2luLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKVxuICAgICAgfSlcbiAgICB9KVxuICBcbiAgfShqUXVlcnkpO1xuICBcbiAgK2Z1bmN0aW9uKCl7XG4gICAgJCgnLmNhcm91c2VsLWl0ZW0taW1hZ2UgLml0ZW0nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgaXRlbVRvQ2xvbmUgPSAkKHRoaXMpO1xuICBcbiAgICAgIGZvciAodmFyIGk9MTtpPDU7aSsrKSB7XG4gICAgICAgIGl0ZW1Ub0Nsb25lID0gaXRlbVRvQ2xvbmUubmV4dCgpO1xuICBcbiAgICAgICAgLy8gd3JhcCBhcm91bmQgaWYgYXQgZW5kIG9mIGl0ZW0gY29sbGVjdGlvblxuICAgICAgICBpZiAoIWl0ZW1Ub0Nsb25lLmxlbmd0aCkge1xuICAgICAgICAgIGl0ZW1Ub0Nsb25lID0gJCh0aGlzKS5zaWJsaW5ncygnOmZpcnN0Jyk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIGdyYWIgaXRlbSwgY2xvbmUsIGFkZCBtYXJrZXIgY2xhc3MsIGFkZCB0byBjb2xsZWN0aW9uXG4gICAgICAgIGl0ZW1Ub0Nsb25lLmNoaWxkcmVuKCc6Zmlyc3QtY2hpbGQnKS5jbG9uZSgpXG4gICAgICAgICAgLmFkZENsYXNzKFwiY2xvbmVkaXRlbS1cIisoaSkpXG4gICAgICAgICAgLmFwcGVuZFRvKCQodGhpcykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KCk7XG4gIFxuICAkKCcuY2Fyb3VzZWwnKS5jYXJvdXNlbCh7XG4gIFx0aW50ZXJ2YWw6IDAgLy90ZW1wXG4gIH0pO1xuICBcbiAgJCgnI2Nhcm91c2VsLWl0ZW0taW1hZ2UnKS5jYXJvdXNlbCh7IFxuICAgIGludGVydmFsOiAwIC8vdGVtcFxuICB9KTtcbiAgJCgnLmJlbmVmaXRzX19pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgIHZhciBjaGVja2VkID0gJHRoaXMuYXR0cignZGF0YS1uYW1lJyk7XG4gICAgaWYgKCAhJHRoaXMuaGFzQ2xhc3MoJ2lzQWN0aXZlJykpIHtcbiAgICAgICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2NoZWNrYm94LXdyYXAnKS5maW5kKCcjJysgY2hlY2tlZCkucHJvcCgnY2hlY2tlZCcsdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2NoZWNrYm94LXdyYXAnKS5maW5kKCcjJysgY2hlY2tlZCkucHJvcCgnY2hlY2tlZCcsZmFsc2UpO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygkKCcjc2Nob29sJykuaXMoJzpjaGVja2VkJykpO1xuICAgIC8vIGNvbnNvbGUubG9nKCQoJyNraW5kZXInKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI2RydWdzdG9yZScpLmlzKCc6Y2hlY2tlZCcpKTtcbiAgICAvLyBjb25zb2xlLmxvZygkKCcjaG9zcGl0YWwnKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI3Nob3AnKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI2JhbmsnKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI2NhZmUnKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI3Jlc3QnKS5pcygnOmNoZWNrZWQnKSk7XG4gIH0pXG4gIC8qIVxuICAgKiBCb290c3RyYXAgdjMuMy43IChodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbSlcbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxOCBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqL1xuICBcbiAgLyohXG4gICAqIEdlbmVyYXRlZCB1c2luZyB0aGUgQm9vdHN0cmFwIEN1c3RvbWl6ZXIgKDxub25lPilcbiAgICogQ29uZmlnIHNhdmVkIHRvIGNvbmZpZy5qc29uIGFuZCA8bm9uZT5cbiAgICovXG4gIGlmICh0eXBlb2YgalF1ZXJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeScpXG4gIH1cbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB2ZXJzaW9uID0gJC5mbi5qcXVlcnkuc3BsaXQoJyAnKVswXS5zcGxpdCgnLicpXG4gICAgaWYgKCh2ZXJzaW9uWzBdIDwgMiAmJiB2ZXJzaW9uWzFdIDwgOSkgfHwgKHZlcnNpb25bMF0gPT0gMSAmJiB2ZXJzaW9uWzFdID09IDkgJiYgdmVyc2lvblsyXSA8IDEpIHx8ICh2ZXJzaW9uWzBdID4gMykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciwgYnV0IGxvd2VyIHRoYW4gdmVyc2lvbiA0JylcbiAgICB9XG4gIH0oalF1ZXJ5KTtcbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBCb290c3RyYXA6IGNvbGxhcHNlLmpzIHYzLjMuN1xuICAgKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICBcbiAgLyoganNoaW50IGxhdGVkZWY6IGZhbHNlICovXG4gIFxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICAgIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQgICAgICA9ICQoZWxlbWVudClcbiAgICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICAgIHRoaXMuJHRyaWdnZXIgICAgICA9ICQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2hyZWY9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS10YXJnZXQ9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcbiAgXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuICAgICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LCB0aGlzLiR0cmlnZ2VyKVxuICAgICAgfVxuICBcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlKSB0aGlzLnRvZ2dsZSgpXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5WRVJTSU9OICA9ICczLjMuNydcbiAgXG4gICAgQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTiA9IDM1MFxuICBcbiAgICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICAgIHRvZ2dsZTogdHJ1ZVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuICBcbiAgICAgIHZhciBhY3RpdmVzRGF0YVxuICAgICAgdmFyIGFjdGl2ZXMgPSB0aGlzLiRwYXJlbnQgJiYgdGhpcy4kcGFyZW50LmNoaWxkcmVuKCcuY29sbGFwc2VfX3RhYicpLmNoaWxkcmVuKCcuaW4sIC5jb2xsYXBzaW5nJylcbiAgXG4gICAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICBhY3RpdmVzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgICBpZiAoYWN0aXZlc0RhdGEgJiYgYWN0aXZlc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgICB9XG4gIFxuICAgICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuICBcbiAgICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgICAgYWN0aXZlc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgICB9XG4gIFxuICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcbiAgXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgXG4gICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuICBcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcbiAgXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgICAgfVxuICBcbiAgICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG4gIFxuICAgICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbMF1bc2Nyb2xsU2l6ZV0pXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuICBcbiAgICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy5jb2xsYXBzZScpXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgXG4gICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0XG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlIGluJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgXG4gICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG4gIFxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuY29sbGFwc2UnKVxuICAgICAgfVxuICBcbiAgICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICBbZGltZW5zaW9uXSgwKVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpID8gJ2hpZGUnIDogJ3Nob3cnXSgpXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuZ2V0UGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICQodGhpcy5vcHRpb25zLnBhcmVudClcbiAgICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHRoaXMub3B0aW9ucy5wYXJlbnQgKyAnXCJdJylcbiAgICAgICAgLmVhY2goJC5wcm94eShmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudClcbiAgICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhnZXRUYXJnZXRGcm9tVHJpZ2dlcigkZWxlbWVudCksICRlbGVtZW50KVxuICAgICAgICB9LCB0aGlzKSlcbiAgICAgICAgLmVuZCgpXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gKCRlbGVtZW50LCAkdHJpZ2dlcikge1xuICAgICAgdmFyIGlzT3BlbiA9ICRlbGVtZW50Lmhhc0NsYXNzKCdpbicpXG4gIFxuICAgICAgJGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgICAgICR0cmlnZ2VyXG4gICAgICAgIC50b2dnbGVDbGFzcygnY29sbGFwc2VkJywgIWlzT3BlbilcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gICAgfVxuICBcbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdHJpZ2dlcikge1xuICAgICAgdmFyIGhyZWZcbiAgICAgIHZhciB0YXJnZXQgPSAkdHJpZ2dlci5hdHRyKCdkYXRhLXRhcmdldCcpXG4gICAgICAgIHx8IChocmVmID0gJHRyaWdnZXIuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gIFxuICAgICAgcmV0dXJuICQodGFyZ2V0KVxuICAgIH1cbiAgXG4gIFxuICAgIC8vIENPTExBUFNFIFBMVUdJTiBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gIFxuICAgICAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy50b2dnbGUgJiYgL3Nob3d8aGlkZS8udGVzdChvcHRpb24pKSBvcHRpb25zLnRvZ2dsZSA9IGZhbHNlXG4gICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgICAgfSlcbiAgICB9XG4gIFxuICAgIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG4gIFxuICAgICQuZm4uY29sbGFwc2UgICAgICAgICAgICAgPSBQbHVnaW5cbiAgICAkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yID0gQ29sbGFwc2VcbiAgXG4gIFxuICAgIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09XG4gIFxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgXG4gICAgICBpZiAoISR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykpIGUucHJldmVudERlZmF1bHQoKVxuICBcbiAgICAgIHZhciAkdGFyZ2V0ID0gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcbiAgXG4gICAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24pXG4gICAgfSlcbiAgXG4gIH0oalF1ZXJ5KTtcbiAgJCgnLmpzLWhpZGUtZmlsdGVyJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICBpZiAoICQoJy5maWx0ZXJfX2lucHV0LWdyb3VwLS1hZGQnKS5oYXNDbGFzcygnanMtaXNWaXNpYmxlJykgKSB7XG4gICAgICAkKCcuZmlsdGVyX19pbnB1dC1ncm91cC0tYWRkJykucmVtb3ZlQ2xhc3MoJ2pzLWlzVmlzaWJsZScpO1xuICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2lTb3BlbmVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5maWx0ZXJfX2lucHV0LWdyb3VwLS1hZGQnKS5hZGRDbGFzcygnanMtaXNWaXNpYmxlJyk7ICAgICAgXG4gICAgICAkdGhpcy5hZGRDbGFzcygnaVNvcGVuZWQnKTtcbiAgICB9XG4gIH0pO1xuICBpZiAoJCgnI2NvdW50ZXInKS5sZW5ndGggKSB7XG4gICAgdmFyIGEgPSAwO1xuICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb1RvcCA9ICQoJyNjb3VudGVyJykub2Zmc2V0KCkudG9wIC0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgaWYgKGEgPT0gMCAmJiAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiBvVG9wKSB7XG4gICAgICAgICQoJy5jb3VudGVyLXZhbHVlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLCBjb3VudFRvID0gJHRoaXMuYXR0cignZGF0YS1jb3VudCcpO1xuICAgICAgICAgICQoe2NvdW50TnVtOiAkdGhpcy50ZXh0KCl9KS5hbmltYXRlKHsgY291bnROdW06IGNvdW50VG99LCB7XG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICBlYXNpbmc6ICdzd2luZycsXG4gICAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR0aGlzLnRleHQoTWF0aC5mbG9vcih0aGlzLmNvdW50TnVtKSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkdGhpcy50ZXh0KHRoaXMuY291bnROdW0pO1xuICAgICAgICAgICAgICAgIC8vYWxlcnQoJ2ZpbmlzaGVkJyk7XG4gICAgICAgICAgICAgICAgJCgnLnN0YXRpc3RpY3NfX2NhcmQtdGV4dCcpLmFkZENsYXNzKCdpc0FuaW1hdGVkJyk7XG4gICAgICAgICAgICAgICAgJCgnLmhpc3RvcnlfX2NhcmQtdGV4dCcpLmFkZENsYXNzKCdpc0FuaW1hdGVkJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGEgPSAxO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8vICQoJy5qcy1uYXYtbGluaycpLmhvdmVyKGZ1bmN0aW9uKCkge1xuICAvLyAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgLy8gICAvLyB2YXIgbGluayA9ICR0aGlzLmF0dHIoJ2RhdGEtbGluaycpO1xuICAvLyAgIC8vIGlmICggJCgnLmhlYWRlcl9fZHJvcGRvd25bZGF0YS1kcm9wPVwiJytsaW5rKydcIl0nKS5oYXNDbGFzcygnaXNPcGVuZWQnKSApIHtcbiAgLy8gICAvLyAgICQoJy5oZWFkZXJfX2Ryb3Bkb3duW2RhdGEtZHJvcD1cIicrbGluaysnXCJdJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIC8vICAgLy8gfSBlbHNlIHtcbiAgLy8gICAvLyAgICQoJy5oZWFkZXJfX2Ryb3Bkb3duW2RhdGEtZHJvcD1cIicrbGluaysnXCJdJykuYWRkQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIC8vICAgLy8gfVxuICAvLyAgIGlmICggJHRoaXMuZmluZCgnLmhlYWRlcl9fZHJvcGRvd24nKS5oYXNDbGFzcygnaXNPcGVuZWQnKSApIHtcbiAgLy8gICAgICR0aGlzLmZpbmQoJy5oZWFkZXJfX2Ryb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIC8vICAgfSBlbHNlIHtcbiAgLy8gICAgICR0aGlzLmZpbmQoJy5oZWFkZXJfX2Ryb3Bkb3duJykuYWRkQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIC8vICAgfVxuICAvLyB9KVxuICBcbiAgLy8gaWYgKCAkKCcuaGVhZGVyX19kcm9wZG93bi5pc09wZW5lZCcpICkge1xuICAvLyAgIGNvbnNvbGUubG9nKFwiaGVwcGVuc1wiKVxuICAvLyAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgLy8gICAgIGlmICggISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5oZWFkZXJfX2Ryb3Bkb3duLmlzT3BlbmVkJykubGVuZ3RoKSB7XG4gIC8vICAgICAgICQoJy5oZWFkZXJfX2Ryb3Bkb3duLmlzT3BlbmVkJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpO1xuICAvLyAgICAgfVxuICAvLyAgIH0pO1xuICAvLyB9XG4gICQoJy5qcy1oZWFkZXItbWVudScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICQoJy5oZWFkZXJfX3NpZGUnKS5hZGRDbGFzcygnaXNPcGVuZWQnKTtcbiAgfSlcbiAgXG4gICQoJy5zaWRlLW1vZGFsJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGlmICggISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5zaWRlLW1vZGFsX193cmFwcGVyJykubGVuZ3RoKSB7XG4gICAgICAkKCcuc2lkZS1tb2RhbCcpLnJlbW92ZUNsYXNzKCdpc09wZW5lZCcpO1xuICAgIH1cbiAgfSlcbiAgXG4gICQoJyNtb2RhbC1jbG9zZS1tZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICAkdGhpcy5jbG9zZXN0KCcuc2lkZS1tb2RhbCcpLnJlbW92ZUNsYXNzKCdpc09wZW5lZCcpO1xuICB9KVxuICAkKCcuaXRlbV9faW1nJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICB2YXIgaW1nU3JjID0gJCggdGhpcyApLmF0dHIoJ3NyYycpO1xuICBcbiAgICBjb25zb2xlLmxvZyggaW1nU3JjICk7XG4gICAgXG4gICAgJCgnLmltYWdlX19jb250YWluZXInKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKCcgKyBpbWdTcmMgKyAnKScgKTtcbiAgfSk7XG4gICQoJyNtb2RhbC1jbG9zZS1oZWxwJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdub3QgaGFwcGVucycpO1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICAkdGhpcy5jbG9zZXN0KCcuanMtbW9kYWwnKS5yZW1vdmVDbGFzcygnaXNPcGVuZWQnKTtcbiAgfSlcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSAhPT0gbnVsbCkge1xuICAgICAgLy8g0KTRg9C90LrRhtC40Y8geW1hcHMucmVhZHkoKSDQsdGD0LTQtdGCINCy0YvQt9Cy0LDQvdCwLCDQutC+0LPQtNCwXG4gICAgICAvLyDQt9Cw0LPRgNGD0LfRj9GC0YHRjyDQstGB0LUg0LrQvtC80L/QvtC90LXQvdGC0YsgQVBJLCDQsCDRgtCw0LrQttC1INC60L7Qs9C00LAg0LHRg9C00LXRgiDQs9C+0YLQvtCy0L4gRE9NLdC00LXRgNC10LLQvi5cbiAgICAgIHltYXBzLnJlYWR5KGluaXQpO1xuICBcbiAgICAgIGZ1bmN0aW9uIGluaXQoKXsgXG4gICAgICAgICAgLy8g0KHQvtC30LTQsNC90LjQtSDQutCw0YDRgtGLLiAgICBcbiAgICAgICAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcbiAgICAgICAgICAgICAgLy8g0JrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC90YLRgNCwINC60LDRgNGC0YsuXG4gICAgICAgICAgICAgIC8vINCf0L7RgNGP0LTQvtC6INC/0L4g0YPQvNC+0LvRh9C90LjRjjogwqvRiNC40YDQvtGC0LAsINC00L7Qu9Cz0L7RgtCwwrsuXG4gICAgICAgICAgICAgIC8vINCn0YLQvtCx0Ysg0L3QtSDQvtC/0YDQtdC00LXQu9GP0YLRjCDQutC+0L7RgNC00LjQvdCw0YLRiyDRhtC10L3RgtGA0LAg0LrQsNGA0YLRiyDQstGA0YPRh9C90YPRjixcbiAgICAgICAgICAgICAgLy8g0LLQvtGB0L/QvtC70YzQt9GD0LnRgtC10YHRjCDQuNC90YHRgtGA0YPQvNC10L3RgtC+0Lwg0J7Qv9GA0LXQtNC10LvQtdC90LjQtSDQutC+0L7RgNC00LjQvdCw0YIuXG4gICAgICAgICAgICAgIGNlbnRlcjogWzU1Ljc2LCAzNy42NF0sXG4gICAgICAgICAgICAgIC8vINCj0YDQvtCy0LXQvdGMINC80LDRgdGI0YLQsNCx0LjRgNC+0LLQsNC90LjRjy4g0JTQvtC/0YPRgdGC0LjQvNGL0LUg0LfQvdCw0YfQtdC90LjRjzpcbiAgICAgICAgICAgICAgLy8g0L7RgiAwICjQstC10YHRjCDQvNC40YApINC00L4gMTkuXG4gICAgICAgICAgICAgIHpvb206IDEwLFxuICAgICAgICAgICAgICBjb250cm9sczogW11cbiAgICAgICAgICB9KTsgXG4gIFxuICAgICAgICAgIC8vINCc0LXRgtC60LAsINGB0L7QtNC10YDQttC40LzQvtC1INCx0LDQu9GD0L3QsCDQutC+0YLQvtGA0L7QuSDQt9Cw0LPRgNGD0LbQsNC10YLRgdGPINGBINC/0L7QvNC+0YnRjNGOIEFKQVguXG4gICAgICAgICAgLy8gdmFyIHBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzU1Ljc2MDU4NCwgMzcuNjM5NDUwXSwge30sIHtcbiAgICAgICAgICAvLyAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgIC8vICAgICBpY29uSW1hZ2VIcmVmOiAnaW1hZ2VzL21hcF9fYmFsb29uLnBuZycsXG4gICAgICAgICAgLy8gICAgIGljb25JbWFnZVNpemU6IFs1NywgNTFdLFxuICAgICAgICAgIC8vICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMzcsIC01MF1cbiAgICAgICAgICAvLyB9KTtcbiAgXG4gICAgICAgICAgdmFyIFpvb21MYXlvdXQgPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3MoXCI8ZGl2IGNsYXNzPSdtYXBfX3pvb20tYmxvY2sgdS1qYy1zYnUtZmQtY29sJz5cIiArXG4gICAgICAgICAgXCI8ZGl2IGlkPSd6b29tLWluJyBjbGFzcz0nbWFwX196b29tIHUtamMtY2UgdS1haS1jZSc+XCIgK1xuICAgICAgICAgIFwiPHN2ZyBjbGFzcz0nc3ZnJyB3aWR0aD0nMTJweCcgaGVpZ2h0PScxMnB4JyB2aWV3Qm94PScwIDAgMTIgMTInIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+XCIgK1xuICAgICAgICAgIFwiPGcgaWQ9J0dyb3VwJyA+PHJlY3QgaWQ9J1JlY3RhbmdsZS0zJyB4PScwJyB5PSc1JyB3aWR0aD0nMTInIGhlaWdodD0nMic+PC9yZWN0PlwiICtcbiAgICAgICAgICBcIjxyZWN0IGlkPSdSZWN0YW5nbGUtMycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNi4wMDAwMDAsIDYuMDAwMDAwKSByb3RhdGUoOTAuMDAwMDAwKSB0cmFuc2xhdGUoLTYuMDAwMDAwLCAtNi4wMDAwMDApICcgeD0nMCcgeT0nNScgd2lkdGg9JzEyJyBoZWlnaHQ9JzInPjwvcmVjdD48L2c+XCIgK1xuICAgICAgICAgIFwiPC9zdmc+PC9kaXY+PGJyPlwiICtcbiAgICAgICAgICBcIjxkaXYgaWQ9J3pvb20tb3V0JyBjbGFzcz0nbWFwX196b29tIG1hcF9fem9vbS0tbWludXMgdS1qYy1jZSB1LWFpLWNlJz5cIiArXG4gICAgICAgICAgXCI8c3ZnIGNsYXNzPSdzdmcnIHdpZHRoPSc4cHgnIGhlaWdodD0nMnB4JyB2aWV3Qm94PScwIDAgOCAyJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnPlwiICtcbiAgICAgICAgICBcIjxyZWN0IGlkPSdtYXBfX21pbnVzJyB3aWR0aD0nOCcgaGVpZ2h0PScyJz48L3JlY3Q+XCIgK1xuICAgICAgICAgIFwiPC9zdmc+PC9kaXY+XCIsIHtcbiAgICAgICAgICAgICAgLy8g0J/QtdGA0LXQvtC/0YDQtdC00LXQu9GP0LXQvCDQvNC10YLQvtC00Ysg0LzQsNC60LXRgtCwLCDRh9GC0L7QsdGLINCy0YvQv9C+0LvQvdGP0YLRjCDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9C1INC00LXQudGB0YLQstC40Y9cbiAgICAgICAgICAgICAgLy8g0L/RgNC4INC/0L7RgdGC0YDQvtC10L3QuNC4INC4INC+0YfQuNGB0YLQutC1INC80LDQutC10YLQsC5cbiAgICAgICAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIC8vINCS0YvQt9GL0LLQsNC10Lwg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQgYnVpbGQuXG4gICAgICAgICAgICAgICAgICBab29tTGF5b3V0LnN1cGVyY2xhc3MuYnVpbGQuY2FsbCh0aGlzKTtcbiAgXG4gICAgICAgICAgICAgICAgICAvLyDQn9GA0LjQstGP0LfRi9Cy0LDQtdC8INGE0YPQvdC60YbQuNC4LdC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0Log0LrQvtC90YLQtdC60YHRgtGDINC4INGB0L7RhdGA0LDQvdGP0LXQvCDRgdGB0YvQu9C60LhcbiAgICAgICAgICAgICAgICAgIC8vINC90LAg0L3QuNGFLCDRh9GC0L7QsdGLINC/0L7RgtC+0Lwg0L7RgtC/0LjRgdCw0YLRjNGB0Y8g0L7RgiDRgdC+0LHRi9GC0LjQuS5cbiAgICAgICAgICAgICAgICAgIHRoaXMuem9vbUluQ2FsbGJhY2sgPSB5bWFwcy51dGlsLmJpbmQodGhpcy56b29tSW4sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgdGhpcy56b29tT3V0Q2FsbGJhY2sgPSB5bWFwcy51dGlsLmJpbmQodGhpcy56b29tT3V0LCB0aGlzKTtcbiAgXG4gICAgICAgICAgICAgICAgICAvLyDQndCw0YfQuNC90LDQtdC8INGB0LvRg9GI0LDRgtGMINC60LvQuNC60Lgg0L3QsCDQutC90L7Qv9C60LDRhSDQvNCw0LrQtdGC0LAuXG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1pbicpLmJpbmQoJ2NsaWNrJywgdGhpcy56b29tSW5DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1vdXQnKS5iaW5kKCdjbGljaycsIHRoaXMuem9vbU91dENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAvLyDQodC90LjQvNCw0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INC60LvQuNC60L7Qsi5cbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLWluJykudW5iaW5kKCdjbGljaycsIHRoaXMuem9vbUluQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgJCgnI3pvb20tb3V0JykudW5iaW5kKCdjbGljaycsIHRoaXMuem9vbU91dENhbGxiYWNrKTtcbiAgXG4gICAgICAgICAgICAgICAgICAvLyDQktGL0LfRi9Cy0LDQtdC8INGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDQvNC10YLQvtC0IGNsZWFyLlxuICAgICAgICAgICAgICAgICAgWm9vbUxheW91dC5zdXBlcmNsYXNzLmNsZWFyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgICAgICB6b29tSW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLmdldERhdGEoKS5jb250cm9sLmdldE1hcCgpO1xuICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSArIDEsIHtjaGVja1pvb21SYW5nZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAgICAgem9vbU91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0RGF0YSgpLmNvbnRyb2wuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpIC0gMSwge2NoZWNrWm9vbVJhbmdlOiB0cnVlfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgLy8gdmFyIGN0cmwgPSBteU1hcC5jb250cm9scy5nZXQoJ3pvb21Db250cm9sJykub3B0aW9ucy5nZXQoJ2xlZnQnKTtcbiAgICAgICAgICAvLyB2YXIgb2JqID0gbXlNYXAuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG15TWFwLCAnem9vbUNvbnRyb2wnLCBjdHJsLCBvYmopO1xuICBcbiAgICAgICAgICAkKCB3aW5kb3cgKS5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7ICAgXG4gICAgICAgICAgLy/QvtC/0YDQtdC00LXQu9GP0LXQvCDQstC10YDRgtC40LrQsNC70YzQvdGL0Lkg0YbQtdC90YLRgCDQutCw0YDRgtGLXG4gICAgICAgICAgICAgIHZhciBjZW50ZXJQb3MgPSAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwXCIpLm9mZnNldEhlaWdodCAvIDIgKSAtIDUwOyAgICBcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY2VudGVyUG9zKTsgIFxuICBcbiAgICAgICAgICAgICAgLy/Qt9Cw0LTQsNC10Lwg0YHQstC+0LnRgdGC0LLQsCDQutC90L7Qv9C+0Log0LfRg9C80LBcbiAgICAgICAgICAgICAgLy8gdmFyIHpvb21Db250cm9sID0gbmV3IHltYXBzLmNvbnRyb2wuWm9vbUNvbnRyb2woe1xuICAgICAgICAgICAgICAvLyAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAvLyAgICAgICAgIGxheW91dDogWm9vbUxheW91dCxcbiAgICAgICAgICAgICAgLy8gICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBsZWZ0OiAzMCxcbiAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdG9wOiBjZW50ZXJQb3NcbiAgICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgIC8vIH0pO1xuICBcbiAgICAgICAgICAgICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCd6b29tQ29udHJvbCcpO1xuICAgICAgICAgICAgICAvLyDQodC+0LfQtNCw0LTQuNC8INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQuNC5INC80LDQutC10YIg0L/QvtC70LfRg9C90LrQsCDQvNCw0YHRiNGC0LDQsdCwLlxuICAgICAgICAgICAgICBteU1hcC5jb250cm9scy5hZGQoJ3pvb21Db250cm9sJywge1xuICAgICAgICAgICAgICAgICAgbGF5b3V0OiBab29tTGF5b3V0LFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnMzBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgdG9wOiBjZW50ZXJQb3NcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7ICAgICAgICBcbiAgICAgICAgICB9KS5yZXNpemUoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBteU1hcC5nZW9PYmplY3RzLmFkZChwbGFjZW1hcmspO1xuICBcbiAgICAgICAgICBmdW5jdGlvbiBtYXBTZXJ2ZXJEYXRhKHNlcnZlckRhdGEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgIGZlYXR1cmVzOiBzZXJ2ZXJEYXRhLm1hcChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkZlYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBvaW50XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFtvYmoubGF0LCBvYmoubG9uZ10gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkNhcHRpb246IG9iai5zZXJpYWxOdW1iZXIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvcHRpb25zOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcHJlc2V0OiBnZXRPYmplY3RQcmVzZXQob2JqKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICBcbiAgICAgICAgICAvLyBmdW5jdGlvbiBnZXRPYmplY3RQcmVzZXQob2JqKSB7XG4gICAgICAgICAgLy8gICAgIHJldHVybiBvYmouaXNBY3RpdmVcbiAgICAgICAgICAvLyAgICAgICAgID8gJ2lzbGFuZHMjYmx1ZUNpcmNsZURvdEljb25XaXRoQ2FwdGlvbidcbiAgICAgICAgICAvLyAgICAgICAgIDogJ2lzbGFuZHMjcmVkQ2lyY2xlRG90SWNvbldpdGhDYXB0aW9uJztcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBcbiAgICAgIFxuICAgICAgICAgIGZ1bmN0aW9uIGxvYWRMaXN0KCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goXCIuLi9qcy90ZXN0Lmpzb25cIilcbiAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcFNlcnZlckRhdGEoZGF0YSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICBcbiAgICAgICAgICB2YXIgb2JqZWN0TWFuYWdlciA9IG5ldyB5bWFwcy5PYmplY3RNYW5hZ2VyKHtcbiAgICAgICAgICAgICAgY2x1c3Rlcml6ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZ3JpZFNpemU6IDY0LFxuICAgICAgICAgICAgICBjbHVzdGVySWNvbkxheW91dDogJ2RlZmF1bHQjcGllQ2hhcnQnLFxuICAgICAgICAgICAgICAvLyBjbHVzdGVySWNvbkltYWdlSHJlZjogJ2ltYWdlcy9tYXBfX2JhbG9vbi5wbmcnLFxuICAgICAgICAgICAgICBjbHVzdGVyRGlzYWJsZUNsaWNrWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgLy8gZ2VvT2JqZWN0T3BlbkJhbGxvb25PbkNsaWNrOiB0cnVlLFxuICAgICAgICAgICAgICAvLyBnZW9PYmplY3RIaWRlSWNvbk9uQmFsbG9vbk9wZW46IHRydWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gb2JqZWN0TWFuYWdlci5jbHVzdGVycy5vcHRpb25zLnNldCh7XG4gICAgICAgICAgLy8gICAgIGNsdXN0ZXJJY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgICAgLy8gICAgIGNsdXN0ZXJJY29uSW1hZ2VIcmVmOiAnaW1hZ2VzL21hcF9fYmFsb29uLnBuZycsXG4gICAgICAgICAgLy8gICAgIGNsdXN0ZXJJY29uSW1hZ2VTaXplOiBbNTcsIDUxXSxcbiAgICAgICAgICAvLyAgICAgY2x1c3Rlckljb25JbWFnZU9mZnNldDogWy0zNywgLTUwXVxuICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGxvYWRMaXN0KCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgIG9iamVjdE1hbmFnZXIuYWRkKGRhdGEpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIFxuICAgICAgICAgIG9iamVjdE1hbmFnZXIub2JqZWN0cy5vcHRpb25zLnNldCh7XG4gICAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcbiAgICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogJ2ltYWdlcy9tYXBfX2JhbG9vbi5wbmcnLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbNTcsIDUxXSxcbiAgICAgICAgICAgICAgaWNvbkltYWdlT2Zmc2V0OiBbLTM3LCAtNTBdXG4gICAgICAgICAgfSk7XG4gIFxuICAgICAgICAgIG15TWFwLmdlb09iamVjdHMuYWRkKG9iamVjdE1hbmFnZXIpO1xuICAgICAgfVxuICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtLW1hcCcpICE9PSBudWxsKSB7XG4gICAgICB5bWFwcy5yZWFkeShpbml0KTtcbiAgXG4gICAgICB2YXIgbG5nID0gJCgnI2l0ZW0tbWFwJykuYXR0cignZGF0YS1sbmcnKTtcbiAgICAgIHZhciBsYXQgPSAkKCcjaXRlbS1tYXAnKS5hdHRyKCdkYXRhLWxhdCcpO1xuICBcbiAgICAgIGZ1bmN0aW9uIGluaXQoKXsgXG4gICAgICAgICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcIml0ZW0tbWFwXCIsIHtcbiAgICAgICAgICAgICAgY2VudGVyOiBbbG5nLCBsYXRdLFxuICAgICAgICAgICAgICB6b29tOiAxMyxcbiAgICAgICAgICAgICAgY29udHJvbHM6IFtdXG4gICAgICAgICAgfSk7IFxuICBcbiAgICAgICAgICB2YXIgcGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbbG5nLCBsYXRdLCB7fSwge1xuICAgICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgICAgICAgIGljb25JbWFnZUhyZWY6ICdpbWFnZXMvbWFwX19iYWxvb24ucG5nJyxcbiAgICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzU3LCA1MV0sXG4gICAgICAgICAgICAgIGljb25JbWFnZU9mZnNldDogWy0zNywgLTUwXVxuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICB2YXIgWm9vbUxheW91dCA9IHltYXBzLnRlbXBsYXRlTGF5b3V0RmFjdG9yeS5jcmVhdGVDbGFzcyhcIjxkaXYgY2xhc3M9J21hcF9fem9vbS1ibG9jayB1LWpjLXNidS1mZC1jb2wnPlwiICtcbiAgICAgICAgICBcIjxkaXYgaWQ9J3pvb20taW4nIGNsYXNzPSdtYXBfX3pvb20gdS1qYy1jZSB1LWFpLWNlJz5cIiArXG4gICAgICAgICAgXCI8c3ZnIGNsYXNzPSdzdmcnIHdpZHRoPScxMnB4JyBoZWlnaHQ9JzEycHgnIHZpZXdCb3g9JzAgMCAxMiAxMicgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJz5cIiArXG4gICAgICAgICAgXCI8ZyBpZD0nR3JvdXAnID48cmVjdCBpZD0nUmVjdGFuZ2xlLTMnIHg9JzAnIHk9JzUnIHdpZHRoPScxMicgaGVpZ2h0PScyJz48L3JlY3Q+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J1JlY3RhbmdsZS0zJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2LjAwMDAwMCwgNi4wMDAwMDApIHJvdGF0ZSg5MC4wMDAwMDApIHRyYW5zbGF0ZSgtNi4wMDAwMDAsIC02LjAwMDAwMCkgJyB4PScwJyB5PSc1JyB3aWR0aD0nMTInIGhlaWdodD0nMic+PC9yZWN0PjwvZz5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj48YnI+XCIgK1xuICAgICAgICAgIFwiPGRpdiBpZD0nem9vbS1vdXQnIGNsYXNzPSdtYXBfX3pvb20gbWFwX196b29tLS1taW51cyB1LWpjLWNlIHUtYWktY2UnPlwiICtcbiAgICAgICAgICBcIjxzdmcgY2xhc3M9J3N2Zycgd2lkdGg9JzhweCcgaGVpZ2h0PScycHgnIHZpZXdCb3g9JzAgMCA4IDInIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J21hcF9fbWludXMnIHdpZHRoPSc4JyBoZWlnaHQ9JzInPjwvcmVjdD5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj5cIiwge1xuICAgICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgWm9vbUxheW91dC5zdXBlcmNsYXNzLmJ1aWxkLmNhbGwodGhpcyk7XG4gIFxuICAgICAgICAgICAgICAgICAgdGhpcy56b29tSW5DYWxsYmFjayA9IHltYXBzLnV0aWwuYmluZCh0aGlzLnpvb21JbiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnpvb21PdXRDYWxsYmFjayA9IHltYXBzLnV0aWwuYmluZCh0aGlzLnpvb21PdXQsIHRoaXMpO1xuICBcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLWluJykuYmluZCgnY2xpY2snLCB0aGlzLnpvb21JbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLmJpbmQoJ2NsaWNrJywgdGhpcy56b29tT3V0Q2FsbGJhY2spO1xuICAgICAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLWluJykudW5iaW5kKCdjbGljaycsIHRoaXMuem9vbUluQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgJCgnI3pvb20tb3V0JykudW5iaW5kKCdjbGljaycsIHRoaXMuem9vbU91dENhbGxiYWNrKTtcbiAgXG4gICAgICAgICAgICAgICAgICBab29tTGF5b3V0LnN1cGVyY2xhc3MuY2xlYXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgICAgIHpvb21JbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0RGF0YSgpLmNvbnRyb2wuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgMSwge2NoZWNrWm9vbVJhbmdlOiB0cnVlfSk7XG4gICAgICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgICAgICB6b29tT3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXREYXRhKCkuY29udHJvbC5nZXRNYXAoKTtcbiAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgLSAxLCB7Y2hlY2tab29tUmFuZ2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICAkKCB3aW5kb3cgKS5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7ICAgXG4gICAgICAgICAgICAgIHZhciBjZW50ZXJQb3MgPSAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaXRlbS1tYXBcIikub2Zmc2V0SGVpZ2h0IC8gMiApIC0gNTA7ICAgIFxuICBcbiAgICAgICAgICAgICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCd6b29tQ29udHJvbCcpO1xuICAgICAgICAgICAgICBteU1hcC5jb250cm9scy5hZGQoJ3pvb21Db250cm9sJywge1xuICAgICAgICAgICAgICAgICAgbGF5b3V0OiBab29tTGF5b3V0LFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnMzBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgdG9wOiBjZW50ZXJQb3NcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7ICAgICAgICBcbiAgICAgICAgICB9KS5yZXNpemUoKTtcbiAgICAgICAgICBcbiAgICAgICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChwbGFjZW1hcmspO1xuICAgICAgfVxuICB9XG4gICQoJy5qcy1tb2RhbC1jbG9zZS1idG4nKS5vbignY2xpY2snLGZ1bmN0aW9uKCkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgXG4gICAgJHRoaXMuY2xvc2VzdCgnLmpzLW1vZGFsJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIH0pO1xuICAkKCcuanMtbW9kYWxfX2J0bicpLm9uKCdjbGljaycsZnVuY3Rpb24oZSkge1xuICAgIHZhciB2YWwgPSAkKCB0aGlzICkuYXR0cignZGF0YS1tb2RhbCcpO1xuICAgIFxuICAgIC8vIHZhciBzdHlsZXMgPSB7XG4gICAgLy8gICBkaXNwbGF5IDogXCJibG9ja1wiLFxuICAgIC8vICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIC8vICAgdG9wOiAtaGVhZGVIZWlnaHRcbiAgICAvLyB9O1xuICAgIFxuICAgICQoJyMnK3ZhbCkuYWRkQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIH0pO1xuICAkKCB3aW5kb3cgKS5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7ICAgXG4gICAgaWYgKCQoJy5zY3JvbGxhYmxlLWlubmVyJykgIT09IG51bGwpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgICQoJy5zY3JvbGxhYmxlLWlubmVyJykubGVuZ3RoOyBpICsrKSB7XG4gICAgICAgIHZhciBzY3JJbiA9ICQoJy5zY3JvbGxhYmxlLWlubmVyJylbaV07XG4gICAgICAgIHZhciBzY3JFbCA9ICQoc2NySW4pLmF0dHIoJ2RhdGEtaXNjcm9sbCcpO1xuICAgICAgICB2YXIgc2NyUGFyID0gJCgnLnNjcm9sbGFibGUtcGFyZW50W2RhdGEtcHNjcm9sbD1cIicgKyBzY3JFbCArICdcIl0nKVxuICAgICAgICB2YXIgc2NySGVpZ2h0ID0gc2NySW4uY2xpZW50SGVpZ2h0O1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhzY3JIZWlnaHQpO1xuICAgICAgICBzY3JQYXIuaGVpZ2h0KHNjckhlaWdodCk7XG4gICAgICB9O1xuICAgIH07XG4gIH0pLnJlc2l6ZSgpO1xuICAkKHdpbmRvdykub24oXCJzY3JvbGwgbG9hZFwiLGZ1bmN0aW9uKCl7XG4gICAgdmFyIHN0aWNrYmxvY2sgPSAkKCcuanMtaGVhZGVyJyk7XG4gIFxuICAgIGlmICggJCh3aW5kb3cpLnNjcm9sbFRvcCgpID49IDYwKSB7XG4gICAgICBzdGlja2Jsb2NrLmFkZENsYXNzKCdzdGlja2VkJyk7IFxuICAgIH0gZWxzZSB7XG4gICAgICBzdGlja2Jsb2NrLnJlbW92ZUNsYXNzKCdzdGlja2VkJyk7IFxuICAgIH07XG4gIH0pXG4gICQoJy5qcy10YWJfX2l0ZW0nKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gIFxuICAgICR0aGlzLmNsb3Nlc3QoJy50YWInKS5maW5kKCcuanMtdGFiX19pdGVtJykucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgICR0aGlzLmFkZENsYXNzKCdqcy1hY3RpdmUnKTtcbiAgXG4gICAgdmFyIHZhbCA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFiJyk7ICAgIFxuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcudGFiJykuZmluZCgnLnRhYl9fYmxvY2snKS5yZW1vdmVDbGFzcygnanMtYWN0aXZlJyk7XG4gICAgJCgnW2RhdGEtY29udGVudD1cIicrdmFsKydcIl0nKS5hZGRDbGFzcygnanMtYWN0aXZlJyk7XG4gIH0pO1xuICAkLmFqYXgoe1xuICAgIHVybDogJy4vanMvdGhlbWUuanNvbicsICAgICAgICAgICAgIFxuICAgIGRhdGFUeXBlIDogXCJqc29uXCIsICAgICAgICAgICAgICAgICAgICBcbiAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgJCgnLnNpZGUtbW9kYWxfX2NvbnRlbnQnKS5hcHBlbmQoJzx1bCBjbGFzcz1cInNpZGUtbW9kYWxfX2xpc3Qgc2lkZS1tb2RhbF9fbGlzdC0taGVscFwiPjwvdWw+Jyk7XG4gICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oaSwgdmFsKSB7IFxuICAgICAgICAkKCcuc2lkZS1tb2RhbF9fbGlzdC0taGVscCcpXG4gICAgICAgICAgLmFwcGVuZCgnPGxpIGNsYXNzPVwic2lkZS1tb2RhbF9fdGhlbWVcIj48YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgZGF0YS1saW5rPVwic3VidGhlbWUnICtcbiAgICAgICAgICAgIHZhbC5pZCArXG4gICAgICAgICAgICAnXCIgY2xhc3M9XCJzaWRlLW1vZGFsX190aGVtZS1saW5rIGpzLW9wZW4tc3VidGhlbWVcIj4nK1xuICAgICAgICAgICAgdmFsLnRoZW1lICtcbiAgICAgICAgICAgICc8L2E+PC9saT4nKVxuICAgICAgfSk7XG4gICAgfSBcbiAgfSk7XG4gICQoIFwiLmpzLXRvZ2dsZS1pdGVtXCIgKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAkKCB0aGlzICkudG9nZ2xlQ2xhc3MoIFwiaXNBY3RpdmVcIiApO1xuICB9KTtcbiAgLy93aGVuIGNsaWNraW5nL3RvZ2dsaW5nIGRyb3Bkb3duIG1lbnUgYnRuXG4gICQoJy5qcy1zZWxlY3QtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgIHZhciBzeWJsaW5nID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKS5maW5kKCcuanMtc2VsZWN0LWJsb2NrJyk7XG4gICAgaWYgKCBzeWJsaW5nLmhhc0NsYXNzKCdpc09wZW4nKSkge1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2lzQ2xvc2VkJyk7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gICAgICBzeWJsaW5nLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmpzLXNlbGVjdC1ibG9jaycpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICAgICQoJy5qcy1zZWxlY3QtYnRuJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpOyAgICBcbiAgICAgICR0aGlzLmFkZENsYXNzKCdpc09wZW4nKTtcbiAgICAgIHN5YmxpbmcuYWRkQ2xhc3MoJ2lzT3BlbicpO1xuICAgIH1cbiAgXG4gICAgdmFyICRibG9jayA9ICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LWJsb2NrJyk7XG4gICAgdmFyICRleGlzdCA9ICRibG9jay5maW5kKCcuZmlsdGVyX19lbXB0eScpO1xuICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPPC9zcGFuPlwiXG4gICAgaWYgKCAhJGV4aXN0Lmxlbmd0aCApIHtcbiAgICAgIGlmICggJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgICBpZiAoICEkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS52YWwoKSApIHtcbiAgICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpLmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gIFxuICB9KTtcbiAgXG4gIC8vd2hlbiBjbGlja2luZyBvbiBpdGVtIGluIGRyb3Bkb3duIG1lbnVcbiAgJCgnLmpzLXNlbGVjdC1pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgICR0aGlzLmFkZENsYXNzKCdqcy1zZWxlY3RlZCcpO1xuICAgIHZhciB0ZXh0ID0gJHRoaXMudGV4dCgpO1xuICAgIHZhciBncm91cCA9ICR0aGlzLmF0dHIoJ2RhdGEtZ3JvdXAnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bltkYXRhLWdyb3VwPVwiJyArIGdyb3VwICsgJ1wiXScpLnRleHQodGV4dCk7XG4gICAgJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKS5maW5kKCcuanMtc2VsZWN0LWxhYmVsJykuYWRkQ2xhc3MoJ2Zsb2F0ZWQnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5hZGRDbGFzcygnaXNDbG9zZWQnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJsb2NrLmlzT3BlbicpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gICAgJCgnLmpzLWZpbHRlci1oaWRkZW5bZGF0YS1ncm91cD1cIicgKyBncm91cCArICdcIl0nKS52YWwodGV4dCk7ICAgXG4gICAgXG4gICAgdmFyICRibG9jayA9ICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LWJsb2NrJylcbiAgICBpZiAoICRibG9jay5maW5kKCcuanMtZmlsdGVyLWhpZGRlbicpLnByb3AoJ3JlcXVpcmVkJykpIHtcbiAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPPC9zcGFuPlwiXG4gICAgICBpZiAoICEkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS52YWwoKSApIHtcbiAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2lucHV0LXdyYXAnKS5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgICQoJy5qcy1zZWxlY3QtYnRuW2RhdGEtZ3JvdXA9XCInICsgZ3JvdXAgKyAnXCJdJykuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgJCgnLmpzLXNlbGVjdC1idG5bZGF0YS1ncm91cD1cIicgKyBncm91cCArICdcIl0nKS5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBcbiAgLy93aGVuIGNsaWNraW5nIG91dHNpZGUgdGhlIGl0ZW0gaW4gZHJvcGRvd24gb3IgZHJvcGRvd24gYnRuIFxuICBpZiAoICQoJy5qcy1zZWxlY3QtYnRuLmlzT3BlbicpICkge1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1zZWxlY3QtYmxvY2suaXNPcGVuJykubGVuZ3RoICYmICEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5sZW5ndGgpIHtcbiAgICAgICAgJCgnLmpzLXNlbGVjdC1idG4uaXNPcGVuJykuYWRkQ2xhc3MoJ2lzQ2xvc2VkJyk7XG4gICAgICAgICQoJy5qcy1zZWxlY3QtYmxvY2suaXNPcGVuJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpO1xuICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gIFxuICAgICAgICB2YXIgJHRoaXMgPSAkKCcuanMtc2VsZWN0LWJ0bi5pc0Nsb3NlZCcpO1xuICAgICAgICB2YXIgJGJsb2NrID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKTtcbiAgICAgICAgdmFyICRleGlzdCA9ICRibG9jay5maW5kKCcuZmlsdGVyX19lbXB0eScpO1xuICAgICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIlxuICAgICAgICBpZiAoICEkZXhpc3QubGVuZ3RoICkge1xuICAgICAgICAgIGlmICggJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgICAgICAgaWYgKCAhJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykudmFsKCkgKSB7XG4gICAgICAgICAgICAgICRibG9jay5maW5kKCcuZmlsdGVyX19pbnB1dC13cmFwJykuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc0Nsb3NlZCcpLmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICQoJy5qcy1zZWxlY3QtYnRuLmlzQ2xvc2VkJykucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG4gICQoJy5maWx0ZXJfX2lucHV0Jykub24oJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LXdyYXAnKS5maW5kKCcuZmlsdGVyX19mbG9hdGluZy1sYWJlbCcpLmFkZENsYXNzKCdmbG9hdGVkJyk7XG4gIH0pXG4gIFxuICAkKCcuZmlsdGVyX19pbnB1dCcpLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgIHZhciAkcGFyZW50ID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpO1xuICAgIHZhciAkaW5wdXQgPSAkcGFyZW50LmZpbmQoJy5maWx0ZXJfX2lucHV0Jyk7XG4gICAgaWYgKCAhJHRoaXMudmFsKCkgKSB7XG4gICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIjtcbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19mbG9hdGluZy1sYWJlbCcpLnJlbW92ZUNsYXNzKCdmbG9hdGVkJyk7XG4gICAgICBpZiAoICR0aGlzLnByb3AoJ3JlcXVpcmVkJykpIHtcbiAgICAgICAgaWYgKCAhJGlucHV0Lmhhc0NsYXNzKCdmaWx0ZXJfX2RhbmdlcicpICkge1xuICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAkcGFyZW50LmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgfSAgICBcbiAgICAgIH1cbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgdmFyIG5hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpXG4gICAgICBpZiAoIG5hbWUgPT09ICduYW1lJyApIHtcbiAgICAgICAgaWYgKCAkaW5wdXQudmFsKCkuaW5kZXhPZignICcpID4gLTEpIHtcbiAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICBpZiAoICRpbnB1dC5oYXNDbGFzcygnZmlsdGVyX19kYW5nZXInKSApIHtcbiAgICAgICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQtNC+0LvQttC90L4g0YHQvtC00LXRgNC20LDRgtGMINCY0LzRjyDQuCDQpNCw0LzQuNC70LjRjiDRh9C10YDQtdC3INC/0YDQvtCx0LXQuzwvc3Bhbj5cIjtcbiAgICAgICAgICAkaW5wdXQuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgJHBhcmVudC5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIG5hbWUgPT09ICdlbWFpbCcgKSB7XG4gICAgICAgIGlmKCB2YWxpZGF0ZUVtYWlsKCRpbnB1dC52YWwoKSkpIHtcbiAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICBpZiAoICRpbnB1dC5oYXNDbGFzcygnZmlsdGVyX19kYW5nZXInKSApIHtcbiAgICAgICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPkVtYWlsINC00L7Qu9C20LXQvSDRgdC+0LTQtdGA0LbQsNGC0Ywg0LvQsNGC0LjQvdGB0LrQuNC1INCx0YPQutCy0YssINGB0LjQvNCy0L7Qu9GLIEAg0LggLjwvc3Bhbj5cIjtcbiAgICAgICAgICAkaW5wdXQuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgJHBhcmVudC5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIG5hbWUgPT09ICd0ZWwnICkge1xuICAgICAgICBpZiggdmFsaWRhdGVQaG9uZSgkaW5wdXQudmFsKCkpKSB7XG4gICAgICAgICAgJHBhcmVudC5hZGRDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgaWYgKCAkaW5wdXQuaGFzQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJykgKSB7XG4gICAgICAgICAgICAkaW5wdXQucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgICAkcGFyZW50LmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgfSAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7QndC+0LzQtdGAINGC0LXQu9C10YTQvtC90LAg0LTQvtC70LbQtdC9INGB0L7QtNC10YDQttCw0YLRjCDQvtGCIDEwINC00L4gMTQg0YbQuNGE0YA8L3NwYW4+XCI7XG4gICAgICAgICAgJGlucHV0LmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICRwYXJlbnQuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkaW5wdXQucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pOyBcbiAgXG4gIGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwoJGVtYWlsKSB7XG4gICAgdmFyIGVtYWlsUmVnID0gL14oW1xcdy1cXC5dK0AoW1xcdy1dK1xcLikrW1xcdy1dezIsNH0pPyQvO1xuICAgIHJldHVybiBlbWFpbFJlZy50ZXN0KCAkZW1haWwgKTtcbiAgfTtcbiAgXG4gIGZ1bmN0aW9uIHZhbGlkYXRlUGhvbmUoJHBob25lKSB7XG4gICAgdmFyIHBob25lUmVnID0gL14oKDh8XFwrNylbXFwtIF0/KT8oXFwoP1xcZHszfVxcKT9bXFwtIF0/KT9bXFxkXFwtIF17MTAsMTR9JC87XG4gICAgcmV0dXJuIHBob25lUmVnLnRlc3QoICRwaG9uZSApO1xuICB9O1xufSk7XG4kKGRvY3VtZW50KS5hamF4Q29tcGxldGUoZnVuY3Rpb24gKCkge1xuICAvL3doZW4gY2xpY2tpbmcvdG9nZ2xpbmcgZHJvcGRvd24gbWVudSBidG5cbiAgJCgnLmpzLXNlbGVjdC1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgdmFyIHN5YmxpbmcgPSAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyX19pbnB1dC1ibG9jaycpLmZpbmQoJy5qcy1zZWxlY3QtYmxvY2snKTtcbiAgICBpZiAoIHN5YmxpbmcuaGFzQ2xhc3MoJ2lzT3BlbicpKSB7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnaXNDbG9zZWQnKTtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICAgIHN5YmxpbmcucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuanMtc2VsZWN0LWJsb2NrJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpO1xuICAgICAgJCgnLmpzLXNlbGVjdC1idG4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7ICAgIFxuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2lzT3BlbicpO1xuICAgICAgc3libGluZy5hZGRDbGFzcygnaXNPcGVuJyk7XG4gICAgfVxuICBcbiAgICB2YXIgJGJsb2NrID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKTtcbiAgICB2YXIgJGV4aXN0ID0gJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2VtcHR5Jyk7XG4gICAgdmFyIGVtcHR5ID0gXCI8c3BhbiBjbGFzcz0nZmlsdGVyX19lbXB0eSc+0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y88L3NwYW4+XCJcbiAgICBpZiAoICEkZXhpc3QubGVuZ3RoICkge1xuICAgICAgaWYgKCAkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS5wcm9wKCdyZXF1aXJlZCcpKSB7XG4gICAgICAgIGlmICggISRibG9jay5maW5kKCcuanMtZmlsdGVyLWhpZGRlbicpLnZhbCgpICkge1xuICAgICAgICAgICRibG9jay5maW5kKCcuZmlsdGVyX19pbnB1dC13cmFwJykuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRibG9jay5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAgXG4gIH0pO1xuICBcbiAgLy93aGVuIGNsaWNraW5nIG9uIGl0ZW0gaW4gZHJvcGRvd24gbWVudVxuICAkKCcuanMtc2VsZWN0LWl0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ2pzLXNlbGVjdGVkJyk7XG4gICAgdmFyIHRleHQgPSAkdGhpcy50ZXh0KCk7XG4gICAgdmFyIGdyb3VwID0gJHRoaXMuYXR0cignZGF0YS1ncm91cCcpO1xuICAgICQoJy5qcy1zZWxlY3QtYnRuW2RhdGEtZ3JvdXA9XCInICsgZ3JvdXAgKyAnXCJdJykudGV4dCh0ZXh0KTtcbiAgICAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyX19pbnB1dC1ibG9jaycpLmZpbmQoJy5qcy1zZWxlY3QtbGFiZWwnKS5hZGRDbGFzcygnZmxvYXRlZCcpO1xuICAgICQoJy5qcy1zZWxlY3QtYnRuLmlzT3BlbicpLmFkZENsYXNzKCdpc0Nsb3NlZCcpO1xuICAgICQoJy5qcy1zZWxlY3QtYmxvY2suaXNPcGVuJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpO1xuICAgICQoJy5qcy1zZWxlY3QtYnRuLmlzT3BlbicpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICAkKCcuanMtZmlsdGVyLWhpZGRlbltkYXRhLWdyb3VwPVwiJyArIGdyb3VwICsgJ1wiXScpLnZhbCh0ZXh0KTsgICBcbiAgICBcbiAgICB2YXIgJGJsb2NrID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKVxuICAgIGlmICggJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgdmFyIGVtcHR5ID0gXCI8c3BhbiBjbGFzcz0nZmlsdGVyX19lbXB0eSc+0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y88L3NwYW4+XCJcbiAgICAgIGlmICggISRibG9jay5maW5kKCcuanMtZmlsdGVyLWhpZGRlbicpLnZhbCgpICkge1xuICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpLmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgJCgnLmpzLXNlbGVjdC1idG5bZGF0YS1ncm91cD1cIicgKyBncm91cCArICdcIl0nKS5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRibG9jay5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bltkYXRhLWdyb3VwPVwiJyArIGdyb3VwICsgJ1wiXScpLnJlbW92ZUNsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIFxuICAvL3doZW4gY2xpY2tpbmcgb3V0c2lkZSB0aGUgaXRlbSBpbiBkcm9wZG93biBvciBkcm9wZG93biBidG4gXG4gIGlmICggJCgnLmpzLXNlbGVjdC1idG4uaXNPcGVuJykgKSB7XG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCAhJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzLXNlbGVjdC1ibG9jay5pc09wZW4nKS5sZW5ndGggJiYgISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1zZWxlY3QtYnRuLmlzT3BlbicpLmxlbmd0aCkge1xuICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5hZGRDbGFzcygnaXNDbG9zZWQnKTtcbiAgICAgICAgJCgnLmpzLXNlbGVjdC1ibG9jay5pc09wZW4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gICAgICAgICQoJy5qcy1zZWxlY3QtYnRuLmlzT3BlbicpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgXG4gICAgICAgIHZhciAkdGhpcyA9ICQoJy5qcy1zZWxlY3QtYnRuLmlzQ2xvc2VkJyk7XG4gICAgICAgIHZhciAkYmxvY2sgPSAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyX19pbnB1dC1ibG9jaycpO1xuICAgICAgICB2YXIgJGV4aXN0ID0gJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2VtcHR5Jyk7XG4gICAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPPC9zcGFuPlwiXG4gICAgICAgIGlmICggISRleGlzdC5sZW5ndGggKSB7XG4gICAgICAgICAgaWYgKCAkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS5wcm9wKCdyZXF1aXJlZCcpKSB7XG4gICAgICAgICAgICBpZiAoICEkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS52YWwoKSApIHtcbiAgICAgICAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2lucHV0LXdyYXAnKS5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgICAgICAgICQoJy5qcy1zZWxlY3QtYnRuLmlzQ2xvc2VkJykuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgJCgnLmpzLXNlbGVjdC1idG4uaXNDbG9zZWQnKS5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgJCgnLmZpbHRlcl9faW5wdXQnKS5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpLmZpbmQoJy5maWx0ZXJfX2Zsb2F0aW5nLWxhYmVsJykuYWRkQ2xhc3MoJ2Zsb2F0ZWQnKTtcbiAgfSlcbiAgXG4gICQoJy5maWx0ZXJfX2lucHV0Jykub24oJ2JsdXInLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgdmFyICRwYXJlbnQgPSAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyX19pbnB1dC13cmFwJyk7XG4gICAgdmFyICRpbnB1dCA9ICRwYXJlbnQuZmluZCgnLmZpbHRlcl9faW5wdXQnKTtcbiAgICBpZiAoICEkdGhpcy52YWwoKSApIHtcbiAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPPC9zcGFuPlwiO1xuICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAkcGFyZW50LmZpbmQoJy5maWx0ZXJfX2Zsb2F0aW5nLWxhYmVsJykucmVtb3ZlQ2xhc3MoJ2Zsb2F0ZWQnKTtcbiAgICAgIGlmICggJHRoaXMucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgICBpZiAoICEkaW5wdXQuaGFzQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJykgKSB7XG4gICAgICAgICAgJGlucHV0LmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICRwYXJlbnQuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICB9ICAgIFxuICAgICAgfVxuICAgIH0gXG4gICAgZWxzZSB7XG4gICAgICB2YXIgbmFtZSA9ICRpbnB1dC5hdHRyKCduYW1lJylcbiAgICAgIGlmICggbmFtZSA9PT0gJ25hbWUnICkge1xuICAgICAgICBpZiAoICRpbnB1dC52YWwoKS5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgIGlmICggJGlucHV0Lmhhc0NsYXNzKCdmaWx0ZXJfX2RhbmdlcicpICkge1xuICAgICAgICAgICAgJGlucHV0LnJlbW92ZUNsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC00L7Qu9C20L3QviDRgdC+0LTQtdGA0LbQsNGC0Ywg0JjQvNGPINC4INCk0LDQvNC40LvQuNGOINGH0LXRgNC10Lcg0L/RgNC+0LHQtdC7PC9zcGFuPlwiO1xuICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAkcGFyZW50LmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICggbmFtZSA9PT0gJ2VtYWlsJyApIHtcbiAgICAgICAgaWYoIHZhbGlkYXRlRW1haWwoJGlucHV0LnZhbCgpKSkge1xuICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgIGlmICggJGlucHV0Lmhhc0NsYXNzKCdmaWx0ZXJfX2RhbmdlcicpICkge1xuICAgICAgICAgICAgJGlucHV0LnJlbW92ZUNsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIH0gICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICAkcGFyZW50LmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgdmFyIGVtcHR5ID0gXCI8c3BhbiBjbGFzcz0nZmlsdGVyX19lbXB0eSc+RW1haWwg0LTQvtC70LbQtdC9INGB0L7QtNC10YDQttCw0YLRjCDQu9Cw0YLQuNC90YHQutC40LUg0LHRg9C60LLRiywg0YHQuNC80LLQvtC70YsgQCDQuCAuPC9zcGFuPlwiO1xuICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAkcGFyZW50LmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICggbmFtZSA9PT0gJ3RlbCcgKSB7XG4gICAgICAgIGlmKCB2YWxpZGF0ZVBob25lKCRpbnB1dC52YWwoKSkpIHtcbiAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICBpZiAoICRpbnB1dC5oYXNDbGFzcygnZmlsdGVyX19kYW5nZXInKSApIHtcbiAgICAgICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCd0L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsCDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINC+0YIgMTAg0LTQviAxNCDRhtC40YTRgDwvc3Bhbj5cIjtcbiAgICAgICAgICAkaW5wdXQuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgJHBhcmVudC5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7IFxuICBcbiAgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbCgkZW1haWwpIHtcbiAgICB2YXIgZW1haWxSZWcgPSAvXihbXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSk/JC87XG4gICAgcmV0dXJuIGVtYWlsUmVnLnRlc3QoICRlbWFpbCApO1xuICB9O1xuICBcbiAgZnVuY3Rpb24gdmFsaWRhdGVQaG9uZSgkcGhvbmUpIHtcbiAgICB2YXIgcGhvbmVSZWcgPSAvXigoOHxcXCs3KVtcXC0gXT8pPyhcXCg/XFxkezN9XFwpP1tcXC0gXT8pP1tcXGRcXC0gXXsxMCwxNH0kLztcbiAgICByZXR1cm4gcGhvbmVSZWcudGVzdCggJHBob25lICk7XG4gIH07XG4gICQoJy5qcy1vcGVuLXN1YnRoZW1lLWNvbnRlbnQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgdmFyIGxpbmsgPSAkdGhpcy5hdHRyKCdkYXRhLWxpbmsnKTtcbiAgICB2YXIgdGV4dCA9ICR0aGlzLnRleHQoKTtcbiAgXG4gICAgJCgnLnNpZGUtbW9kYWxfX2JyZWFkY3J1bWJzJykuYXBwZW5kKCc8bGkgY2xhc3M9XCJicmVhZGNydW1ic19faXRlbVwiPicrXG4gICAgJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJicmVhZGNydW1ic19fbGlua1wiPicrdGV4dCsnPC9hPjwvbGk+Jyk7XG4gIFxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICcuLycgKyBsaW5rICsgJy5odG1sJywgICAgICAgICAgICAgXG4gICAgICBkYXRhVHlwZSA6IFwiaHRtbFwiLCAgICAgICAgICAgICAgICAgICAgXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAkKCcuc2lkZS1tb2RhbF9fY29udGVudCcpLmh0bWwoIGRhdGEgKTtcbiAgICAgIH0gXG4gICAgfSk7XG4gIH0pO1xuICAkKCcuanMtb3Blbi1zdWJ0aGVtZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICB2YXIgbGluayA9ICR0aGlzLmF0dHIoJ2RhdGEtbGluaycpO1xuICAgIHZhciB0ZXh0ID0gJHRoaXMudGV4dCgpO1xuICAgIHZhciBicmVhZGNydW1icyA9ICc8dWwgY2xhc3M9XCJicmVhZGNydW1ic19fbGlzdCBzaWRlLW1vZGFsX19icmVhZGNydW1icyB1LWpjLWZzXCI+JytcbiAgICAnPGxpIGNsYXNzPVwiYnJlYWRjcnVtYnNfX2l0ZW1cIj48YSBocmVmPVwiI1wiIGNsYXNzPVwiYnJlYWRjcnVtYnNfX2xpbmtcIj7QrtGA0LjQtNC40YfQtdGB0LrQsNGPINC/0L7QvNC+0YnRjDwvYT48L2xpPicgK1xuICAgICc8L3VsPic7XG4gICAgXG4gICAgJCgnLnNpZGUtbW9kYWxfX2hlYWRlci13cmFwcGVyJykuaHRtbChicmVhZGNydW1icyk7XG4gICAgXG4gICAgJCgnLnNpZGUtbW9kYWxfX2JyZWFkY3J1bWJzJykuYXBwZW5kKCc8bGkgY2xhc3M9XCJicmVhZGNydW1ic19faXRlbVwiPicrXG4gICAgJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJicmVhZGNydW1ic19fbGlua1wiPicrdGV4dCsnPC9hPjwvbGk+Jyk7XG4gIFxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICcuL2pzLycrbGluaysnLmpzb24nLFxuICAgICAgZGF0YVR5cGUgOiBcImpzb25cIiwgICAgICAgICAgICAgICAgICAgIFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJCgnLnNpZGUtbW9kYWxfX2NvbnRlbnQnKS5odG1sKCc8dWwgY2xhc3M9XCJzaWRlLW1vZGFsX19saXN0IHNpZGUtbW9kYWxfX2xpc3QtLWhlbHBcIj48L3VsPicpO1xuICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oaSwgdmFsKSB7IFxuICAgICAgICAgICQoJy5zaWRlLW1vZGFsX19saXN0LS1oZWxwJylcbiAgICAgICAgICAgIC5hcHBlbmQoJzxsaSBjbGFzcz1cInNpZGUtbW9kYWxfX3RoZW1lXCI+PGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGRhdGEtbGluaz1cInN1YnRoZW1lJyArXG4gICAgICAgICAgICAgIHZhbC5pZCArXG4gICAgICAgICAgICAgICdcIiBjbGFzcz1cInNpZGUtbW9kYWxfX3RoZW1lLWxpbmsganMtb3Blbi1zdWJ0aGVtZS1jb250ZW50XCI+JytcbiAgICAgICAgICAgICAgdmFsLnRoZW1lICtcbiAgICAgICAgICAgICAgJzwvYT48L2xpPicpXG4gICAgICAgIH0pO1xuICAgICAgfSBcbiAgICB9KTtcbiAgfSk7XG4gICQoJy5qcy1idG4teWVzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJy4vc3VidGhlbWVfeWVzLmh0bWwnLCAgICAgICAgICAgICBcbiAgICAgIGRhdGFUeXBlIDogXCJodG1sXCIsICAgICAgICAgICAgICAgICAgICBcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQoJy5zdWJ0aGVtZV9fYmxvY2snKS5odG1sKCBkYXRhICk7XG4gICAgICB9IFxuICAgIH0pO1xuICB9KTtcbiAgXG4gICQoJy5qcy1idG4tbm8nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnLi9zdWJ0aGVtZV9mb3JtLmh0bWwnLCAgICAgICAgICAgICBcbiAgICAgIGRhdGFUeXBlIDogXCJodG1sXCIsICAgICAgICAgICAgICAgICAgICBcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQoJy5zdWJ0aGVtZV9fYmxvY2snKS5odG1sKCBkYXRhICk7XG4gICAgICB9IFxuICAgIH0pO1xuICB9KTtcbn0pIl19
