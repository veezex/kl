$(document).ready(function(){if(function(a){"use strict";a.fn.emulateTransitionEnd=function(e){var t=!1,s=this;a(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||a(s).trigger(a.support.transition.end)},e),this},a(function(){a.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var s in t)if(void 0!==e.style[s])return{end:t[s]};return!1}(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(e){if(a(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(m){"use strict";var p=function(e,t){this.$element=m(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",m.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",m.proxy(this.pause,this)).on("mouseleave.bs.carousel",m.proxy(this.cycle,this))};function l(i){return this.each(function(){var e=m(this),t=e.data("bs.carousel"),s=m.extend({},p.DEFAULTS,e.data(),"object"==typeof i&&i),a="string"==typeof i?i:s.slide;t||e.data("bs.carousel",t=new p(this,s)),"number"==typeof i?t.to(i):a?t[a]():s.interval&&t.pause().cycle()})}p.VERSION="3.3.5",p.TRANSITION_DURATION=600,p.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},p.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},p.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(m.proxy(this.next,this),this.options.interval)),this},p.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},p.prototype.getItemForDirection=function(e,t){var s=this.getItemIndex(t);if(("prev"==e&&0===s||"next"==e&&s==this.$items.length-1)&&!this.options.wrap)return t;var a=(s+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(a)},p.prototype.to=function(e){var t=this,s=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):s==e?this.pause().cycle():this.slide(s<e?"next":"prev",this.$items.eq(e))},p.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&m.support.transition&&(this.$element.trigger(m.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},p.prototype.next=function(){if(!this.sliding)return this.slide("next")},p.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},p.prototype.slide=function(e,t){var s=this.$element.find(".item.active"),a=t||this.getItemForDirection(e,s),i=this.interval,n="next"==e?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var o=a[0],r=m.Event("slide.bs.carousel",{relatedTarget:o,direction:n});if(this.$element.trigger(r),!r.isDefaultPrevented()){if(this.sliding=!0,i&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=m(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var c=m.Event("slid.bs.carousel",{relatedTarget:o,direction:n});return m.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,s.addClass(n),a.addClass(n),s.one("bsTransitionEnd",function(){a.removeClass([e,n].join(" ")).addClass("active"),s.removeClass(["active",n].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(p.TRANSITION_DURATION)):(s.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(c)),i&&this.cycle(),this}};var e=m.fn.carousel;m.fn.carousel=l,m.fn.carousel.Constructor=p,m.fn.carousel.noConflict=function(){return m.fn.carousel=e,this};var t=function(e){var t,s=m(this),a=m(s.attr("data-target")||(t=s.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var i=m.extend({},a.data(),s.data()),n=s.attr("data-slide-to");n&&(i.interval=!1),l.call(a,i),n&&a.data("bs.carousel").to(n),e.preventDefault()}};m(document).on("click.bs.carousel.data-api","[data-slide]",t).on("click.bs.carousel.data-api","[data-slide-to]",t),m(window).on("load",function(){m('[data-ride="carousel"]').each(function(){var e=m(this);l.call(e,e.data())})})}(jQuery),$(".carousel-item-image .item").each(function(){for(var e=$(this),t=1;t<5;t++)(e=e.next()).length||(e=$(this).siblings(":first")),e.children(":first-child").clone().addClass("cloneditem-"+t).appendTo($(this))}),$(".carousel").carousel({interval:0}),$("#carousel-item-image").carousel({interval:0}),$(".benefits__item").on("click",function(){var e=$(this),t=e.attr("data-name"),s=e.closest(".filter__checkbox-wrap").find("#"+t);e.hasClass("isActive")?s.val(s.data("y")):s.val(s.data("n"))}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(l){"use strict";var o=function(e,t){this.$element=l(e),this.options=l.extend({},o.DEFAULTS,t),this.$trigger=l('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function i(e){var t,s=e.attr("data-target")||(t=e.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return l(s)}function r(a){return this.each(function(){var e=l(this),t=e.data("bs.collapse"),s=l.extend({},o.DEFAULTS,e.data(),"object"==typeof a&&a);!t&&s.toggle&&/show|hide/.test(a)&&(s.toggle=!1),t||e.data("bs.collapse",t=new o(this,s)),"string"==typeof a&&t[a]()})}o.VERSION="3.3.7",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,t=this.$parent&&this.$parent.children(".collapse__tab").children(".in, .collapsing");if(!(t&&t.length&&(e=t.data("bs.collapse"))&&e.transitioning)){var s=l.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){t&&t.length&&(r.call(t,"hide"),e||t.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!l.support.transition)return i.call(this);var n=l.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",l.proxy(i,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][n])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=l.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!l.support.transition)return s.call(this);this.$element[t](0).one("bsTransitionEnd",l.proxy(s,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return l(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(l.proxy(function(e,t){var s=l(t);this.addAriaAndCollapsedClass(i(s),s)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(e,t){var s=e.hasClass("in");e.attr("aria-expanded",s),t.toggleClass("collapsed",!s).attr("aria-expanded",s)};var e=l.fn.collapse;l.fn.collapse=r,l.fn.collapse.Constructor=o,l.fn.collapse.noConflict=function(){return l.fn.collapse=e,this},l(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=l(this);t.attr("data-target")||e.preventDefault();var s=i(t),a=s.data("bs.collapse")?"toggle":t.data();r.call(s,a)})}(jQuery),$(".js-hide-filter").on("click",function(e){e.preventDefault();var t=$(this);$(".filter__input-group--add").hasClass("js-isVisible")?($(".filter__input-group--add").removeClass("js-isVisible"),t.removeClass("iSopened")):($(".filter__input-group--add").addClass("js-isVisible"),t.addClass("iSopened"))}),$("#counter").length){var t=0;$(window).scroll(function(){var e=$("#counter").offset().top-window.innerHeight;0==t&&$(window).scrollTop()>e&&($(".counter-value").each(function(){var e=$(this),t=e.attr("data-count");$({countNum:e.text()}).animate({countNum:t},{duration:2e3,easing:"swing",step:function(){e.text(Math.floor(this.countNum))},complete:function(){e.text(this.countNum),$(".statistics__card-text").addClass("isAnimated"),$(".history__card-text").addClass("isAnimated")}})}),t=1)})}if(function(){function a(s,a){$.ajax({data:{item:s,action:a},url:config.favoriteMod,dataType:"json",method:"POST",success:function(e){if(e.success){var t=$(".js-add_favorite[data-item="+s+"]");"add"==a&&t.addClass("is-favorite"),"remove"==a&&t.removeClass("is-favorite"),$(".js-top_show_izbrannoe")[e.empty?"removeClass":"addClass"]("hover")}}})}$("body").on("click",".js-remove_favorite",function(e){e.preventDefault();var t=$(this);a(t.data("item"),"remove"),t.closest(".line").remove(),$("#izbrannoe .line").length||$(".js-izbrannoe_empty").show()}),$('.js-modal__btn[data-modal="izbrannoe"]').on("click",function(){$.ajax({url:config.favoriteList,dataType:"html",success:function(e){$('#izbrannoe .tab__block[data-content="list"]').html(e)}})}),$("body").on("click",".js-add_favorite",function(e){e.preventDefault();var t=$(this);if(t.hasClass("is-favorite"))var s="remove";else s="add";a(t.data("item"),s)})}(),$("#form-egrn").off("submit").on("submit",function(e){$("#egrn").addClass("isOpened"),e.preventDefault();var t=this;$.ajax({data:$(t).serialize(),method:t.method,url:t.action,dataType:"html",success:function(e){$("#egrn .modal__content").html(e),t.reset()}})}),$('.js-modal__btn[data-modal="employee"]').on("click",function(){var e=$(this).attr("data-name");$.ajax({url:config.empName+e,dataType:"html",success:function(e){$(".modal__content").html(e)}})}),$("#consult form,#form-otzyv,#sell form").off("submit").on("submit",function(e){e.preventDefault();var t=this;return $.ajax({data:$(t).serialize(),method:t.method,url:t.action,dataType:"html",success:function(e){$($(t).data("cont")+" .modal__content").html(e)},error:function(e){$($(t).data("cont")+" .modal__content").html(data)}}),!1}),$("#contacts").off("submit").on("submit",function(e){$("#contacts-modal").addClass("isOpened"),e.preventDefault();var t=this;$.ajax({data:$(t).serialize(),method:t.method,url:t.action,dataType:"html",success:function(e){$(".modal__content").html(e),t.reset()}})}),$("#help_sidebar_form").off("submit").on("submit",function(e){$("#help-modal").addClass("isOpened"),e.preventDefault();var t=this;$.ajax({data:$(t).serialize(),method:t.method,url:t.action,dataType:"html",success:function(e){$(".modal__content").html(e),t.reset()}})}),$(".dropzone-images").each(function(){var e=$(this),a=e.data("param");e.addClass("dropzone").dropzone({addRemoveLinks:!0,acceptedFiles:"image/*",clickable:!0,thumbnailWidth:120,thumbnailHeight:120,maxFiles:e.data("maxfiles"),createImageThumbnails:!0,paramName:"file",url:e.data("upload"),dictRemoveFile:"Удаление фотографии",dictDefaultMessage:"Перетащите сюда фотографии или кликните для загрузки файлов<br><br>              (максимум "+e.data("maxfiles")+" фотографий)",dictFileTooBig:"Превышен допустимый размер файла: {{maxFilesize}} Мб",dictMaxFilesExceeded:"Превышено максимальное кол-во фотографий для загрузки: {{maxFiles}}",dictInvalidFileType:"Вы не можете добавить файлы этого типа",maxFilesize:2,success:function(e,t){var s=$(e.previewElement);t.added.forEach(function(e){s.append('<input type="hidden" name="'+a+'[]" value="'+e+'">')})}})}),$(".js-tab-change-value").on("click",function(){var e=$(this);e.closest(".tab").find(".js-tab-change-value").removeClass("js-active"),e.addClass("js-active"),$(e.data("form")).removeClass().addClass("mode-"+e.data("value")).find(e.data("input")).val(e.data("value"))}),$(".js-header-menu").on("click",function(){$(".header__side").addClass("isOpened")}),$(".side-modal").on("click",function(e){$(e.target).closest(".side-modal__wrapper").length||$(".side-modal").removeClass("isOpened")}),$("#modal-close-menu").on("click",function(e){$(this).closest(".side-modal").removeClass("isOpened")}),$(".history__wrapper").length){var s=0,e=function(){var e=$(".history__wrapper").offset().top-window.innerHeight;0==s&&$(window).scrollTop()>e&&(setTimeout(function(){$(".history__card-header").addClass("isAnimated"),setTimeout(function(){$(".history__card-text").addClass("isAnimated")},1e3)},500),s=1)};$(window).scroll(e),e()}if($(".js-select-btn").each(function(){var t=$(this),s=t.closest(".filter__input-wrap"),a=s.find("input").val();s.find(".js-select-block .js-select-item").removeClass("js-selected").each(function(){var e=$(this);if(a==e.data("value"))return t.text(e.text()),e.addClass("js-selected"),s.find(".filter__floating-label").addClass("floated"),!1})}),$(".js-select-btn").on("click",function(){var e=$(this),t=e.closest(".filter__input-block").find(".js-select-block");t.hasClass("isOpen")?(e.addClass("isClosed"),e.removeClass("isOpen"),t.removeClass("isOpen")):($(".js-select-block").removeClass("isOpen"),$(".js-select-btn").removeClass("isOpen"),e.addClass("isOpen"),t.addClass("isOpen"));var s=e.closest(".filter__input-block");s.find(".filter__empty").length||s.find(".js-filter-hidden").prop("required")&&(s.find(".js-filter-hidden").val()?(s.find(".filter__empty").remove(),e.removeClass("filter__danger")):(s.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),e.addClass("filter__danger")))}),$(".js-select-item").on("click",function(){var e=$(this);e.addClass("js-selected");var t=e.text(),s=e.data("value"),a=e.attr("data-group");$('.js-select-btn[data-group="'+a+'"]').text(t),e.closest(".filter__input-block").find(".js-select-label").addClass("floated"),$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen"),$('.js-filter-hidden[data-group="'+a+'"]').val(s);var i=e.closest(".filter__input-block");if(i.find(".js-filter-hidden").prop("required")){i.find(".js-filter-hidden").val()?(i.find(".filter__empty").remove(),$('.js-select-btn[data-group="'+a+'"]').removeClass("filter__danger")):(i.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$('.js-select-btn[data-group="'+a+'"]').addClass("filter__danger"))}}),0<$(".js-select-btn.isOpen").length&&$(document).on("click",function(e){if(!$(e.target).closest(".js-select-block.isOpen").length&&!$(e.target).closest(".js-select-btn.isOpen").length){$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen");var t=$(".js-select-btn.isClosed").closest(".filter__input-block");t.find(".filter__empty").length||t.find(".js-filter-hidden").prop("required")&&(t.find(".js-filter-hidden").val()?(t.find(".filter__empty").remove(),$(".js-select-btn.isClosed").removeClass("filter__danger")):(t.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$(".js-select-btn.isClosed").addClass("filter__danger")))}}),$("body").on("focus",".filter__input",function(){$(this).closest(".filter__input-wrap").find(".filter__floating-label").addClass("floated")}),$("body").on("blur",".filter__input",function(){var e,t,s=$(this),a=s.closest(".filter__input-wrap"),i=a.find(".filter__input");if(s.val()){var n=i.data("validate");if("name"===n)if(-1<i.val().indexOf(" "))a.addClass("validated"),i.hasClass("filter__danger")&&(i.removeClass("filter__danger"),a.find(".filter__empty").remove());else{a.removeClass("validated"),a.find(".filter__empty").remove();l="<span class='filter__empty'>Поле должно содержать Имя и Фамилию через пробел</span>";i.addClass("filter__danger"),a.append(l)}else if("email"===n)if(t=i.val(),/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t))a.addClass("validated"),i.hasClass("filter__danger")&&(i.removeClass("filter__danger"),a.find(".filter__empty").remove());else{a.removeClass("validated"),a.find(".filter__empty").remove();l="<span class='filter__empty'>Email должен содержать латинские буквы, символы @ и .</span>";i.addClass("filter__danger"),a.append(l)}else if("tel"===n)if(e=i.val(),/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10,14}$/.test(e))a.addClass("validated"),i.hasClass("filter__danger")&&(i.removeClass("filter__danger"),a.find(".filter__empty").remove());else{a.removeClass("validated"),a.find(".filter__empty").remove();l="<span class='filter__empty'>Номер телефона должен содержать от 10 до 14 цифр</span>";i.addClass("filter__danger"),a.append(l)}else i.removeClass("filter__danger"),a.find(".filter__empty").remove()}else{var l="<span class='filter__empty'>Поле обязательно для заполнения</span>";a.removeClass("validated"),a.find(".filter__floating-label").removeClass("floated"),s.prop("required")&&(i.hasClass("filter__danger")||(i.addClass("filter__danger"),a.append(l)))}}),$(".item__img").click(function(){var e=$(this).attr("src");$(".image__container").css("background-image","url("+e+")")}),$("#modal-close-help").on("click",function(e){$(this).closest(".js-modal").removeClass("isOpened")}),null!==document.getElementById("map")){var a=$("#map").attr("data-lng"),i=$("#map").attr("data-lat");function n(){var n=new ymaps.Map("map",{center:[a,i],zoom:10,controls:[]}),t=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div><br><div id='zoom-out' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div>",{build:function(){t.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),t.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}});function s(s,a){function t(e){return{type:"FeatureCollection",features:e.map(function(e,t){return{id:t,type:"Feature",geometry:{type:"Point",coordinates:[e.lat,e.long]},properties:{iconCaption:e.serialNumber,balloonContent:'<a target="_blank" class="" href="'+e.link+'"><div class="balloon__image-block"><div class="balloon__image" style="background-image:url('+e.image+')"></div></div><div class="balloon__inner"><p class="balloon__price">'+e.price+'</p><ul class="balloon__list"><li class="balloon__item ">'+e.rooms+'</li><li class="balloon__item ">'+e.square+'&nbsp;м<sup>2</sup></li><li class="balloon__item ">'+e.floor+'</li></ul><p class="balloon__address">'+e.address+"</p></div></a>"}}})}}function e(){return new Promise(function(e,t){$.ajax({data:a,method:"GET",url:s,dataType:"json",success:e,error:t})}).then(function(e){return t(e)})}var i=new ymaps.ObjectManager({clusterize:!0,gridSize:64,clusterIconLayout:"default#pieChart",clusterDisableClickZoom:!1});e().then(function(e){i.add(e)}),i.objects.options.set({iconLayout:"default#image",iconImageHref:config.mapBaloon,iconImageSize:[57,51],iconImageOffset:[-18,-45]}),n.geoObjects.add(i)}$(window).on("resize",function(){var e=document.getElementById("map").offsetHeight/2-50;n.controls.remove("zoomControl"),n.controls.add("zoomControl",{layout:t,position:{left:"30px",top:e}})}).resize(),s(config.mapLinks,null),$(".js-map-filter-form").submit(function(){var e=config.mapNewLinks,t=$(this).serialize();return n.geoObjects.removeAll(),s(e,t),!1})}ymaps.ready(n)}else if(null!==document.getElementById("item-map")){ymaps.ready(n);a=$("#item-map").attr("data-lng"),i=$("#item-map").attr("data-lat");function n(){var t=new ymaps.Map("item-map",{center:[a,i],zoom:13,controls:[]}),e=new ymaps.Placemark([a,i],{},{iconLayout:"default#image",iconImageHref:config.mapBaloon,iconImageSize:[57,51],iconImageOffset:[-37,-50]}),s=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div><br><div id='zoom-out' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div>",{build:function(){s.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),s.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}});$(window).on("resize",function(){var e=document.getElementById("item-map").offsetHeight/2-50;t.controls.remove("zoomControl"),t.controls.add("zoomControl",{layout:s,position:{left:"30px",top:e}})}).resize(),t.geoObjects.add(e)}}$(".js-modal-close-btn").on("click",function(){$(this).closest(".js-modal").removeClass("isOpened")}),$(".js-modal__btn").on("click",function(e){var t=$(this).attr("data-modal");$("#"+t).addClass("isOpened")}),$(window).on("resize",function(){if(null!==$(".scrollable-inner"))for(var e=0;e<$(".scrollable-inner").length;e++){var t=$(".scrollable-inner")[e],s=$(t).attr("data-iscroll"),a=$('.scrollable-parent[data-pscroll="'+s+'"]'),i=t.clientHeight;a.height(i)}}).resize(),$(window).on("scroll load",function(){var e=$(".js-header");60<=$(window).scrollTop()?e.addClass("sticked"):e.removeClass("sticked")}),$(".js-tab__item").on("click",function(e){var t=$(this);t.closest(".tab").find(".js-tab__item").removeClass("js-active"),t.addClass("js-active");var s=t.attr("data-tab");t.closest(".tab").find(".tab__block").removeClass("js-active"),$('[data-content="'+s+'"]').addClass("js-active")}),$('.js-modal__btn[data-modal="help"]').on("click",function(){$.ajax({url:config.themesList,dataType:"json",success:function(e){$(".side-modal__content").empty(),$(".side-modal__content").append('<ul class="side-modal__list side-modal__list--help"></ul>'),$.each(e,function(e,t){$(".side-modal__list--help").append('<li class="side-modal__theme js-open-subtheme" data-attr="'+config.themeLink+t.id+'"><a href="javascript:;" class="side-modal__theme-link">'+t.theme+"</a></li>")})}})}),$(".js-toggle-item").click(function(){$(this).toggleClass("isActive")})}),$(document).ajaxComplete(function(){$(".js-select-btn").off("click").on("click",function(){var e=$(this),t=e.closest(".filter__input-block").find(".js-select-block");t.hasClass("isOpen")?(e.addClass("isClosed"),e.removeClass("isOpen"),t.removeClass("isOpen")):($(".js-select-block").removeClass("isOpen"),$(".js-select-btn").removeClass("isOpen"),e.addClass("isOpen"),t.addClass("isOpen"));var s=e.closest(".filter__input-block");s.find(".filter__empty").length||s.find(".js-filter-hidden").prop("required")&&(s.find(".js-filter-hidden").val()?(s.find(".filter__empty").remove(),e.removeClass("filter__danger")):(s.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),e.addClass("filter__danger")))}),$(".js-select-item").off("click").on("click",function(){var e=$(this);e.addClass("js-selected");var t=e.text(),s=e.data("value"),a=e.attr("data-group");$('.js-select-btn[data-group="'+a+'"]').text(t),e.closest(".filter__input-block").find(".js-select-label").addClass("floated"),$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen"),$('.js-filter-hidden[data-group="'+a+'"]').val(s);var i=e.closest(".filter__input-block");if(i.find(".js-filter-hidden").prop("required")){i.find(".js-filter-hidden").val()?(i.find(".filter__empty").remove(),$('.js-select-btn[data-group="'+a+'"]').removeClass("filter__danger")):(i.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$('.js-select-btn[data-group="'+a+'"]').addClass("filter__danger"))}}),0<$(".js-select-btn.isOpen").length&&$(document).on("click",function(e){if(!$(e.target).closest(".js-select-block.isOpen").length&&!$(e.target).closest(".js-select-btn.isOpen").length){$(".js-select-btn.isOpen").addClass("isClosed"),$(".js-select-block.isOpen").removeClass("isOpen"),$(".js-select-btn.isOpen").removeClass("isOpen");var t=$(".js-select-btn.isClosed").closest(".filter__input-block");t.find(".filter__empty").length||t.find(".js-filter-hidden").prop("required")&&(t.find(".js-filter-hidden").val()?(t.find(".filter__empty").remove(),$(".js-select-btn.isClosed").removeClass("filter__danger")):(t.find(".filter__input-wrap").append("<span class='filter__empty'>Поле обязательно для заполнения</span>"),$(".js-select-btn.isClosed").addClass("filter__danger")))}}),$(".filter__input").on("focus",function(){$(this).closest(".filter__input-wrap").find(".filter__floating-label").addClass("floated")}),$(".filter__input").on("blur",function(){var e,t,s=$(this),a=s.closest(".filter__input-wrap"),i=a.find(".filter__input");if(s.val()){var n=i.attr("name");if("name"===n||"name_buy"===n)if(-1<i.val().indexOf(" "))a.addClass("validated"),i.hasClass("filter__danger")&&(i.removeClass("filter__danger"),a.find(".filter__empty").remove());else{a.removeClass("validated"),a.find(".filter__empty").remove();l="<span class='filter__empty'>Поле должно содержать Имя и Фамилию через пробел</span>";i.addClass("filter__danger"),a.append(l)}else if("email"===n||"email_buy"===n)if(t=i.val(),/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t))a.addClass("validated"),i.hasClass("filter__danger")&&(i.removeClass("filter__danger"),a.find(".filter__empty").remove());else{a.removeClass("validated"),a.find(".filter__empty").remove();l="<span class='filter__empty'>Email должен содержать латинские буквы, символы @ и .</span>";i.addClass("filter__danger"),a.append(l)}else if("tel"===n||"tel_buy"===n)if(e=i.val(),/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10,14}$/.test(e))a.addClass("validated"),i.hasClass("filter__danger")&&(i.removeClass("filter__danger"),a.find(".filter__empty").remove());else{a.removeClass("validated"),a.find(".filter__empty").remove();l="<span class='filter__empty'>Номер телефона должен содержать от 10 до 14 цифр</span>";i.addClass("filter__danger"),a.append(l)}else i.removeClass("filter__danger"),a.find(".filter__empty").remove()}else{var l="<span class='filter__empty'>Поле обязательно для заполнения</span>";a.removeClass("validated"),a.find(".filter__floating-label").removeClass("floated"),s.prop("required")&&(i.hasClass("filter__danger")||(i.addClass("filter__danger"),a.append(l)))}}),$(".js-open-subtheme-content").on("click",function(){var e=$(this),t=e.attr("data-attr"),s=e.text();$(".side-modal__breadcrumbs").append('<li class="breadcrumbs__item"><a href="#" class="breadcrumbs__link breadcrumbs__link--modal">'+s+"</a></li>"),$.ajax({url:config.subthemeContent+t,dataType:"html",success:function(e){$(".side-modal__content").html(e)}})}),$(".js-open-subtheme").on("click",function(){var e=$(this),t=e.attr("data-attr"),s=e.text();$(".side-modal__header-wrapper").html('<ul class="breadcrumbs__list side-modal__breadcrumbs u-jc-fs"><li class="breadcrumbs__item"><a href="javascript:;" class="breadcrumbs__link js-breadcrumbs__link-main breadcrumbs__link--modal">Юридическая помощь</a></li></ul>'),$(".side-modal__breadcrumbs").append('<li class="breadcrumbs__item"><a href="#" class="breadcrumbs__link breadcrumbs__link--modal js-breadcrumbs__link-topic" data-prev="'+t+'">'+s+"</a></li>"),$.ajax({url:config.subthemeList+t,dataType:"json",success:function(e){$(".side-modal__content").html('<ul class="side-modal__list side-modal__list--help"></ul>'),$.each(e,function(e,t){$(".side-modal__list--help").append('<li class="side-modal__theme js-open-subtheme-content" data-attr="'+config.subthemeLink+t.id+'"><a href="javascript:;" class="side-modal__theme-link ">'+t.theme+"</a></li>")})}})}),$(".js-breadcrumbs__link-main").on("click",function(){$.ajax({url:config.themesList,dataType:"json",success:function(e){$(".side-modal__content").empty(),$(".side-modal__content").append('<ul class="side-modal__list side-modal__list--help"></ul>'),$.each(e,function(e,t){$(".side-modal__list--help").append('<li class="side-modal__theme js-open-subtheme" data-attr="'+config.themeLink+t.id+'"><a href="javascript:;" class="side-modal__theme-link">'+t.theme+"</a></li>")}),$(".side-modal__breadcrumbs").html('<li class="breadcrumbs__item"><span class="breadcrumbs__link js-breadcrumbs__link-main breadcrumbs__link--modal">Юридическая помощь</span></li>')}})}),$(".js-btn-yes").on("click",function(){$.ajax({url:config.formHelpYes,dataType:"html",success:function(e){$(".subtheme__block").html(e)}})}),$(".js-btn-no").on("click",function(){$.ajax({url:config.formHelpForm,dataType:"html",success:function(e){$(".subtheme__block").html(e)}})}),$(".js-breadcrumbs__link-topic").on("click",function(){var e=$(this),t=e.text(),s=e.attr("data-prev");$.ajax({url:config.subthemeList+s+".json",dataType:"json",success:function(e){$(".side-modal__content").html('<ul class="side-modal__list side-modal__list--help"></ul>'),$.each(e,function(e,t){$(".side-modal__list--help").append('<li class="side-modal__theme js-open-subtheme-content" data-attr="'+config.subthemeLink+t.id+'"><a href="javascript:;" class="side-modal__theme-link ">'+t.theme+"</a></li>")});$(".side-modal__header-wrapper").html('<ul class="breadcrumbs__list side-modal__breadcrumbs u-jc-fs"><li class="breadcrumbs__item"><a href="javascript:;" class="breadcrumbs__link js-breadcrumbs__link-main breadcrumbs__link--modal">Юридическая помощь</a></li></ul>'),$(".side-modal__breadcrumbs").append('<li class="breadcrumbs__item"><a href="#" class="breadcrumbs__link breadcrumbs__link--modal js-breadcrumbs__link-topic" data-prev="'+s+'">'+t+"</a></li>")}})}),$(".js-tab__item").on("click",function(e){var t=$(this);t.closest(".tab").find(".js-tab__item").removeClass("js-active"),t.addClass("js-active");var s=t.attr("data-tab");t.closest(".tab").find(".tab__block").removeClass("js-active"),$('[data-content="'+s+'"]').addClass("js-active")}),$("#contacts").off("submit").on("submit",function(e){$("#contacts-modal").addClass("isOpened"),e.preventDefault();var t=this;$.ajax({data:$(t).serialize(),method:t.method,url:t.action,dataType:"html",success:function(e){$(".modal__content").html(e),t.reset()}})}),$("#help_sidebar_form").off("submit").on("submit",function(e){$("#help-modal").addClass("isOpened"),e.preventDefault();var t=this;$.ajax({data:$(t).serialize(),method:t.method,url:t.action,dataType:"html",success:function(e){$(".modal__content").html(e),t.reset()}})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJmbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiZHVyYXRpb24iLCJjYWxsZWQiLCIkZWwiLCJ0aGlzIiwib25lIiwic2V0VGltZW91dCIsInRyaWdnZXIiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsImVuZCIsImVsIiwiY3JlYXRlRWxlbWVudCIsInRyYW5zRW5kRXZlbnROYW1lcyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJuYW1lIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ0cmFuc2l0aW9uRW5kIiwiZXZlbnQiLCJzcGVjaWFsIiwiYnNUcmFuc2l0aW9uRW5kIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJlIiwidGFyZ2V0IiwiaXMiLCJoYW5kbGVPYmoiLCJoYW5kbGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJqUXVlcnkiLCJDYXJvdXNlbCIsImVsZW1lbnQiLCJvcHRpb25zIiwiJGVsZW1lbnQiLCIkaW5kaWNhdG9ycyIsImZpbmQiLCJwYXVzZWQiLCJzbGlkaW5nIiwiaW50ZXJ2YWwiLCIkYWN0aXZlIiwiJGl0ZW1zIiwia2V5Ym9hcmQiLCJvbiIsInByb3h5Iiwia2V5ZG93biIsInBhdXNlIiwiZG9jdW1lbnRFbGVtZW50IiwiY3ljbGUiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwiZXh0ZW5kIiwiREVGQVVMVFMiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiVkVSU0lPTiIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJ3cmFwIiwicHJvdG90eXBlIiwidGVzdCIsInRhZ05hbWUiLCJ3aGljaCIsInByZXYiLCJuZXh0IiwicHJldmVudERlZmF1bHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJpdGVtIiwicGFyZW50IiwiY2hpbGRyZW4iLCJpbmRleCIsImdldEl0ZW1Gb3JEaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJhY3RpdmUiLCJhY3RpdmVJbmRleCIsImxlbmd0aCIsIml0ZW1JbmRleCIsImVxIiwicG9zIiwidGhhdCIsInR5cGUiLCIkbmV4dCIsImlzQ3ljbGluZyIsImhhc0NsYXNzIiwicmVsYXRlZFRhcmdldCIsInNsaWRlRXZlbnQiLCJFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsInJlbW92ZUNsYXNzIiwiJG5leHRJbmRpY2F0b3IiLCJhZGRDbGFzcyIsInNsaWRFdmVudCIsIm9mZnNldFdpZHRoIiwiam9pbiIsIm9sZCIsImNhcm91c2VsIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiY2xpY2tIYW5kbGVyIiwiaHJlZiIsIiR0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsInNsaWRlSW5kZXgiLCJjYWxsIiwid2luZG93IiwiJGNhcm91c2VsIiwiaXRlbVRvQ2xvbmUiLCJpIiwic2libGluZ3MiLCJjbG9uZSIsImFwcGVuZFRvIiwiY2hlY2tlZCIsImlucHV0IiwiY2xvc2VzdCIsInZhbCIsIkVycm9yIiwidmVyc2lvbiIsImpxdWVyeSIsInNwbGl0IiwiQ29sbGFwc2UiLCIkdHJpZ2dlciIsImlkIiwidHJhbnNpdGlvbmluZyIsIiRwYXJlbnQiLCJnZXRQYXJlbnQiLCJhZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MiLCJ0b2dnbGUiLCJnZXRUYXJnZXRGcm9tVHJpZ2dlciIsImRpbWVuc2lvbiIsInNob3ciLCJhY3RpdmVzRGF0YSIsImFjdGl2ZXMiLCJzdGFydEV2ZW50IiwiY29tcGxldGUiLCJzY3JvbGxTaXplIiwiY2FtZWxDYXNlIiwiaGlkZSIsIm9mZnNldEhlaWdodCIsImlzT3BlbiIsInRvZ2dsZUNsYXNzIiwiY29sbGFwc2UiLCJhIiwic2Nyb2xsIiwib1RvcCIsIm9mZnNldCIsInRvcCIsImlubmVySGVpZ2h0Iiwic2Nyb2xsVG9wIiwiY291bnRUbyIsImNvdW50TnVtIiwidGV4dCIsImFuaW1hdGUiLCJlYXNpbmciLCJzdGVwIiwiTWF0aCIsImZsb29yIiwibW9kQWN0aW9uIiwiYWpheCIsInVybCIsImNvbmZpZyIsImZhdm9yaXRlTW9kIiwiZGF0YVR5cGUiLCJtZXRob2QiLCJzdWNjZXNzIiwiZWxzIiwiZW1wdHkiLCJyZW1vdmUiLCJmYXZvcml0ZUxpc3QiLCJodG1sIiwib2ZmIiwiZm9ybSIsInNlcmlhbGl6ZSIsInJlc2V0IiwiZW1wTmFtZSIsImVycm9yIiwiZXJyIiwiYXJlYSIsInBhcmFtIiwiZHJvcHpvbmUiLCJhZGRSZW1vdmVMaW5rcyIsImFjY2VwdGVkRmlsZXMiLCJjbGlja2FibGUiLCJ0aHVtYm5haWxXaWR0aCIsInRodW1ibmFpbEhlaWdodCIsIm1heEZpbGVzIiwiY3JlYXRlSW1hZ2VUaHVtYm5haWxzIiwicGFyYW1OYW1lIiwiZGljdFJlbW92ZUZpbGUiLCJkaWN0RGVmYXVsdE1lc3NhZ2UiLCJkaWN0RmlsZVRvb0JpZyIsImRpY3RNYXhGaWxlc0V4Y2VlZGVkIiwiZGljdEludmFsaWRGaWxlVHlwZSIsIm1heEZpbGVzaXplIiwiZmlsZSIsInJlc3BvbnNlIiwicGUiLCJwcmV2aWV3RWxlbWVudCIsImFkZGVkIiwiZm9yRWFjaCIsImFwcGVuZCIsImF4IiwiYnV0dG9uIiwid3JhcHBlciIsInZhbHVlIiwic3libGluZyIsIiRibG9jayIsInByb3AiLCJncm91cCIsIiRwaG9uZSIsIiRlbWFpbCIsIiRpbnB1dCIsImluZGV4T2YiLCJjbGljayIsImltZ1NyYyIsImNzcyIsImdldEVsZW1lbnRCeUlkIiwibG5nIiwibGF0IiwiaW5pdCIsIm15TWFwIiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiY29udHJvbHMiLCJab29tTGF5b3V0IiwidGVtcGxhdGVMYXlvdXRGYWN0b3J5IiwiY3JlYXRlQ2xhc3MiLCJidWlsZCIsInN1cGVyY2xhc3MiLCJ6b29tSW5DYWxsYmFjayIsInV0aWwiLCJiaW5kIiwiem9vbUluIiwiem9vbU91dENhbGxiYWNrIiwiem9vbU91dCIsImNsZWFyIiwidW5iaW5kIiwibWFwIiwiZ2V0RGF0YSIsImNvbnRyb2wiLCJnZXRNYXAiLCJzZXRab29tIiwiZ2V0Wm9vbSIsImNoZWNrWm9vbVJhbmdlIiwiYWRkT2JqZWN0cyIsImxpbmsiLCJmaWx0ZXJEYXRhIiwibWFwU2VydmVyRGF0YSIsInNlcnZlckRhdGEiLCJmZWF0dXJlcyIsIm9iaiIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJsb25nIiwicHJvcGVydGllcyIsImljb25DYXB0aW9uIiwic2VyaWFsTnVtYmVyIiwiYmFsbG9vbkNvbnRlbnQiLCJpbWFnZSIsInByaWNlIiwicm9vbXMiLCJzcXVhcmUiLCJhZGRyZXNzIiwibG9hZExpc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRoZW4iLCJvYmplY3RNYW5hZ2VyIiwiT2JqZWN0TWFuYWdlciIsImNsdXN0ZXJpemUiLCJncmlkU2l6ZSIsImNsdXN0ZXJJY29uTGF5b3V0IiwiY2x1c3RlckRpc2FibGVDbGlja1pvb20iLCJhZGQiLCJvYmplY3RzIiwic2V0IiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJtYXBCYWxvb24iLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiZ2VvT2JqZWN0cyIsImNlbnRlclBvcyIsImxheW91dCIsInBvc2l0aW9uIiwibGVmdCIsInJlc2l6ZSIsIm1hcExpbmtzIiwic3VibWl0IiwibGlua1RvTmV3T2JqZWN0cyIsIm1hcE5ld0xpbmtzIiwicmVtb3ZlQWxsIiwicGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwic2NySW4iLCJzY3JFbCIsInNjclBhciIsInNjckhlaWdodCIsImNsaWVudEhlaWdodCIsImhlaWdodCIsInN0aWNrYmxvY2siLCJ0aGVtZXNMaXN0IiwidGhlbWVMaW5rIiwidGhlbWUiLCJhamF4Q29tcGxldGUiLCJzdWJ0aGVtZUNvbnRlbnQiLCJzdWJ0aGVtZUxpc3QiLCJzdWJ0aGVtZUxpbmsiLCJmb3JtSGVscFllcyIsImZvcm1IZWxwRm9ybSIsInByZXZpb3Vz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LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4zLjVcbiAgICogaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RyYW5zaXRpb25zXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gIFxuICBcbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgICAvLyBDU1MgVFJBTlNJVElPTiBTVVBQT1JUIChTaG91dG91dDogaHR0cHM6Ly93d3cubW9kZXJuaXpyLmNvbS8pXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7XG4gICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib290c3RyYXAnKVxuICBcbiAgICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgICAgIFdlYmtpdFRyYW5zaXRpb24gOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICAgIE9UcmFuc2l0aW9uICAgICAgOiAnb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQnLFxuICAgICAgICB0cmFuc2l0aW9uICAgICAgIDogJ3RyYW5zaXRpb25lbmQnXG4gICAgICB9XG4gIFxuICAgICAgZm9yICh2YXIgbmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpIHtcbiAgICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4geyBlbmQ6IHRyYW5zRW5kRXZlbnROYW1lc1tuYW1lXSB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgICByZXR1cm4gZmFsc2UgLy8gZXhwbGljaXQgZm9yIGllOCAoICAuXy4pXG4gICAgfVxuICBcbiAgICAvLyBodHRwOi8vYmxvZy5hbGV4bWFjY2F3LmNvbS9jc3MtdHJhbnNpdGlvbnNcbiAgICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgICAgIHZhciAkZWwgPSB0aGlzXG4gICAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGlmICghY2FsbGVkKSAkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpIH1cbiAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIGR1cmF0aW9uKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICAgICQoZnVuY3Rpb24gKCkge1xuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRW5kKClcbiAgXG4gICAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cbiAgXG4gICAgICAkLmV2ZW50LnNwZWNpYWwuYnNUcmFuc2l0aW9uRW5kID0ge1xuICAgICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgICBkZWxlZ2F0ZVR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgICAgaGFuZGxlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgXG4gIH0oalF1ZXJ5KTtcbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjMuNVxuICAgKiBodHRwczovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgXG4gIFxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICAgIC8vIENBUk9VU0VMIENMQVNTIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLiRlbGVtZW50ICAgID0gJChlbGVtZW50KVxuICAgICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmNhcm91c2VsLWluZGljYXRvcnMnKVxuICAgICAgdGhpcy5vcHRpb25zICAgICA9IG9wdGlvbnNcbiAgICAgIHRoaXMucGF1c2VkICAgICAgPSBudWxsXG4gICAgICB0aGlzLnNsaWRpbmcgICAgID0gbnVsbFxuICAgICAgdGhpcy5pbnRlcnZhbCAgICA9IG51bGxcbiAgICAgIHRoaXMuJGFjdGl2ZSAgICAgPSBudWxsXG4gICAgICB0aGlzLiRpdGVtcyAgICAgID0gbnVsbFxuICBcbiAgICAgIHRoaXMub3B0aW9ucy5rZXlib2FyZCAmJiB0aGlzLiRlbGVtZW50Lm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuICBcbiAgICAgIHRoaXMub3B0aW9ucy5wYXVzZSA9PSAnaG92ZXInICYmICEoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbignbW91c2VlbnRlci5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5wYXVzZSwgdGhpcykpXG4gICAgICAgIC5vbignbW91c2VsZWF2ZS5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5WRVJTSU9OICA9ICczLjMuNSdcbiAgXG4gICAgQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTiA9IDYwMFxuICBcbiAgICBDYXJvdXNlbC5ERUZBVUxUUyA9IHtcbiAgICAgIGludGVydmFsOiA1MDAwLFxuICAgICAgcGF1c2U6ICdob3ZlcicsXG4gICAgICB3cmFwOiB0cnVlLFxuICAgICAga2V5Ym9hcmQ6IHRydWVcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICgvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpKSByZXR1cm5cbiAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgICBjYXNlIDM3OiB0aGlzLnByZXYoKTsgYnJlYWtcbiAgICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6IHJldHVyblxuICAgICAgfVxuICBcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgfHwgKHRoaXMucGF1c2VkID0gZmFsc2UpXG4gIFxuICAgICAgdGhpcy5pbnRlcnZhbCAmJiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG4gIFxuICAgICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAgICYmICF0aGlzLnBhdXNlZFxuICAgICAgICAmJiAodGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LCB0aGlzKSwgdGhpcy5vcHRpb25zLmludGVydmFsKSlcbiAgXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB0aGlzLiRpdGVtcyA9IGl0ZW0ucGFyZW50KCkuY2hpbGRyZW4oJy5pdGVtJylcbiAgICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtRm9yRGlyZWN0aW9uID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgYWN0aXZlKSB7XG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChhY3RpdmUpXG4gICAgICB2YXIgd2lsbFdyYXAgPSAoZGlyZWN0aW9uID09ICdwcmV2JyAmJiBhY3RpdmVJbmRleCA9PT0gMClcbiAgICAgICAgICAgICAgICAgIHx8IChkaXJlY3Rpb24gPT0gJ25leHQnICYmIGFjdGl2ZUluZGV4ID09ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSlcbiAgICAgIGlmICh3aWxsV3JhcCAmJiAhdGhpcy5vcHRpb25zLndyYXApIHJldHVybiBhY3RpdmVcbiAgICAgIHZhciBkZWx0YSA9IGRpcmVjdGlvbiA9PSAncHJldicgPyAtMSA6IDFcbiAgICAgIHZhciBpdGVtSW5kZXggPSAoYWN0aXZlSW5kZXggKyBkZWx0YSkgJSB0aGlzLiRpdGVtcy5sZW5ndGhcbiAgICAgIHJldHVybiB0aGlzLiRpdGVtcy5lcShpdGVtSW5kZXgpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmUgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpKVxuICBcbiAgICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG4gIFxuICAgICAgaWYgKHRoaXMuc2xpZGluZykgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQub25lKCdzbGlkLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKCkgeyB0aGF0LnRvKHBvcykgfSkgLy8geWVzLCBcInNsaWRcIlxuICAgICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG4gIFxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGUocG9zID4gYWN0aXZlSW5kZXggPyAnbmV4dCcgOiAncHJldicsIHRoaXMuJGl0ZW1zLmVxKHBvcykpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuICBcbiAgICAgIGlmICh0aGlzLiRlbGVtZW50LmZpbmQoJy5uZXh0LCAucHJldicpLmxlbmd0aCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgICB0aGlzLmN5Y2xlKHRydWUpXG4gICAgICB9XG4gIFxuICAgICAgdGhpcy5pbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcbiAgXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICAgIHJldHVybiB0aGlzLnNsaWRlKCduZXh0JylcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuc2xpZGUgPSBmdW5jdGlvbiAodHlwZSwgbmV4dCkge1xuICAgICAgdmFyICRhY3RpdmUgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJylcbiAgICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8IHRoaXMuZ2V0SXRlbUZvckRpcmVjdGlvbih0eXBlLCAkYWN0aXZlKVxuICAgICAgdmFyIGlzQ3ljbGluZyA9IHRoaXMuaW50ZXJ2YWxcbiAgICAgIHZhciBkaXJlY3Rpb24gPSB0eXBlID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCdcbiAgICAgIHZhciB0aGF0ICAgICAgPSB0aGlzXG4gIFxuICAgICAgaWYgKCRuZXh0Lmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuICh0aGlzLnNsaWRpbmcgPSBmYWxzZSlcbiAgXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9ICRuZXh0WzBdXG4gICAgICB2YXIgc2xpZGVFdmVudCA9ICQuRXZlbnQoJ3NsaWRlLmJzLmNhcm91c2VsJywge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgfSlcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuICBcbiAgICAgIHRoaXMuc2xpZGluZyA9IHRydWVcbiAgXG4gICAgICBpc0N5Y2xpbmcgJiYgdGhpcy5wYXVzZSgpXG4gIFxuICAgICAgaWYgKHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgICAkbmV4dEluZGljYXRvciAmJiAkbmV4dEluZGljYXRvci5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cbiAgXG4gICAgICB2YXIgc2xpZEV2ZW50ID0gJC5FdmVudCgnc2xpZC5icy5jYXJvdXNlbCcsIHsgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCwgZGlyZWN0aW9uOiBkaXJlY3Rpb24gfSkgLy8geWVzLCBcInNsaWRcIlxuICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3NsaWRlJykpIHtcbiAgICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICAgJG5leHRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICAgICRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAgICRhY3RpdmVcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcyhbJ2FjdGl2ZScsIGRpcmVjdGlvbl0uam9pbignICcpKVxuICAgICAgICAgICAgdGhhdC5zbGlkaW5nID0gZmFsc2VcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgICAgICAgfSwgMClcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgICB9XG4gIFxuICAgICAgaXNDeWNsaW5nICYmIHRoaXMuY3ljbGUoKVxuICBcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgXG4gICAgLy8gQ0FST1VTRUwgUExVR0lOIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnKVxuICAgICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgICAgdmFyIGFjdGlvbiAgPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZVxuICBcbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ251bWJlcicpIGRhdGEudG8ob3B0aW9uKVxuICAgICAgICBlbHNlIGlmIChhY3Rpb24pIGRhdGFbYWN0aW9uXSgpXG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgICB9KVxuICAgIH1cbiAgXG4gICAgdmFyIG9sZCA9ICQuZm4uY2Fyb3VzZWxcbiAgXG4gICAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAgICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbFxuICBcbiAgXG4gICAgLy8gQ0FST1VTRUwgTk8gQ09ORkxJQ1RcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICAkLmZuLmNhcm91c2VsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkLmZuLmNhcm91c2VsID0gb2xkXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gIFxuICAgIC8vIENBUk9VU0VMIERBVEEtQVBJXG4gICAgLy8gPT09PT09PT09PT09PT09PT1cbiAgXG4gICAgdmFyIGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgaHJlZlxuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygnY2Fyb3VzZWwnKSkgcmV0dXJuXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuICAgICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICAgIGlmIChzbGlkZUluZGV4KSBvcHRpb25zLmludGVydmFsID0gZmFsc2VcbiAgXG4gICAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuICBcbiAgICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgICAgfVxuICBcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgXG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGVdJywgY2xpY2tIYW5kbGVyKVxuICAgICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZS10b10nLCBjbGlja0hhbmRsZXIpXG4gIFxuICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJ1tkYXRhLXJpZGU9XCJjYXJvdXNlbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGNhcm91c2VsID0gJCh0aGlzKVxuICAgICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgICB9KVxuICAgIH0pXG4gIFxuICB9KGpRdWVyeSk7XG4gIFxuICArZnVuY3Rpb24oKXtcbiAgICAkKCcuY2Fyb3VzZWwtaXRlbS1pbWFnZSAuaXRlbScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHZhciBpdGVtVG9DbG9uZSA9ICQodGhpcyk7XG4gIFxuICAgICAgZm9yICh2YXIgaT0xO2k8NTtpKyspIHtcbiAgICAgICAgaXRlbVRvQ2xvbmUgPSBpdGVtVG9DbG9uZS5uZXh0KCk7XG4gIFxuICAgICAgICAvLyB3cmFwIGFyb3VuZCBpZiBhdCBlbmQgb2YgaXRlbSBjb2xsZWN0aW9uXG4gICAgICAgIGlmICghaXRlbVRvQ2xvbmUubGVuZ3RoKSB7XG4gICAgICAgICAgaXRlbVRvQ2xvbmUgPSAkKHRoaXMpLnNpYmxpbmdzKCc6Zmlyc3QnKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLy8gZ3JhYiBpdGVtLCBjbG9uZSwgYWRkIG1hcmtlciBjbGFzcywgYWRkIHRvIGNvbGxlY3Rpb25cbiAgICAgICAgaXRlbVRvQ2xvbmUuY2hpbGRyZW4oJzpmaXJzdC1jaGlsZCcpLmNsb25lKClcbiAgICAgICAgICAuYWRkQ2xhc3MoXCJjbG9uZWRpdGVtLVwiKyhpKSlcbiAgICAgICAgICAuYXBwZW5kVG8oJCh0aGlzKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0oKTtcbiAgXG4gICQoJy5jYXJvdXNlbCcpLmNhcm91c2VsKHtcbiAgXHRpbnRlcnZhbDogMCAvL3RlbXBcbiAgfSk7XG4gIFxuICAkKCcjY2Fyb3VzZWwtaXRlbS1pbWFnZScpLmNhcm91c2VsKHsgXG4gICAgaW50ZXJ2YWw6IDAgLy90ZW1wXG4gIH0pO1xuICAkKCcuYmVuZWZpdHNfX2l0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgdmFyIGNoZWNrZWQgPSAkdGhpcy5hdHRyKCdkYXRhLW5hbWUnKTtcbiAgXG4gICAgdmFyIGlucHV0ID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9fY2hlY2tib3gtd3JhcCcpLmZpbmQoJyMnKyBjaGVja2VkKTtcbiAgICBpZiAoICEkdGhpcy5oYXNDbGFzcygnaXNBY3RpdmUnKSkge1xuICAgICAgaW5wdXQudmFsKGlucHV0LmRhdGEoJ24nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0LnZhbChpbnB1dC5kYXRhKCd5JykpO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygkKCcjc2Nob29sJykuaXMoJzpjaGVja2VkJykpO1xuICAgIC8vIGNvbnNvbGUubG9nKCQoJyNraW5kZXInKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI2RydWdzdG9yZScpLmlzKCc6Y2hlY2tlZCcpKTtcbiAgICAvLyBjb25zb2xlLmxvZygkKCcjaG9zcGl0YWwnKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI3Nob3AnKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI2JhbmsnKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI2NhZmUnKS5pcygnOmNoZWNrZWQnKSk7XG4gICAgLy8gY29uc29sZS5sb2coJCgnI3Jlc3QnKS5pcygnOmNoZWNrZWQnKSk7XG4gIH0pXG4gIC8qIVxuICAgKiBCb290c3RyYXAgdjMuMy43IChodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbSlcbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxOCBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqL1xuICBcbiAgLyohXG4gICAqIEdlbmVyYXRlZCB1c2luZyB0aGUgQm9vdHN0cmFwIEN1c3RvbWl6ZXIgKDxub25lPilcbiAgICogQ29uZmlnIHNhdmVkIHRvIGNvbmZpZy5qc29uIGFuZCA8bm9uZT5cbiAgICovXG4gIGlmICh0eXBlb2YgalF1ZXJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeScpXG4gIH1cbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB2ZXJzaW9uID0gJC5mbi5qcXVlcnkuc3BsaXQoJyAnKVswXS5zcGxpdCgnLicpXG4gICAgaWYgKCh2ZXJzaW9uWzBdIDwgMiAmJiB2ZXJzaW9uWzFdIDwgOSkgfHwgKHZlcnNpb25bMF0gPT0gMSAmJiB2ZXJzaW9uWzFdID09IDkgJiYgdmVyc2lvblsyXSA8IDEpIHx8ICh2ZXJzaW9uWzBdID4gMykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciwgYnV0IGxvd2VyIHRoYW4gdmVyc2lvbiA0JylcbiAgICB9XG4gIH0oalF1ZXJ5KTtcbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBCb290c3RyYXA6IGNvbGxhcHNlLmpzIHYzLjMuN1xuICAgKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICBcbiAgLyoganNoaW50IGxhdGVkZWY6IGZhbHNlICovXG4gIFxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICAgIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQgICAgICA9ICQoZWxlbWVudClcbiAgICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICAgIHRoaXMuJHRyaWdnZXIgICAgICA9ICQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2hyZWY9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS10YXJnZXQ9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcbiAgXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuICAgICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LCB0aGlzLiR0cmlnZ2VyKVxuICAgICAgfVxuICBcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlKSB0aGlzLnRvZ2dsZSgpXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5WRVJTSU9OICA9ICczLjMuNydcbiAgXG4gICAgQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTiA9IDM1MFxuICBcbiAgICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICAgIHRvZ2dsZTogdHJ1ZVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuICBcbiAgICAgIHZhciBhY3RpdmVzRGF0YVxuICAgICAgdmFyIGFjdGl2ZXMgPSB0aGlzLiRwYXJlbnQgJiYgdGhpcy4kcGFyZW50LmNoaWxkcmVuKCcuY29sbGFwc2VfX3RhYicpLmNoaWxkcmVuKCcuaW4sIC5jb2xsYXBzaW5nJylcbiAgXG4gICAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICBhY3RpdmVzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgICBpZiAoYWN0aXZlc0RhdGEgJiYgYWN0aXZlc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgICB9XG4gIFxuICAgICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuICBcbiAgICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgICAgYWN0aXZlc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgICB9XG4gIFxuICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcbiAgXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgXG4gICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuICBcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcbiAgXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgICAgfVxuICBcbiAgICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG4gIFxuICAgICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbMF1bc2Nyb2xsU2l6ZV0pXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuICBcbiAgICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy5jb2xsYXBzZScpXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgXG4gICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0XG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlIGluJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgXG4gICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG4gIFxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuY29sbGFwc2UnKVxuICAgICAgfVxuICBcbiAgICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICBbZGltZW5zaW9uXSgwKVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpID8gJ2hpZGUnIDogJ3Nob3cnXSgpXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuZ2V0UGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICQodGhpcy5vcHRpb25zLnBhcmVudClcbiAgICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHRoaXMub3B0aW9ucy5wYXJlbnQgKyAnXCJdJylcbiAgICAgICAgLmVhY2goJC5wcm94eShmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudClcbiAgICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhnZXRUYXJnZXRGcm9tVHJpZ2dlcigkZWxlbWVudCksICRlbGVtZW50KVxuICAgICAgICB9LCB0aGlzKSlcbiAgICAgICAgLmVuZCgpXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gKCRlbGVtZW50LCAkdHJpZ2dlcikge1xuICAgICAgdmFyIGlzT3BlbiA9ICRlbGVtZW50Lmhhc0NsYXNzKCdpbicpXG4gIFxuICAgICAgJGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgICAgICR0cmlnZ2VyXG4gICAgICAgIC50b2dnbGVDbGFzcygnY29sbGFwc2VkJywgIWlzT3BlbilcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gICAgfVxuICBcbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdHJpZ2dlcikge1xuICAgICAgdmFyIGhyZWZcbiAgICAgIHZhciB0YXJnZXQgPSAkdHJpZ2dlci5hdHRyKCdkYXRhLXRhcmdldCcpXG4gICAgICAgIHx8IChocmVmID0gJHRyaWdnZXIuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gIFxuICAgICAgcmV0dXJuICQodGFyZ2V0KVxuICAgIH1cbiAgXG4gIFxuICAgIC8vIENPTExBUFNFIFBMVUdJTiBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gIFxuICAgICAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy50b2dnbGUgJiYgL3Nob3d8aGlkZS8udGVzdChvcHRpb24pKSBvcHRpb25zLnRvZ2dsZSA9IGZhbHNlXG4gICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgICAgfSlcbiAgICB9XG4gIFxuICAgIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG4gIFxuICAgICQuZm4uY29sbGFwc2UgICAgICAgICAgICAgPSBQbHVnaW5cbiAgICAkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yID0gQ29sbGFwc2VcbiAgXG4gIFxuICAgIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09XG4gIFxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgXG4gICAgICBpZiAoISR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykpIGUucHJldmVudERlZmF1bHQoKVxuICBcbiAgICAgIHZhciAkdGFyZ2V0ID0gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcbiAgXG4gICAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24pXG4gICAgfSlcbiAgXG4gIH0oalF1ZXJ5KTtcbiAgJCgnLmpzLWhpZGUtZmlsdGVyJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICBpZiAoICQoJy5maWx0ZXJfX2lucHV0LWdyb3VwLS1hZGQnKS5oYXNDbGFzcygnanMtaXNWaXNpYmxlJykgKSB7XG4gICAgICAkKCcuZmlsdGVyX19pbnB1dC1ncm91cC0tYWRkJykucmVtb3ZlQ2xhc3MoJ2pzLWlzVmlzaWJsZScpO1xuICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2lTb3BlbmVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5maWx0ZXJfX2lucHV0LWdyb3VwLS1hZGQnKS5hZGRDbGFzcygnanMtaXNWaXNpYmxlJyk7ICAgICAgXG4gICAgICAkdGhpcy5hZGRDbGFzcygnaVNvcGVuZWQnKTtcbiAgICB9XG4gIH0pO1xuICBpZiAoJCgnI2NvdW50ZXInKS5sZW5ndGggKSB7XG4gICAgdmFyIGEgPSAwO1xuICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb1RvcCA9ICQoJyNjb3VudGVyJykub2Zmc2V0KCkudG9wIC0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgaWYgKGEgPT0gMCAmJiAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiBvVG9wKSB7XG4gICAgICAgICQoJy5jb3VudGVyLXZhbHVlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLCBjb3VudFRvID0gJHRoaXMuYXR0cignZGF0YS1jb3VudCcpO1xuICAgICAgICAgICQoe2NvdW50TnVtOiAkdGhpcy50ZXh0KCl9KS5hbmltYXRlKHsgY291bnROdW06IGNvdW50VG99LCB7XG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICBlYXNpbmc6ICdzd2luZycsXG4gICAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR0aGlzLnRleHQoTWF0aC5mbG9vcih0aGlzLmNvdW50TnVtKSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkdGhpcy50ZXh0KHRoaXMuY291bnROdW0pO1xuICAgICAgICAgICAgICAgIC8vYWxlcnQoJ2ZpbmlzaGVkJyk7XG4gICAgICAgICAgICAgICAgJCgnLnN0YXRpc3RpY3NfX2NhcmQtdGV4dCcpLmFkZENsYXNzKCdpc0FuaW1hdGVkJyk7XG4gICAgICAgICAgICAgICAgJCgnLmhpc3RvcnlfX2NhcmQtdGV4dCcpLmFkZENsYXNzKCdpc0FuaW1hdGVkJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGEgPSAxO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gICtmdW5jdGlvbigpe1xuICBcbiAgICAgIGZ1bmN0aW9uIG1vZEFjdGlvbihpdGVtLCBhY3Rpb24pIHtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdXJsOiBjb25maWcuZmF2b3JpdGVNb2QsXG4gICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGVscyA9ICQoJy5qcy1hZGRfZmF2b3JpdGVbZGF0YS1pdGVtPScgKyBpdGVtICsgJ10nKTtcbiAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT0gJ2FkZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzLmFkZENsYXNzKCdpcy1mYXZvcml0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT0gJ3JlbW92ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzLnJlbW92ZUNsYXNzKCdpcy1mYXZvcml0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLXRvcF9zaG93X2l6YnJhbm5vZScpWyBkYXRhLmVtcHR5ID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcycgXSgnaG92ZXInKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICBcbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUxpc3QoKSB7XG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6IGNvbmZpZy5mYXZvcml0ZUxpc3QsICAgICAgICAgICAgIFxuICAgICAgICAgIGRhdGFUeXBlIDogXCJodG1sXCIsICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAkKCcjaXpicmFubm9lIC50YWJfX2Jsb2NrW2RhdGEtY29udGVudD1cImxpc3RcIl0nKS5odG1sKCBkYXRhICk7XG4gICAgICAgICAgfSBcbiAgICAgICAgICB9KTsgXG4gICAgICB9XG4gIFxuICAgICAgLy8g0YPQtNCw0LvQtdC90LjQtSDQuNC3INC40LfQsdGA0LDQvdC90L7Qs9C+ICjQuNC3INCy0YHQv9C70YvQstCw0YjQutC4KVxuICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsICcuanMtcmVtb3ZlX2Zhdm9yaXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgZWwgPSAkKHRoaXMpO1xuICAgICAgICAgIHZhciBpdGVtID0gZWwuZGF0YSgnaXRlbScpO1xuICBcbiAgICAgICAgICBtb2RBY3Rpb24oaXRlbSwgJ3JlbW92ZScpO1xuICAgICAgICAgIGVsLmNsb3Nlc3QoJy5saW5lJykucmVtb3ZlKCk7XG4gIFxuICAgICAgICAgIGlmICghJCgnI2l6YnJhbm5vZSAubGluZScpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAkKCcuanMtaXpicmFubm9lX2VtcHR5Jykuc2hvdygpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICBcbiAgICAgIC8vINC/0L7QutCw0Lcg0LLRgdC/0LvRi9Cy0LDRiNC60LhcbiAgICAgICQoJy5qcy1tb2RhbF9fYnRuW2RhdGEtbW9kYWw9XCJpemJyYW5ub2VcIl0nKS5vbignY2xpY2snLCB1cGRhdGVMaXN0KTtcbiAgXG4gICAgICAvLyDQutC90L7Qv9C60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LIg0LjQt9Cx0YDQsNC90L3QvtC1XG4gICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5qcy1hZGRfZmF2b3JpdGUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHZhciBlbCA9ICQodGhpcyk7XG4gIFxuICAgICAgICAgIGlmIChlbC5oYXNDbGFzcygnaXMtZmF2b3JpdGUnKSkge1xuICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gJ3JlbW92ZSc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9ICdhZGQnO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaXRlbSA9IGVsLmRhdGEoJ2l0ZW0nKTtcbiAgXG4gICAgICAgICAgbW9kQWN0aW9uKGl0ZW0sIGFjdGlvbik7XG4gICAgICB9KTtcbiAgfSgpO1xuICBcbiAgXG4gICQoJyNmb3JtLWVncm4nKS5vZmYoJ3N1Ym1pdCcpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgJCgnI2Vncm4nKS5hZGRDbGFzcygnaXNPcGVuZWQnKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGZvcm0gPSB0aGlzO1xuICBcbiAgICAkLmFqYXgoe1xuICAgICAgZGF0YTogJChmb3JtKS5zZXJpYWxpemUoKSxcbiAgICAgIG1ldGhvZDogZm9ybS5tZXRob2QsXG4gICAgICB1cmw6IGZvcm0uYWN0aW9uLCAgICAgICAgICAgICBcbiAgICAgIGRhdGFUeXBlIDogXCJodG1sXCIsICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAkKCcjZWdybiAubW9kYWxfX2NvbnRlbnQnKS5odG1sKCBkYXRhICk7XG4gICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIFxuICBcbiAgJCgnLmpzLW1vZGFsX19idG5bZGF0YS1tb2RhbD1cImVtcGxveWVlXCJdJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgdmFyIG5hbWUgPSAkdGhpcy5hdHRyKFwiZGF0YS1uYW1lXCIpO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6IGNvbmZpZy5lbXBOYW1lICsgbmFtZSwgICAgICAgICAgICAgXG4gICAgICBkYXRhVHlwZSA6IFwiaHRtbFwiLCAgICAgICAgICAgICAgICAgICAgXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAkKCcubW9kYWxfX2NvbnRlbnQnKS5odG1sKCBkYXRhICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgXG4gICQoXCIjY29uc3VsdCBmb3JtLCNmb3JtLW90enl2LCNzZWxsIGZvcm1cIikub2ZmKCdzdWJtaXQnKS5vbignc3VibWl0JywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZm9ybSA9IHRoaXM7XG4gIFxuICAgICQuYWpheCh7XG4gICAgICBkYXRhOiAkKGZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgbWV0aG9kOiBmb3JtLm1ldGhvZCxcbiAgICAgIHVybDogZm9ybS5hY3Rpb24sICAgICBcbiAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgXG4gICAgICAgICQoJChmb3JtKS5kYXRhKCdjb250JykgKyAnIC5tb2RhbF9fY29udGVudCcpLmh0bWwoIGRhdGEgKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikgeyBcbiAgICAgICAgJCgkKGZvcm0pLmRhdGEoJ2NvbnQnKSArICcgLm1vZGFsX19jb250ZW50JykuaHRtbCggZGF0YSApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSlcbiAgJCgnI2NvbnRhY3RzJykub2ZmKCdzdWJtaXQnKS5vbignc3VibWl0JywgZnVuY3Rpb24oZSkge1xuICAgICQoJyNjb250YWN0cy1tb2RhbCcpLmFkZENsYXNzKCdpc09wZW5lZCcpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZm9ybSA9IHRoaXM7XG4gIFxuICAgICQuYWpheCh7XG4gICAgICBkYXRhOiAkKGZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgbWV0aG9kOiBmb3JtLm1ldGhvZCxcbiAgICAgIHVybDogZm9ybS5hY3Rpb24sICAgICAgICAgICAgIFxuICAgICAgZGF0YVR5cGUgOiBcImh0bWxcIiwgICAgICAgICAgICAgICAgICAgIFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJCgnLm1vZGFsX19jb250ZW50JykuaHRtbCggZGF0YSApO1xuICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pOyBcbiAgXG4gICQoJyNoZWxwX3NpZGViYXJfZm9ybScpLm9mZignc3VibWl0Jykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAkKCcjaGVscC1tb2RhbCcpLmFkZENsYXNzKCdpc09wZW5lZCcpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZm9ybSA9IHRoaXM7XG4gIFxuICAgICQuYWpheCh7XG4gICAgICBkYXRhOiAkKGZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgbWV0aG9kOiBmb3JtLm1ldGhvZCxcbiAgICAgIHVybDogZm9ybS5hY3Rpb24sICAgICAgICAgICAgIFxuICAgICAgZGF0YVR5cGUgOiBcImh0bWxcIiwgICAgICAgICAgICAgICAgICAgIFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJCgnLm1vZGFsX19jb250ZW50JykuaHRtbCggZGF0YSApO1xuICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICAvL2Ryb3B6b25lLXByZXZpZXdzXG4gICQoJy5kcm9wem9uZS1pbWFnZXMnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFyZWEgPSAkKHRoaXMpO1xuICAgICAgdmFyIHBhcmFtID0gYXJlYS5kYXRhKCdwYXJhbScpO1xuICBcbiAgICAgIGFyZWEuYWRkQ2xhc3MoXCJkcm9wem9uZVwiKS5kcm9wem9uZSh7XG4gICAgICAgICAgYWRkUmVtb3ZlTGlua3M6IHRydWUsIFxuICAgICAgICAgIGFjY2VwdGVkRmlsZXM6ICdpbWFnZS8qJyxcbiAgICAgICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICAgICAgdGh1bWJuYWlsV2lkdGg6IDEyMCxcbiAgICAgICAgICB0aHVtYm5haWxIZWlnaHQ6IDEyMCxcbiAgICAgICAgICBtYXhGaWxlczogYXJlYS5kYXRhKCdtYXhmaWxlcycpLCAvLyDQvNCw0LrRgdC40LzQsNC70YzQvdC+0LUg0LrQvtC7LdCy0L4g0YTQsNC50LvQvtCyXG4gICAgICAgICAgY3JlYXRlSW1hZ2VUaHVtYm5haWxzOiB0cnVlLFxuICAgICAgICAgIHBhcmFtTmFtZTogJ2ZpbGUnLCAvLyBUaGUgbmFtZSB0aGF0IHdpbGwgYmUgdXNlZCB0byB0cmFuc2ZlciB0aGUgZmlsZVxuICAgICAgICAgIHVybDogYXJlYS5kYXRhKCd1cGxvYWQnKSxcbiAgICAgICAgICBkaWN0UmVtb3ZlRmlsZTogJ9Cj0LTQsNC70LXQvdC40LUg0YTQvtGC0L7Qs9GA0LDRhNC40LgnLFxuICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogJ9Cf0LXRgNC10YLQsNGJ0LjRgtC1INGB0Y7QtNCwINGE0L7RgtC+0LPRgNCw0YTQuNC4INC40LvQuCDQutC70LjQutC90LjRgtC1INC00LvRjyDQt9Cw0LPRgNGD0LfQutC4INGE0LDQudC70L7Qsjxicj48YnI+XFxcbiAgICAgICAgICAgICAgKNC80LDQutGB0LjQvNGD0LwgJyArIGFyZWEuZGF0YSgnbWF4ZmlsZXMnKSArICcg0YTQvtGC0L7Qs9GA0LDRhNC40LkpJyxcbiAgICAgICAgICBkaWN0RmlsZVRvb0JpZzogJ9Cf0YDQtdCy0YvRiNC10L0g0LTQvtC/0YPRgdGC0LjQvNGL0Lkg0YDQsNC30LzQtdGAINGE0LDQudC70LA6IHt7bWF4RmlsZXNpemV9fSDQnNCxJyxcbiAgICAgICAgICBkaWN0TWF4RmlsZXNFeGNlZWRlZDogJ9Cf0YDQtdCy0YvRiNC10L3QviDQvNCw0LrRgdC40LzQsNC70YzQvdC+0LUg0LrQvtC7LdCy0L4g0YTQvtGC0L7Qs9GA0LDRhNC40Lkg0LTQu9GPINC30LDQs9GA0YPQt9C60Lg6IHt7bWF4RmlsZXN9fScsXG4gICAgICAgICAgZGljdEludmFsaWRGaWxlVHlwZTogJ9CS0Ysg0L3QtSDQvNC+0LbQtdGC0LUg0LTQvtCx0LDQstC40YLRjCDRhNCw0LnQu9GLINGN0YLQvtCz0L4g0YLQuNC/0LAnLFxuICAgICAgICAgIG1heEZpbGVzaXplOiAyLCAvLyBtYlxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGZpbGUsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHZhciBwZSA9ICQoZmlsZS5wcmV2aWV3RWxlbWVudCk7XG4gIFxuICAgICAgICAgICAgICByZXNwb25zZS5hZGRlZC5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICBwZS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIicgKyBwYXJhbSArICdbXVwiIHZhbHVlPVwiJyArIGlkICsgJ1wiPicpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICB9KTtcbiAgfSk7XG4gICQoJy5qcy10YWItY2hhbmdlLXZhbHVlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gIFxuICAgICAgdmFyIGJ1dHRvbnMgPSAkdGhpcy5jbG9zZXN0KCcudGFiJykuZmluZCgnLmpzLXRhYi1jaGFuZ2UtdmFsdWUnKTtcbiAgICAgIC8vINCy0LjQt9GD0LDQu9GM0L3QviDRjdGC0L4g0LTQvtC70LbQvdC+INCy0YvQs9C70Y/QtNC10YLRjCDQutCw0Log0L/QtdGA0LXQutC70Y7Rh9C10L3QuNC1INGC0LDQsdC+0LJcbiAgICAgIGJ1dHRvbnMucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICBcbiAgICAgIHZhciBmb3JtID0gJCgkdGhpcy5kYXRhKCdmb3JtJykpO1xuICAgICAgZm9ybS5yZW1vdmVDbGFzcygpXG4gICAgICAgICAgLmFkZENsYXNzKCdtb2RlLScgKyAkdGhpcy5kYXRhKCd2YWx1ZScpKVxuICAgICAgICAgIC5maW5kKCR0aGlzLmRhdGEoJ2lucHV0JykpXG4gICAgICAgICAgLnZhbCgkdGhpcy5kYXRhKCd2YWx1ZScpKTtcbiAgXG4gIH0pO1xuICAvLyAkKCcuanMtbmF2LWxpbmsnKS5ob3ZlcihmdW5jdGlvbigpIHtcbiAgLy8gICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gIC8vICAgLy8gdmFyIGxpbmsgPSAkdGhpcy5hdHRyKCdkYXRhLWxpbmsnKTtcbiAgLy8gICAvLyBpZiAoICQoJy5oZWFkZXJfX2Ryb3Bkb3duW2RhdGEtZHJvcD1cIicrbGluaysnXCJdJykuaGFzQ2xhc3MoJ2lzT3BlbmVkJykgKSB7XG4gIC8vICAgLy8gICAkKCcuaGVhZGVyX19kcm9wZG93bltkYXRhLWRyb3A9XCInK2xpbmsrJ1wiXScpLnJlbW92ZUNsYXNzKCdpc09wZW5lZCcpO1xuICAvLyAgIC8vIH0gZWxzZSB7XG4gIC8vICAgLy8gICAkKCcuaGVhZGVyX19kcm9wZG93bltkYXRhLWRyb3A9XCInK2xpbmsrJ1wiXScpLmFkZENsYXNzKCdpc09wZW5lZCcpO1xuICAvLyAgIC8vIH1cbiAgLy8gICBpZiAoICR0aGlzLmZpbmQoJy5oZWFkZXJfX2Ryb3Bkb3duJykuaGFzQ2xhc3MoJ2lzT3BlbmVkJykgKSB7XG4gIC8vICAgICAkdGhpcy5maW5kKCcuaGVhZGVyX19kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdpc09wZW5lZCcpO1xuICAvLyAgIH0gZWxzZSB7XG4gIC8vICAgICAkdGhpcy5maW5kKCcuaGVhZGVyX19kcm9wZG93bicpLmFkZENsYXNzKCdpc09wZW5lZCcpO1xuICAvLyAgIH1cbiAgLy8gfSlcbiAgXG4gIC8vIGlmICggJCgnLmhlYWRlcl9fZHJvcGRvd24uaXNPcGVuZWQnKSApIHtcbiAgLy8gICBjb25zb2xlLmxvZyhcImhlcHBlbnNcIilcbiAgLy8gICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gIC8vICAgICBpZiAoICEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuaGVhZGVyX19kcm9wZG93bi5pc09wZW5lZCcpLmxlbmd0aCkge1xuICAvLyAgICAgICAkKCcuaGVhZGVyX19kcm9wZG93bi5pc09wZW5lZCcpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9KTtcbiAgLy8gfVxuICAkKCcuanMtaGVhZGVyLW1lbnUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAkKCcuaGVhZGVyX19zaWRlJykuYWRkQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIH0pXG4gIFxuICAkKCcuc2lkZS1tb2RhbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoICEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuc2lkZS1tb2RhbF9fd3JhcHBlcicpLmxlbmd0aCkge1xuICAgICAgJCgnLnNpZGUtbW9kYWwnKS5yZW1vdmVDbGFzcygnaXNPcGVuZWQnKTtcbiAgICB9XG4gIH0pXG4gIFxuICAkKCcjbW9kYWwtY2xvc2UtbWVudScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgJHRoaXMuY2xvc2VzdCgnLnNpZGUtbW9kYWwnKS5yZW1vdmVDbGFzcygnaXNPcGVuZWQnKTtcbiAgfSlcbiAgaWYgKCQoJy5oaXN0b3J5X193cmFwcGVyJykubGVuZ3RoKSB7XG4gICAgICB2YXIgYXggPSAwO1xuICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgb1RvcCA9ICQoJy5oaXN0b3J5X193cmFwcGVyJykub2Zmc2V0KCkudG9wIC0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgIGlmIChheCA9PSAwICYmICQod2luZG93KS5zY3JvbGxUb3AoKSA+IG9Ub3ApIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICQoJy5oaXN0b3J5X19jYXJkLWhlYWRlcicpLmFkZENsYXNzKCdpc0FuaW1hdGVkJyk7XG4gIFxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAkKCcuaGlzdG9yeV9fY2FyZC10ZXh0JykuYWRkQ2xhc3MoJ2lzQW5pbWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICB9LCA1MDApO1xuICBcbiAgICAgICAgICAgICAgYXggPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgXG4gICAgICAkKHdpbmRvdykuc2Nyb2xsKGhhbmRsZXIpO1xuICAgICAgaGFuZGxlcigpO1xuICB9XG4gIFxuICAvLyAyLiDQn9C+0LTRgdGC0LDQvdC+0LLQutCwINC30L3QsNGH0LXQvdC40Y8g0LXRgdC70Lgg0L7QvdC+INGD0LrQsNC30LDQvdC+INCyINC40L3Qv9GD0YLQtVxuICAkKCcuanMtc2VsZWN0LWJ0bicpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJ1dHRvbiA9ICQodGhpcyk7XG4gICAgdmFyIHdyYXBwZXIgPSBidXR0b24uY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpO1xuICBcbiAgICAvLyAyLjEg0L/QvtC70YPRh9Cw0LXQvCDQt9C90LDRh9C10L3QuNC1INC40L3Qv9GD0YLQsFxuICAgIHZhciB2YWx1ZSA9IHdyYXBwZXIuZmluZCgnaW5wdXQnKS52YWwoKTtcbiAgXG4gICAgLy8gMi4yINC/0LXRgNC10LHQuNGA0LDQtdC8INC30L3QsNGH0LXQvdC40Y8g0YHQtdC70LXQutGC0LBcbiAgICB3cmFwcGVyLmZpbmQoJy5qcy1zZWxlY3QtYmxvY2sgLmpzLXNlbGVjdC1pdGVtJykucmVtb3ZlQ2xhc3MoXCJqcy1zZWxlY3RlZFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGl0ZW0gPSAkKHRoaXMpO1xuICBcbiAgICAgIGlmICh2YWx1ZSA9PSBpdGVtLmRhdGEoJ3ZhbHVlJykpIHtcbiAgICAgICAgYnV0dG9uLnRleHQoaXRlbS50ZXh0KCkpO1xuICAgICAgICBpdGVtLmFkZENsYXNzKCdqcy1zZWxlY3RlZCcpO1xuICAgICAgICB3cmFwcGVyLmZpbmQoJy5maWx0ZXJfX2Zsb2F0aW5nLWxhYmVsJykuYWRkQ2xhc3MoJ2Zsb2F0ZWQnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgXG4gIC8vIDMuINCy0YvRgdC+0YLQsCDQuNC90L/Rg9GC0L7QsiDQvtCz0YDQsNC90LjRh9C10L3QsFxuICBcbiAgLy8gNC4g0KjQuNGA0LjQvdCwINC40L3Qv9GD0YLQvtCyINGA0LDQt9C90LDRj1xuICBcbiAgLy93aGVuIGNsaWNraW5nL3RvZ2dsaW5nIGRyb3Bkb3duIG1lbnUgYnRuXG4gICQoJy5qcy1zZWxlY3QtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgIHZhciBzeWJsaW5nID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKS5maW5kKCcuanMtc2VsZWN0LWJsb2NrJyk7XG4gICAgaWYgKCBzeWJsaW5nLmhhc0NsYXNzKCdpc09wZW4nKSApIHtcbiAgICAgICR0aGlzLmFkZENsYXNzKCdpc0Nsb3NlZCcpO1xuICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpO1xuICAgICAgc3libGluZy5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5qcy1zZWxlY3QtYmxvY2snKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gICAgICAkKCcuanMtc2VsZWN0LWJ0bicpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTsgICAgXG4gICAgICAkdGhpcy5hZGRDbGFzcygnaXNPcGVuJyk7XG4gICAgICBzeWJsaW5nLmFkZENsYXNzKCdpc09wZW4nKTtcbiAgICB9XG4gIFxuICAgIHZhciAkYmxvY2sgPSAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyX19pbnB1dC1ibG9jaycpO1xuICAgIHZhciAkZXhpc3QgPSAkYmxvY2suZmluZCgnLmZpbHRlcl9fZW1wdHknKTtcbiAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIlxuICAgIGlmICggISRleGlzdC5sZW5ndGggKSB7XG4gICAgICBpZiAoICRibG9jay5maW5kKCcuanMtZmlsdGVyLWhpZGRlbicpLnByb3AoJ3JlcXVpcmVkJykpIHtcbiAgICAgICAgaWYgKCAhJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykudmFsKCkgKSB7XG4gICAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2lucHV0LXdyYXAnKS5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9ICBcbiAgfSk7XG4gIFxuICAvL3doZW4gY2xpY2tpbmcgb24gaXRlbSBpbiBkcm9wZG93biBtZW51XG4gICQoJy5qcy1zZWxlY3QtaXRlbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIFxuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnanMtc2VsZWN0ZWQnKTtcbiAgICB2YXIgdGV4dCA9ICR0aGlzLnRleHQoKTtcbiAgICB2YXIgdmFsdWUgPSAkdGhpcy5kYXRhKCd2YWx1ZScpO1xuICAgIHZhciBncm91cCA9ICR0aGlzLmF0dHIoJ2RhdGEtZ3JvdXAnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bltkYXRhLWdyb3VwPVwiJyArIGdyb3VwICsgJ1wiXScpLnRleHQodGV4dCk7XG4gICAgJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKS5maW5kKCcuanMtc2VsZWN0LWxhYmVsJykuYWRkQ2xhc3MoJ2Zsb2F0ZWQnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5hZGRDbGFzcygnaXNDbG9zZWQnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJsb2NrLmlzT3BlbicpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gICAgJCgnLmpzLWZpbHRlci1oaWRkZW5bZGF0YS1ncm91cD1cIicgKyBncm91cCArICdcIl0nKS52YWwodmFsdWUpOyAgIFxuICAgIFxuICAgIHZhciAkYmxvY2sgPSAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyX19pbnB1dC1ibG9jaycpXG4gICAgaWYgKCAkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS5wcm9wKCdyZXF1aXJlZCcpKSB7XG4gICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIlxuICAgICAgaWYgKCAhJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykudmFsKCkgKSB7XG4gICAgICAgICRibG9jay5maW5kKCcuZmlsdGVyX19pbnB1dC13cmFwJykuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bltkYXRhLWdyb3VwPVwiJyArIGdyb3VwICsgJ1wiXScpLmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICQoJy5qcy1zZWxlY3QtYnRuW2RhdGEtZ3JvdXA9XCInICsgZ3JvdXAgKyAnXCJdJykucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vd2hlbiBjbGlja2luZyBvdXRzaWRlIHRoZSBpdGVtIGluIGRyb3Bkb3duIG9yIGRyb3Bkb3duIGJ0biBcbiAgaWYgKCAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5sZW5ndGggPiAwICkge1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1zZWxlY3QtYmxvY2suaXNPcGVuJykubGVuZ3RoICYmICEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5sZW5ndGgpIHtcbiAgICAgICAgJCgnLmpzLXNlbGVjdC1idG4uaXNPcGVuJykuYWRkQ2xhc3MoJ2lzQ2xvc2VkJyk7XG4gICAgICAgICQoJy5qcy1zZWxlY3QtYmxvY2suaXNPcGVuJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpO1xuICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gIFxuICAgICAgICB2YXIgJHRoaXMgPSAkKCcuanMtc2VsZWN0LWJ0bi5pc0Nsb3NlZCcpO1xuICAgICAgICB2YXIgJGJsb2NrID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKTtcbiAgICAgICAgdmFyICRleGlzdCA9ICRibG9jay5maW5kKCcuZmlsdGVyX19lbXB0eScpO1xuICAgICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIlxuICAgICAgICBpZiAoICEkZXhpc3QubGVuZ3RoICkge1xuICAgICAgICAgIGlmICggJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgICAgICAgaWYgKCAhJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykudmFsKCkgKSB7XG4gICAgICAgICAgICAgICRibG9jay5maW5kKCcuZmlsdGVyX19pbnB1dC13cmFwJykuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc0Nsb3NlZCcpLmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICQoJy5qcy1zZWxlY3QtYnRuLmlzQ2xvc2VkJykucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG4gICQoJ2JvZHknKS5vbignZm9jdXMnLCAnLmZpbHRlcl9faW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpLmZpbmQoJy5maWx0ZXJfX2Zsb2F0aW5nLWxhYmVsJykuYWRkQ2xhc3MoJ2Zsb2F0ZWQnKTtcbiAgfSlcbiAgXG4gICQoJ2JvZHknKS5vbignYmx1cicsICcuZmlsdGVyX19pbnB1dCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICB2YXIgJHBhcmVudCA9ICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LXdyYXAnKTtcbiAgICB2YXIgJGlucHV0ID0gJHBhcmVudC5maW5kKCcuZmlsdGVyX19pbnB1dCcpO1xuICAgIGlmICggISR0aGlzLnZhbCgpICkge1xuICAgICAgdmFyIGVtcHR5ID0gXCI8c3BhbiBjbGFzcz0nZmlsdGVyX19lbXB0eSc+0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y88L3NwYW4+XCI7XG4gICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZmxvYXRpbmctbGFiZWwnKS5yZW1vdmVDbGFzcygnZmxvYXRlZCcpO1xuICAgICAgaWYgKCAkdGhpcy5wcm9wKCdyZXF1aXJlZCcpKSB7XG4gICAgICAgIGlmICggISRpbnB1dC5oYXNDbGFzcygnZmlsdGVyX19kYW5nZXInKSApIHtcbiAgICAgICAgICAkaW5wdXQuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgJHBhcmVudC5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgIH0gICAgXG4gICAgICB9XG4gICAgfSBcbiAgICBlbHNlIHtcbiAgICAgIHZhciBuYW1lID0gJGlucHV0LmRhdGEoJ3ZhbGlkYXRlJylcbiAgICAgIGlmICggbmFtZSA9PT0gJ25hbWUnICkge1xuICAgICAgICBpZiAoICRpbnB1dC52YWwoKS5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgIGlmICggJGlucHV0Lmhhc0NsYXNzKCdmaWx0ZXJfX2RhbmdlcicpICkge1xuICAgICAgICAgICAgJGlucHV0LnJlbW92ZUNsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC00L7Qu9C20L3QviDRgdC+0LTQtdGA0LbQsNGC0Ywg0JjQvNGPINC4INCk0LDQvNC40LvQuNGOINGH0LXRgNC10Lcg0L/RgNC+0LHQtdC7PC9zcGFuPlwiO1xuICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAkcGFyZW50LmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICggbmFtZSA9PT0gJ2VtYWlsJyApIHtcbiAgICAgICAgaWYoIHZhbGlkYXRlRW1haWwoJGlucHV0LnZhbCgpKSkge1xuICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgIGlmICggJGlucHV0Lmhhc0NsYXNzKCdmaWx0ZXJfX2RhbmdlcicpICkge1xuICAgICAgICAgICAgJGlucHV0LnJlbW92ZUNsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIH0gICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICAkcGFyZW50LmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgdmFyIGVtcHR5ID0gXCI8c3BhbiBjbGFzcz0nZmlsdGVyX19lbXB0eSc+RW1haWwg0LTQvtC70LbQtdC9INGB0L7QtNC10YDQttCw0YLRjCDQu9Cw0YLQuNC90YHQutC40LUg0LHRg9C60LLRiywg0YHQuNC80LLQvtC70YsgQCDQuCAuPC9zcGFuPlwiO1xuICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAkcGFyZW50LmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICggbmFtZSA9PT0gJ3RlbCcgKSB7XG4gICAgICAgIGlmKCB2YWxpZGF0ZVBob25lKCRpbnB1dC52YWwoKSkpIHtcbiAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICBpZiAoICRpbnB1dC5oYXNDbGFzcygnZmlsdGVyX19kYW5nZXInKSApIHtcbiAgICAgICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCd0L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsCDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINC+0YIgMTAg0LTQviAxNCDRhtC40YTRgDwvc3Bhbj5cIjtcbiAgICAgICAgICAkaW5wdXQuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgJHBhcmVudC5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7IFxuICBcbiAgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbCgkZW1haWwpIHtcbiAgICB2YXIgZW1haWxSZWcgPSAvXihbXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSk/JC87XG4gICAgcmV0dXJuIGVtYWlsUmVnLnRlc3QoICRlbWFpbCApO1xuICB9O1xuICBcbiAgZnVuY3Rpb24gdmFsaWRhdGVQaG9uZSgkcGhvbmUpIHtcbiAgICB2YXIgcGhvbmVSZWcgPSAvXigoOHxcXCs3KVtcXC0gXT8pPyhcXCg/XFxkezN9XFwpP1tcXC0gXT8pP1tcXGRcXC0gXXsxMCwxNH0kLztcbiAgICByZXR1cm4gcGhvbmVSZWcudGVzdCggJHBob25lICk7XG4gIH07XG4gICQoJy5pdGVtX19pbWcnKS5jbGljayhmdW5jdGlvbigpe1xuICAgIHZhciBpbWdTcmMgPSAkKCB0aGlzICkuYXR0cignc3JjJyk7XG4gIFxuICAgIC8vIGNvbnNvbGUubG9nKCBpbWdTcmMgKTtcbiAgICBcbiAgICAkKCcuaW1hZ2VfX2NvbnRhaW5lcicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJyArIGltZ1NyYyArICcpJyApO1xuICB9KTtcbiAgJCgnI21vZGFsLWNsb3NlLWhlbHAnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ25vdCBoYXBwZW5zJyk7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgICR0aGlzLmNsb3Nlc3QoJy5qcy1tb2RhbCcpLnJlbW92ZUNsYXNzKCdpc09wZW5lZCcpO1xuICB9KVxuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpICE9PSBudWxsKSB7XG4gICAgICB2YXIgbG5nID0gJCgnI21hcCcpLmF0dHIoJ2RhdGEtbG5nJyk7XG4gICAgICB2YXIgbGF0ID0gJCgnI21hcCcpLmF0dHIoJ2RhdGEtbGF0Jyk7XG4gICAgICAvLyDQpNGD0L3QutGG0LjRjyB5bWFwcy5yZWFkeSgpINCx0YPQtNC10YIg0LLRi9C30LLQsNC90LAsINC60L7Qs9C00LBcbiAgICAgIC8vINC30LDQs9GA0YPQt9GP0YLRgdGPINCy0YHQtSDQutC+0LzQv9C+0L3QtdC90YLRiyBBUEksINCwINGC0LDQutC20LUg0LrQvtCz0LTQsCDQsdGD0LTQtdGCINCz0L7RgtC+0LLQviBET00t0LTQtdGA0LXQstC+LlxuICBcbiAgICAgIHltYXBzLnJlYWR5KGluaXQpO1xuICBcbiAgICAgIGZ1bmN0aW9uIGluaXQoKXsgXG4gICAgICAgICAgLy8g0KHQvtC30LTQsNC90LjQtSDQutCw0YDRgtGLLiAgICBcbiAgICAgICAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcbiAgICAgICAgICAgICAgLy8g0JrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC90YLRgNCwINC60LDRgNGC0YsuXG4gICAgICAgICAgICAgIC8vINCf0L7RgNGP0LTQvtC6INC/0L4g0YPQvNC+0LvRh9C90LjRjjogwqvRiNC40YDQvtGC0LAsINC00L7Qu9Cz0L7RgtCwwrsuXG4gICAgICAgICAgICAgIC8vINCn0YLQvtCx0Ysg0L3QtSDQvtC/0YDQtdC00LXQu9GP0YLRjCDQutC+0L7RgNC00LjQvdCw0YLRiyDRhtC10L3RgtGA0LAg0LrQsNGA0YLRiyDQstGA0YPRh9C90YPRjixcbiAgICAgICAgICAgICAgLy8g0LLQvtGB0L/QvtC70YzQt9GD0LnRgtC10YHRjCDQuNC90YHRgtGA0YPQvNC10L3RgtC+0Lwg0J7Qv9GA0LXQtNC10LvQtdC90LjQtSDQutC+0L7RgNC00LjQvdCw0YIuXG4gICAgICAgICAgICAgIC8vIGNlbnRlcjogWzU1Ljc2LCAzNy42NF0sXG4gICAgICAgICAgICAgIGNlbnRlcjogW2xuZywgbGF0XSxcbiAgICAgICAgICAgICAgLy8g0KPRgNC+0LLQtdC90Ywg0LzQsNGB0YjRgtCw0LHQuNGA0L7QstCw0L3QuNGPLiDQlNC+0L/Rg9GB0YLQuNC80YvQtSDQt9C90LDRh9C10L3QuNGPOlxuICAgICAgICAgICAgICAvLyDQvtGCIDAgKNCy0LXRgdGMINC80LjRgCkg0LTQviAxOS5cbiAgICAgICAgICAgICAgem9vbTogMTAsXG4gICAgICAgICAgICAgIGNvbnRyb2xzOiBbXVxuICAgICAgICAgIH0pOyBcbiAgXG4gICAgICAgICAgLy8g0JzQtdGC0LrQsCwg0YHQvtC00LXRgNC20LjQvNC+0LUg0LHQsNC70YPQvdCwINC60L7RgtC+0YDQvtC5INC30LDQs9GA0YPQttCw0LXRgtGB0Y8g0YEg0L/QvtC80L7RidGM0Y4gQUpBWC5cbiAgICAgICAgICAvLyB2YXIgcGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNzYwNTg0LCAzNy42Mzk0NTBdLCB7fSwge1xuICAgICAgICAgIC8vICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgICAgLy8gICAgIGljb25JbWFnZUhyZWY6ICdpbWFnZXMvbWFwX19iYWxvb24ucG5nJyxcbiAgICAgICAgICAvLyAgICAgaWNvbkltYWdlU2l6ZTogWzU3LCA1MV0sXG4gICAgICAgICAgLy8gICAgIGljb25JbWFnZU9mZnNldDogWy0zNywgLTUwXVxuICAgICAgICAgIC8vIH0pO1xuICBcbiAgICAgICAgICB2YXIgWm9vbUxheW91dCA9IHltYXBzLnRlbXBsYXRlTGF5b3V0RmFjdG9yeS5jcmVhdGVDbGFzcyhcIjxkaXYgY2xhc3M9J21hcF9fem9vbS1ibG9jayB1LWpjLXNidS1mZC1jb2wnPlwiICtcbiAgICAgICAgICBcIjxkaXYgaWQ9J3pvb20taW4nIGNsYXNzPSdtYXBfX3pvb20gdS1qYy1jZSB1LWFpLWNlJz5cIiArXG4gICAgICAgICAgXCI8c3ZnIGNsYXNzPSdzdmcnIHdpZHRoPScxMnB4JyBoZWlnaHQ9JzEycHgnIHZpZXdCb3g9JzAgMCAxMiAxMicgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJz5cIiArXG4gICAgICAgICAgXCI8ZyBpZD0nR3JvdXAnID48cmVjdCBpZD0nUmVjdGFuZ2xlLTMnIHg9JzAnIHk9JzUnIHdpZHRoPScxMicgaGVpZ2h0PScyJz48L3JlY3Q+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J1JlY3RhbmdsZS0zJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2LjAwMDAwMCwgNi4wMDAwMDApIHJvdGF0ZSg5MC4wMDAwMDApIHRyYW5zbGF0ZSgtNi4wMDAwMDAsIC02LjAwMDAwMCkgJyB4PScwJyB5PSc1JyB3aWR0aD0nMTInIGhlaWdodD0nMic+PC9yZWN0PjwvZz5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj48YnI+XCIgK1xuICAgICAgICAgIFwiPGRpdiBpZD0nem9vbS1vdXQnIGNsYXNzPSdtYXBfX3pvb20gbWFwX196b29tLS1taW51cyB1LWpjLWNlIHUtYWktY2UnPlwiICtcbiAgICAgICAgICBcIjxzdmcgY2xhc3M9J3N2Zycgd2lkdGg9JzhweCcgaGVpZ2h0PScycHgnIHZpZXdCb3g9JzAgMCA4IDInIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J21hcF9fbWludXMnIHdpZHRoPSc4JyBoZWlnaHQ9JzInPjwvcmVjdD5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj5cIiwge1xuICAgICAgICAgICAgICAvLyDQn9C10YDQtdC+0L/RgNC10LTQtdC70Y/QtdC8INC80LXRgtC+0LTRiyDQvNCw0LrQtdGC0LAsINGH0YLQvtCx0Ysg0LLRi9C/0L7Qu9C90Y/RgtGMINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LUg0LTQtdC50YHRgtCy0LjRj1xuICAgICAgICAgICAgICAvLyDQv9GA0Lgg0L/QvtGB0YLRgNC+0LXQvdC40Lgg0Lgg0L7Rh9C40YHRgtC60LUg0LzQsNC60LXRgtCwLlxuICAgICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgLy8g0JLRi9C30YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBidWlsZC5cbiAgICAgICAgICAgICAgICAgIFpvb21MYXlvdXQuc3VwZXJjbGFzcy5idWlsZC5jYWxsKHRoaXMpO1xuICBcbiAgICAgICAgICAgICAgICAgIC8vINCf0YDQuNCy0Y/Qt9GL0LLQsNC10Lwg0YTRg9C90LrRhtC40Lgt0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQuiDQutC+0L3RgtC10LrRgdGC0YMg0Lgg0YHQvtGF0YDQsNC90Y/QtdC8INGB0YHRi9C70LrQuFxuICAgICAgICAgICAgICAgICAgLy8g0L3QsCDQvdC40YUsINGH0YLQvtCx0Ysg0L/QvtGC0L7QvCDQvtGC0L/QuNGB0LDRgtGM0YHRjyDQvtGCINGB0L7QsdGL0YLQuNC5LlxuICAgICAgICAgICAgICAgICAgdGhpcy56b29tSW5DYWxsYmFjayA9IHltYXBzLnV0aWwuYmluZCh0aGlzLnpvb21JbiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnpvb21PdXRDYWxsYmFjayA9IHltYXBzLnV0aWwuYmluZCh0aGlzLnpvb21PdXQsIHRoaXMpO1xuICBcbiAgICAgICAgICAgICAgICAgIC8vINCd0LDRh9C40L3QsNC10Lwg0YHQu9GD0YjQsNGC0Ywg0LrQu9C40LrQuCDQvdCwINC60L3QvtC/0LrQsNGFINC80LDQutC10YLQsC5cbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLWluJykuYmluZCgnY2xpY2snLCB0aGlzLnpvb21JbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLmJpbmQoJ2NsaWNrJywgdGhpcy56b29tT3V0Q2FsbGJhY2spO1xuICAgICAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIC8vINCh0L3QuNC80LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LrQu9C40LrQvtCyLlxuICAgICAgICAgICAgICAgICAgJCgnI3pvb20taW4nKS51bmJpbmQoJ2NsaWNrJywgdGhpcy56b29tSW5DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1vdXQnKS51bmJpbmQoJ2NsaWNrJywgdGhpcy56b29tT3V0Q2FsbGJhY2spO1xuICBcbiAgICAgICAgICAgICAgICAgIC8vINCS0YvQt9GL0LLQsNC10Lwg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQgY2xlYXIuXG4gICAgICAgICAgICAgICAgICBab29tTGF5b3V0LnN1cGVyY2xhc3MuY2xlYXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgICAgIHpvb21JbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0RGF0YSgpLmNvbnRyb2wuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgMSwge2NoZWNrWm9vbVJhbmdlOiB0cnVlfSk7XG4gICAgICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgICAgICB6b29tT3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXREYXRhKCkuY29udHJvbC5nZXRNYXAoKTtcbiAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgLSAxLCB7Y2hlY2tab29tUmFuZ2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICAvLyB2YXIgY3RybCA9IG15TWFwLmNvbnRyb2xzLmdldCgnem9vbUNvbnRyb2wnKS5vcHRpb25zLmdldCgnbGVmdCcpO1xuICAgICAgICAgIC8vIHZhciBvYmogPSBteU1hcC5jb250cm9scy5nZXQoJ3pvb21Db250cm9sJyk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobXlNYXAsICd6b29tQ29udHJvbCcsIGN0cmwsIG9iaik7XG4gIFxuICAgICAgICAgICQoIHdpbmRvdyApLm9uKCdyZXNpemUnLCBmdW5jdGlvbigpIHsgICBcbiAgICAgICAgICAvL9C+0L/RgNC10LTQtdC70Y/QtdC8INCy0LXRgNGC0LjQutCw0LvRjNC90YvQuSDRhtC10L3RgtGAINC60LDRgNGC0YtcbiAgICAgICAgICAgICAgdmFyIGNlbnRlclBvcyA9ICggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBcIikub2Zmc2V0SGVpZ2h0IC8gMiApIC0gNTA7ICAgIFxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjZW50ZXJQb3MpOyAgXG4gIFxuICAgICAgICAgICAgICAvL9C30LDQtNCw0LXQvCDRgdCy0L7QudGB0YLQstCwINC60L3QvtC/0L7QuiDQt9GD0LzQsFxuICAgICAgICAgICAgICAvLyB2YXIgem9vbUNvbnRyb2wgPSBuZXcgeW1hcHMuY29udHJvbC5ab29tQ29udHJvbCh7XG4gICAgICAgICAgICAgIC8vICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgIC8vICAgICAgICAgbGF5b3V0OiBab29tTGF5b3V0LFxuICAgICAgICAgICAgICAvLyAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGxlZnQ6IDMwLFxuICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB0b3A6IGNlbnRlclBvc1xuICAgICAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgLy8gfSk7XG4gIFxuICAgICAgICAgICAgICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3pvb21Db250cm9sJyk7XG4gICAgICAgICAgICAgIC8vINCh0L7Qt9C00LDQtNC40Lwg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40Lkg0LzQsNC60LXRgiDQv9C+0LvQt9GD0L3QutCwINC80LDRgdGI0YLQsNCx0LAuXG4gICAgICAgICAgICAgIG15TWFwLmNvbnRyb2xzLmFkZCgnem9vbUNvbnRyb2wnLCB7XG4gICAgICAgICAgICAgICAgICBsYXlvdXQ6IFpvb21MYXlvdXQsXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICczMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICB0b3A6IGNlbnRlclBvc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTsgICAgICAgIFxuICAgICAgICAgIH0pLnJlc2l6ZSgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIG15TWFwLmdlb09iamVjdHMuYWRkKHBsYWNlbWFyayk7XG4gICAgICAgICAgdmFyIGxpbmtUb09iamVjdHMgPSBjb25maWcubWFwTGlua3M7XG4gICAgICAgICAgZnVuY3Rpb24gYWRkT2JqZWN0cyhsaW5rLCBmaWx0ZXJEYXRhKSB7XG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG1hcFNlcnZlckRhdGEoc2VydmVyRGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXM6IHNlcnZlckRhdGEubWFwKGZ1bmN0aW9uKG9iaiwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQb2ludFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogW29iai5sYXQsIG9iai5sb25nXSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uQ2FwdGlvbjogb2JqLnNlcmlhbE51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWxsb29uQ29udGVudDogJzxhIHRhcmdldD1cIl9ibGFua1wiIGNsYXNzPVwiXCIgaHJlZj1cIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5saW5rICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJiYWxsb29uX19pbWFnZS1ibG9ja1wiPjxkaXYgY2xhc3M9XCJiYWxsb29uX19pbWFnZVwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTp1cmwoJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmltYWdlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj48L2Rpdj4nICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJiYWxsb29uX19pbm5lclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8cCBjbGFzcz1cImJhbGxvb25fX3ByaWNlXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnByaWNlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9wPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dWwgY2xhc3M9XCJiYWxsb29uX19saXN0XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsaSBjbGFzcz1cImJhbGxvb25fX2l0ZW0gXCI+JyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yb29tcyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGk+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsaSBjbGFzcz1cImJhbGxvb25fX2l0ZW0gXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNxdWFyZSArICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcmbmJzcDvQvDxzdXA+Mjwvc3VwPjwvbGk+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsaSBjbGFzcz1cImJhbGxvb25fX2l0ZW0gXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZsb29yICsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGk+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvdWw+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxwIGNsYXNzPVwiYmFsbG9vbl9fYWRkcmVzc1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5hZGRyZXNzICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9wPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9hPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbnM6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcHJlc2V0OiBnZXRPYmplY3RQcmVzZXQob2JqKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgIFxuICAgICAgICAgICAgICBmdW5jdGlvbiBsb2FkTGlzdCgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAobmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZpbHRlckRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBsaW5rLCAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHJlamVjdFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICAgICAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXBTZXJ2ZXJEYXRhKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgfSk7O1xuICAgICAgICAgICAgICB9XG4gICAgICBcbiAgICAgICAgICAgICAgdmFyIG9iamVjdE1hbmFnZXIgPSBuZXcgeW1hcHMuT2JqZWN0TWFuYWdlcih7XG4gICAgICAgICAgICAgICAgICBjbHVzdGVyaXplOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgZ3JpZFNpemU6IDY0LFxuICAgICAgICAgICAgICAgICAgY2x1c3Rlckljb25MYXlvdXQ6ICdkZWZhdWx0I3BpZUNoYXJ0JyxcbiAgICAgICAgICAgICAgICAgIC8vIGNsdXN0ZXJJY29uSW1hZ2VIcmVmOiAnaW1hZ2VzL21hcF9fYmFsb29uLnBuZycsXG4gICAgICAgICAgICAgICAgICBjbHVzdGVyRGlzYWJsZUNsaWNrWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgICAgIC8vIGdlb09iamVjdE9wZW5CYWxsb29uT25DbGljazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIC8vIGdlb09iamVjdEhpZGVJY29uT25CYWxsb29uT3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBvYmplY3RNYW5hZ2VyLmNsdXN0ZXJzLm9wdGlvbnMuc2V0KHtcbiAgICAgICAgICAgICAgLy8gICAgIGNsdXN0ZXJJY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgICAgICAgIC8vICAgICBjbHVzdGVySWNvbkltYWdlSHJlZjogJ2ltYWdlcy9tYXBfX2JhbG9vbi5wbmcnLFxuICAgICAgICAgICAgICAvLyAgICAgY2x1c3Rlckljb25JbWFnZVNpemU6IFs1NywgNTFdLFxuICAgICAgICAgICAgICAvLyAgICAgY2x1c3Rlckljb25JbWFnZU9mZnNldDogWy0zNywgLTUwXVxuICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGxvYWRMaXN0KCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICBvYmplY3RNYW5hZ2VyLmFkZChkYXRhKTtcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBvYmplY3RNYW5hZ2VyLm9iamVjdHMub3B0aW9ucy5zZXQoe1xuICAgICAgICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogY29uZmlnLm1hcEJhbG9vbixcbiAgICAgICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFs1NywgNTFdLFxuICAgICAgICAgICAgICAgICAgaWNvbkltYWdlT2Zmc2V0OiBbLTE4LCAtNDVdXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgXG4gICAgICAgICAgICAgIG15TWFwLmdlb09iamVjdHMuYWRkKG9iamVjdE1hbmFnZXIpO1xuICBcbiAgICAgICAgICB9OyBcbiAgICAgICAgICBhZGRPYmplY3RzKGxpbmtUb09iamVjdHMsIG51bGwpO1xuICBcbiAgICAgICAgICAkKFwiLmpzLW1hcC1maWx0ZXItZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBsaW5rVG9OZXdPYmplY3RzID0gY29uZmlnLm1hcE5ld0xpbmtzO1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7XG4gIFxuICAgICAgICAgICAgICBteU1hcC5nZW9PYmplY3RzLnJlbW92ZUFsbCgpO1xuICBcbiAgICAgICAgICAgICAgYWRkT2JqZWN0cyhsaW5rVG9OZXdPYmplY3RzLCBkYXRhKTtcbiAgXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9KVxuICAgICAgfTtcbiAgXG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW0tbWFwJykgIT09IG51bGwpIHtcbiAgICAgIHltYXBzLnJlYWR5KGluaXQpO1xuICBcbiAgICAgIHZhciBsbmcgPSAkKCcjaXRlbS1tYXAnKS5hdHRyKCdkYXRhLWxuZycpO1xuICAgICAgdmFyIGxhdCA9ICQoJyNpdGVtLW1hcCcpLmF0dHIoJ2RhdGEtbGF0Jyk7XG4gIFxuICAgICAgZnVuY3Rpb24gaW5pdCgpeyBcbiAgICAgICAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwiaXRlbS1tYXBcIiwge1xuICAgICAgICAgICAgICBjZW50ZXI6IFtsbmcsIGxhdF0sXG4gICAgICAgICAgICAgIHpvb206IDEzLFxuICAgICAgICAgICAgICBjb250cm9sczogW11cbiAgICAgICAgICB9KTsgXG4gIFxuICAgICAgICAgIHZhciBwbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFtsbmcsIGxhdF0sIHt9LCB7XG4gICAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcbiAgICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogY29uZmlnLm1hcEJhbG9vbixcbiAgICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzU3LCA1MV0sXG4gICAgICAgICAgICAgIGljb25JbWFnZU9mZnNldDogWy0zNywgLTUwXVxuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICB2YXIgWm9vbUxheW91dCA9IHltYXBzLnRlbXBsYXRlTGF5b3V0RmFjdG9yeS5jcmVhdGVDbGFzcyhcIjxkaXYgY2xhc3M9J21hcF9fem9vbS1ibG9jayB1LWpjLXNidS1mZC1jb2wnPlwiICtcbiAgICAgICAgICBcIjxkaXYgaWQ9J3pvb20taW4nIGNsYXNzPSdtYXBfX3pvb20gdS1qYy1jZSB1LWFpLWNlJz5cIiArXG4gICAgICAgICAgXCI8c3ZnIGNsYXNzPSdzdmcnIHdpZHRoPScxMnB4JyBoZWlnaHQ9JzEycHgnIHZpZXdCb3g9JzAgMCAxMiAxMicgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJz5cIiArXG4gICAgICAgICAgXCI8ZyBpZD0nR3JvdXAnID48cmVjdCBpZD0nUmVjdGFuZ2xlLTMnIHg9JzAnIHk9JzUnIHdpZHRoPScxMicgaGVpZ2h0PScyJz48L3JlY3Q+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J1JlY3RhbmdsZS0zJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2LjAwMDAwMCwgNi4wMDAwMDApIHJvdGF0ZSg5MC4wMDAwMDApIHRyYW5zbGF0ZSgtNi4wMDAwMDAsIC02LjAwMDAwMCkgJyB4PScwJyB5PSc1JyB3aWR0aD0nMTInIGhlaWdodD0nMic+PC9yZWN0PjwvZz5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj48YnI+XCIgK1xuICAgICAgICAgIFwiPGRpdiBpZD0nem9vbS1vdXQnIGNsYXNzPSdtYXBfX3pvb20gbWFwX196b29tLS1taW51cyB1LWpjLWNlIHUtYWktY2UnPlwiICtcbiAgICAgICAgICBcIjxzdmcgY2xhc3M9J3N2Zycgd2lkdGg9JzhweCcgaGVpZ2h0PScycHgnIHZpZXdCb3g9JzAgMCA4IDInIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+XCIgK1xuICAgICAgICAgIFwiPHJlY3QgaWQ9J21hcF9fbWludXMnIHdpZHRoPSc4JyBoZWlnaHQ9JzInPjwvcmVjdD5cIiArXG4gICAgICAgICAgXCI8L3N2Zz48L2Rpdj5cIiwge1xuICAgICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgWm9vbUxheW91dC5zdXBlcmNsYXNzLmJ1aWxkLmNhbGwodGhpcyk7XG4gIFxuICAgICAgICAgICAgICAgICAgdGhpcy56b29tSW5DYWxsYmFjayA9IHltYXBzLnV0aWwuYmluZCh0aGlzLnpvb21JbiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnpvb21PdXRDYWxsYmFjayA9IHltYXBzLnV0aWwuYmluZCh0aGlzLnpvb21PdXQsIHRoaXMpO1xuICBcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLWluJykuYmluZCgnY2xpY2snLCB0aGlzLnpvb21JbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLmJpbmQoJ2NsaWNrJywgdGhpcy56b29tT3V0Q2FsbGJhY2spO1xuICAgICAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLWluJykudW5iaW5kKCdjbGljaycsIHRoaXMuem9vbUluQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgJCgnI3pvb20tb3V0JykudW5iaW5kKCdjbGljaycsIHRoaXMuem9vbU91dENhbGxiYWNrKTtcbiAgXG4gICAgICAgICAgICAgICAgICBab29tTGF5b3V0LnN1cGVyY2xhc3MuY2xlYXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgICAgIHpvb21JbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0RGF0YSgpLmNvbnRyb2wuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgMSwge2NoZWNrWm9vbVJhbmdlOiB0cnVlfSk7XG4gICAgICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgICAgICB6b29tT3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXREYXRhKCkuY29udHJvbC5nZXRNYXAoKTtcbiAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgLSAxLCB7Y2hlY2tab29tUmFuZ2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICAkKCB3aW5kb3cgKS5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7ICAgXG4gICAgICAgICAgICAgIHZhciBjZW50ZXJQb3MgPSAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaXRlbS1tYXBcIikub2Zmc2V0SGVpZ2h0IC8gMiApIC0gNTA7ICAgIFxuICBcbiAgICAgICAgICAgICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCd6b29tQ29udHJvbCcpO1xuICAgICAgICAgICAgICBteU1hcC5jb250cm9scy5hZGQoJ3pvb21Db250cm9sJywge1xuICAgICAgICAgICAgICAgICAgbGF5b3V0OiBab29tTGF5b3V0LFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnMzBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgdG9wOiBjZW50ZXJQb3NcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7ICAgICAgICBcbiAgICAgICAgICB9KS5yZXNpemUoKTtcbiAgICAgICAgICBcbiAgICAgICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChwbGFjZW1hcmspO1xuICAgICAgfVxuICB9XG4gICQoJy5qcy1tb2RhbC1jbG9zZS1idG4nKS5vbignY2xpY2snLGZ1bmN0aW9uKCkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgXG4gICAgJHRoaXMuY2xvc2VzdCgnLmpzLW1vZGFsJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIH0pO1xuICAkKCcuanMtbW9kYWxfX2J0bicpLm9uKCdjbGljaycsZnVuY3Rpb24oZSkge1xuICAgIHZhciB2YWwgPSAkKCB0aGlzICkuYXR0cignZGF0YS1tb2RhbCcpO1xuICAgIFxuICAgIC8vIHZhciBzdHlsZXMgPSB7XG4gICAgLy8gICBkaXNwbGF5IDogXCJibG9ja1wiLFxuICAgIC8vICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIC8vICAgdG9wOiAtaGVhZGVIZWlnaHRcbiAgICAvLyB9O1xuICAgIFxuICAgICQoJyMnK3ZhbCkuYWRkQ2xhc3MoJ2lzT3BlbmVkJyk7XG4gIH0pO1xuICAkKCB3aW5kb3cgKS5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7ICAgXG4gICAgaWYgKCQoJy5zY3JvbGxhYmxlLWlubmVyJykgIT09IG51bGwpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgICQoJy5zY3JvbGxhYmxlLWlubmVyJykubGVuZ3RoOyBpICsrKSB7XG4gICAgICAgIHZhciBzY3JJbiA9ICQoJy5zY3JvbGxhYmxlLWlubmVyJylbaV07XG4gICAgICAgIHZhciBzY3JFbCA9ICQoc2NySW4pLmF0dHIoJ2RhdGEtaXNjcm9sbCcpO1xuICAgICAgICB2YXIgc2NyUGFyID0gJCgnLnNjcm9sbGFibGUtcGFyZW50W2RhdGEtcHNjcm9sbD1cIicgKyBzY3JFbCArICdcIl0nKVxuICAgICAgICB2YXIgc2NySGVpZ2h0ID0gc2NySW4uY2xpZW50SGVpZ2h0O1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhzY3JIZWlnaHQpO1xuICAgICAgICBzY3JQYXIuaGVpZ2h0KHNjckhlaWdodCk7XG4gICAgICB9O1xuICAgIH07XG4gIH0pLnJlc2l6ZSgpO1xuICAkKHdpbmRvdykub24oXCJzY3JvbGwgbG9hZFwiLGZ1bmN0aW9uKCl7XG4gICAgdmFyIHN0aWNrYmxvY2sgPSAkKCcuanMtaGVhZGVyJyk7XG4gIFxuICAgIGlmICggJCh3aW5kb3cpLnNjcm9sbFRvcCgpID49IDYwKSB7XG4gICAgICBzdGlja2Jsb2NrLmFkZENsYXNzKCdzdGlja2VkJyk7IFxuICAgIH0gZWxzZSB7XG4gICAgICBzdGlja2Jsb2NrLnJlbW92ZUNsYXNzKCdzdGlja2VkJyk7IFxuICAgIH07XG4gIH0pXG4gICQoJy5qcy10YWJfX2l0ZW0nKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gIFxuICAgICR0aGlzLmNsb3Nlc3QoJy50YWInKS5maW5kKCcuanMtdGFiX19pdGVtJykucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgICR0aGlzLmFkZENsYXNzKCdqcy1hY3RpdmUnKTtcbiAgXG4gICAgdmFyIHZhbCA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFiJyk7ICAgIFxuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcudGFiJykuZmluZCgnLnRhYl9fYmxvY2snKS5yZW1vdmVDbGFzcygnanMtYWN0aXZlJyk7XG4gICAgJCgnW2RhdGEtY29udGVudD1cIicrdmFsKydcIl0nKS5hZGRDbGFzcygnanMtYWN0aXZlJyk7XG4gIH0pO1xuICAkKCcuanMtbW9kYWxfX2J0bltkYXRhLW1vZGFsPVwiaGVscFwiXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgdGhlbWVzTG9hZCgpO1xuICB9KVxuICBcbiAgZnVuY3Rpb24gdGhlbWVzTG9hZCgpe1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6IGNvbmZpZy50aGVtZXNMaXN0LCAgICAgICAgICAgICBcbiAgICAgIGRhdGFUeXBlIDogXCJqc29uXCIsICBcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQoJy5zaWRlLW1vZGFsX19jb250ZW50JykuZW1wdHkoKTtcbiAgICAgICAgJCgnLnNpZGUtbW9kYWxfX2NvbnRlbnQnKS5hcHBlbmQoJzx1bCBjbGFzcz1cInNpZGUtbW9kYWxfX2xpc3Qgc2lkZS1tb2RhbF9fbGlzdC0taGVscFwiPjwvdWw+Jyk7XG4gICAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbihpLCB2YWwpIHsgXG4gICAgICAgICAgJCgnLnNpZGUtbW9kYWxfX2xpc3QtLWhlbHAnKVxuICAgICAgICAgICAgLmFwcGVuZCgnPGxpIGNsYXNzPVwic2lkZS1tb2RhbF9fdGhlbWUganMtb3Blbi1zdWJ0aGVtZVwiIGRhdGEtYXR0cj1cIicgKyBcbiAgICAgICAgICAgIGNvbmZpZy50aGVtZUxpbmsgK1xuICAgICAgICAgICAgdmFsLmlkICtcbiAgICAgICAgICAgICdcIj48YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJzaWRlLW1vZGFsX190aGVtZS1saW5rXCI+JytcbiAgICAgICAgICAgIHZhbC50aGVtZSArXG4gICAgICAgICAgICAnPC9hPjwvbGk+JylcbiAgICAgICAgfSk7XG4gICAgICB9IFxuICAgIH0pO1xuICB9XG4gICQoIFwiLmpzLXRvZ2dsZS1pdGVtXCIgKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAkKCB0aGlzICkudG9nZ2xlQ2xhc3MoIFwiaXNBY3RpdmVcIiApO1xuICB9KTtcbn0pO1xuJChkb2N1bWVudCkuYWpheENvbXBsZXRlKGZ1bmN0aW9uICgpIHtcbiAgLy93aGVuIGNsaWNraW5nL3RvZ2dsaW5nIGRyb3Bkb3duIG1lbnUgYnRuXG4gICQoJy5qcy1zZWxlY3QtYnRuJykub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICB2YXIgc3libGluZyA9ICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LWJsb2NrJykuZmluZCgnLmpzLXNlbGVjdC1ibG9jaycpO1xuICAgIGlmICggc3libGluZy5oYXNDbGFzcygnaXNPcGVuJykgKSB7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnaXNDbG9zZWQnKTtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdpc09wZW4nKTsgXG4gICAgICBzeWJsaW5nLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmpzLXNlbGVjdC1ibG9jaycpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICAgICQoJy5qcy1zZWxlY3QtYnRuJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpOyAgICBcbiAgICAgICR0aGlzLmFkZENsYXNzKCdpc09wZW4nKTtcbiAgICAgIHN5YmxpbmcuYWRkQ2xhc3MoJ2lzT3BlbicpO1xuICAgIH1cbiAgXG4gICAgdmFyICRibG9jayA9ICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LWJsb2NrJyk7XG4gICAgdmFyICRleGlzdCA9ICRibG9jay5maW5kKCcuZmlsdGVyX19lbXB0eScpO1xuICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC+0LHRj9C30LDRgtC10LvRjNC90L4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPPC9zcGFuPlwiXG4gICAgaWYgKCAhJGV4aXN0Lmxlbmd0aCApIHtcbiAgICAgIGlmICggJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgICBpZiAoICEkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS52YWwoKSApIHtcbiAgICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpLmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYmxvY2suZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gIFxuICB9KTtcbiAgXG4gIC8vd2hlbiBjbGlja2luZyBvbiBpdGVtIGluIGRyb3Bkb3duIG1lbnVcbiAgJCgnLmpzLXNlbGVjdC1pdGVtJykub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIFxuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnanMtc2VsZWN0ZWQnKTtcbiAgICB2YXIgdGV4dCA9ICR0aGlzLnRleHQoKTtcbiAgICB2YXIgdmFsdWUgPSAkdGhpcy5kYXRhKCd2YWx1ZScpO1xuICAgIHZhciBncm91cCA9ICR0aGlzLmF0dHIoJ2RhdGEtZ3JvdXAnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bltkYXRhLWdyb3VwPVwiJyArIGdyb3VwICsgJ1wiXScpLnRleHQodGV4dCk7XG4gICAgJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKS5maW5kKCcuanMtc2VsZWN0LWxhYmVsJykuYWRkQ2xhc3MoJ2Zsb2F0ZWQnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5hZGRDbGFzcygnaXNDbG9zZWQnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJsb2NrLmlzT3BlbicpLnJlbW92ZUNsYXNzKCdpc09wZW4nKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gICAgJCgnLmpzLWZpbHRlci1oaWRkZW5bZGF0YS1ncm91cD1cIicgKyBncm91cCArICdcIl0nKS52YWwodmFsdWUpOyAgIFxuICAgIFxuICAgIHZhciAkYmxvY2sgPSAkdGhpcy5jbG9zZXN0KCcuZmlsdGVyX19pbnB1dC1ibG9jaycpXG4gICAgaWYgKCAkYmxvY2suZmluZCgnLmpzLWZpbHRlci1oaWRkZW4nKS5wcm9wKCdyZXF1aXJlZCcpKSB7XG4gICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIlxuICAgICAgaWYgKCAhJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykudmFsKCkgKSB7XG4gICAgICAgICRibG9jay5maW5kKCcuZmlsdGVyX19pbnB1dC13cmFwJykuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bltkYXRhLWdyb3VwPVwiJyArIGdyb3VwICsgJ1wiXScpLmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICQoJy5qcy1zZWxlY3QtYnRuW2RhdGEtZ3JvdXA9XCInICsgZ3JvdXAgKyAnXCJdJykucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vd2hlbiBjbGlja2luZyBvdXRzaWRlIHRoZSBpdGVtIGluIGRyb3Bkb3duIG9yIGRyb3Bkb3duIGJ0biBcbiAgaWYgKCAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5sZW5ndGggPiAwICkge1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1zZWxlY3QtYmxvY2suaXNPcGVuJykubGVuZ3RoICYmICEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5sZW5ndGgpIHtcbiAgICAgICAgJCgnLmpzLXNlbGVjdC1idG4uaXNPcGVuJykuYWRkQ2xhc3MoJ2lzQ2xvc2VkJyk7XG4gICAgICAgICQoJy5qcy1zZWxlY3QtYmxvY2suaXNPcGVuJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpO1xuICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc09wZW4nKS5yZW1vdmVDbGFzcygnaXNPcGVuJyk7XG4gIFxuICAgICAgICB2YXIgJHRoaXMgPSAkKCcuanMtc2VsZWN0LWJ0bi5pc0Nsb3NlZCcpO1xuICAgICAgICB2YXIgJGJsb2NrID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtYmxvY2snKTtcbiAgICAgICAgdmFyICRleGlzdCA9ICRibG9jay5maW5kKCcuZmlsdGVyX19lbXB0eScpO1xuICAgICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIlxuICAgICAgICBpZiAoICEkZXhpc3QubGVuZ3RoICkge1xuICAgICAgICAgIGlmICggJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykucHJvcCgncmVxdWlyZWQnKSkge1xuICAgICAgICAgICAgaWYgKCAhJGJsb2NrLmZpbmQoJy5qcy1maWx0ZXItaGlkZGVuJykudmFsKCkgKSB7XG4gICAgICAgICAgICAgICRibG9jay5maW5kKCcuZmlsdGVyX19pbnB1dC13cmFwJykuYXBwZW5kKCBlbXB0eSApO1xuICAgICAgICAgICAgICAkKCcuanMtc2VsZWN0LWJ0bi5pc0Nsb3NlZCcpLmFkZENsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJGJsb2NrLmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICQoJy5qcy1zZWxlY3QtYnRuLmlzQ2xvc2VkJykucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG4gICQoJy5maWx0ZXJfX2lucHV0Jykub24oJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgICR0aGlzLmNsb3Nlc3QoJy5maWx0ZXJfX2lucHV0LXdyYXAnKS5maW5kKCcuZmlsdGVyX19mbG9hdGluZy1sYWJlbCcpLmFkZENsYXNzKCdmbG9hdGVkJyk7XG4gIH0pXG4gIFxuICAkKCcuZmlsdGVyX19pbnB1dCcpLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgIHZhciAkcGFyZW50ID0gJHRoaXMuY2xvc2VzdCgnLmZpbHRlcl9faW5wdXQtd3JhcCcpO1xuICAgIHZhciAkaW5wdXQgPSAkcGFyZW50LmZpbmQoJy5maWx0ZXJfX2lucHV0Jyk7XG4gICAgaWYgKCAhJHRoaXMudmFsKCkgKSB7XG4gICAgICB2YXIgZW1wdHkgPSBcIjxzcGFuIGNsYXNzPSdmaWx0ZXJfX2VtcHR5Jz7Qn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjzwvc3Bhbj5cIjtcbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19mbG9hdGluZy1sYWJlbCcpLnJlbW92ZUNsYXNzKCdmbG9hdGVkJyk7XG4gICAgICBpZiAoICR0aGlzLnByb3AoJ3JlcXVpcmVkJykpIHtcbiAgICAgICAgaWYgKCAhJGlucHV0Lmhhc0NsYXNzKCdmaWx0ZXJfX2RhbmdlcicpICkge1xuICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAkcGFyZW50LmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgfSAgICBcbiAgICAgIH1cbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgdmFyIG5hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpXG4gICAgICBpZiAoIG5hbWUgPT09ICduYW1lJyB8fCBuYW1lID09PSAnbmFtZV9idXknICkge1xuICAgICAgICBpZiAoICRpbnB1dC52YWwoKS5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgIGlmICggJGlucHV0Lmhhc0NsYXNzKCdmaWx0ZXJfX2RhbmdlcicpICkge1xuICAgICAgICAgICAgJGlucHV0LnJlbW92ZUNsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCf0L7Qu9C1INC00L7Qu9C20L3QviDRgdC+0LTQtdGA0LbQsNGC0Ywg0JjQvNGPINC4INCk0LDQvNC40LvQuNGOINGH0LXRgNC10Lcg0L/RgNC+0LHQtdC7PC9zcGFuPlwiO1xuICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAkcGFyZW50LmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICggbmFtZSA9PT0gJ2VtYWlsJyB8fCBuYW1lID09PSAnZW1haWxfYnV5JyApIHtcbiAgICAgICAgaWYoIHZhbGlkYXRlRW1haWwoJGlucHV0LnZhbCgpKSkge1xuICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ3ZhbGlkYXRlZCcpO1xuICAgICAgICAgIGlmICggJGlucHV0Lmhhc0NsYXNzKCdmaWx0ZXJfX2RhbmdlcicpICkge1xuICAgICAgICAgICAgJGlucHV0LnJlbW92ZUNsYXNzKCdmaWx0ZXJfX2RhbmdlcicpO1xuICAgICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIH0gICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICAkcGFyZW50LmZpbmQoJy5maWx0ZXJfX2VtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgdmFyIGVtcHR5ID0gXCI8c3BhbiBjbGFzcz0nZmlsdGVyX19lbXB0eSc+RW1haWwg0LTQvtC70LbQtdC9INGB0L7QtNC10YDQttCw0YLRjCDQu9Cw0YLQuNC90YHQutC40LUg0LHRg9C60LLRiywg0YHQuNC80LLQvtC70YsgQCDQuCAuPC9zcGFuPlwiO1xuICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAkcGFyZW50LmFwcGVuZCggZW1wdHkgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICggbmFtZSA9PT0gJ3RlbCcgfHwgbmFtZSA9PT0gJ3RlbF9idXknKSB7XG4gICAgICAgIGlmKCB2YWxpZGF0ZVBob25lKCRpbnB1dC52YWwoKSkpIHtcbiAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICBpZiAoICRpbnB1dC5oYXNDbGFzcygnZmlsdGVyX19kYW5nZXInKSApIHtcbiAgICAgICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmZpbHRlcl9fZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygndmFsaWRhdGVkJyk7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgICAgIHZhciBlbXB0eSA9IFwiPHNwYW4gY2xhc3M9J2ZpbHRlcl9fZW1wdHknPtCd0L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsCDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINC+0YIgMTAg0LTQviAxNCDRhtC40YTRgDwvc3Bhbj5cIjtcbiAgICAgICAgICAkaW5wdXQuYWRkQ2xhc3MoJ2ZpbHRlcl9fZGFuZ2VyJyk7XG4gICAgICAgICAgJHBhcmVudC5hcHBlbmQoIGVtcHR5ICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcygnZmlsdGVyX19kYW5nZXInKTtcbiAgICAgICAgJHBhcmVudC5maW5kKCcuZmlsdGVyX19lbXB0eScpLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7IFxuICBcbiAgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbCgkZW1haWwpIHtcbiAgICB2YXIgZW1haWxSZWcgPSAvXihbXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSk/JC87XG4gICAgcmV0dXJuIGVtYWlsUmVnLnRlc3QoICRlbWFpbCApO1xuICB9O1xuICBcbiAgZnVuY3Rpb24gdmFsaWRhdGVQaG9uZSgkcGhvbmUpIHtcbiAgICB2YXIgcGhvbmVSZWcgPSAvXigoOHxcXCs3KVtcXC0gXT8pPyhcXCg/XFxkezN9XFwpP1tcXC0gXT8pP1tcXGRcXC0gXXsxMCwxNH0kLztcbiAgICByZXR1cm4gcGhvbmVSZWcudGVzdCggJHBob25lICk7XG4gIH07XG4gICQoJy5qcy1vcGVuLXN1YnRoZW1lLWNvbnRlbnQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgdmFyIGxpbmsgPSAkdGhpcy5hdHRyKCdkYXRhLWF0dHInKTtcbiAgICB2YXIgdGV4dCA9ICR0aGlzLnRleHQoKTtcbiAgXG4gICAgJCgnLnNpZGUtbW9kYWxfX2JyZWFkY3J1bWJzJykuYXBwZW5kKCc8bGkgY2xhc3M9XCJicmVhZGNydW1ic19faXRlbVwiPicrXG4gICAgJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJicmVhZGNydW1ic19fbGluayBicmVhZGNydW1ic19fbGluay0tbW9kYWxcIj4nK3RleHQrJzwvYT48L2xpPicpO1xuICBcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiBjb25maWcuc3VidGhlbWVDb250ZW50ICsgbGluaywgICAgICAgICAgICAgXG4gICAgICBkYXRhVHlwZSA6IFwiaHRtbFwiLCAgICAgICAgICAgICAgICAgICAgXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAkKCcuc2lkZS1tb2RhbF9fY29udGVudCcpLmh0bWwoIGRhdGEgKTtcbiAgICAgICAgLy8gJCgnLnNpZGUtbW9kYWxfX2NvbnRlbnQnKS5hdHRyKCdkYXRhLXByZXYnLGxpbmspO1xuICAgICAgfSBcbiAgICB9KTtcbiAgfSk7XG4gICQoJy5qcy1vcGVuLXN1YnRoZW1lJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgIHZhciBsaW5rID0gJHRoaXMuYXR0cignZGF0YS1hdHRyJyk7XG4gICAgdmFyIHRleHQgPSAkdGhpcy50ZXh0KCk7XG4gICAgdmFyIGJyZWFkY3J1bWJzID0gJzx1bCBjbGFzcz1cImJyZWFkY3J1bWJzX19saXN0IHNpZGUtbW9kYWxfX2JyZWFkY3J1bWJzIHUtamMtZnNcIj4nK1xuICAgICc8bGkgY2xhc3M9XCJicmVhZGNydW1ic19faXRlbVwiPjxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cImJyZWFkY3J1bWJzX19saW5rIGpzLWJyZWFkY3J1bWJzX19saW5rLW1haW4gYnJlYWRjcnVtYnNfX2xpbmstLW1vZGFsXCI+0K7RgNC40LTQuNGH0LXRgdC60LDRjyDQv9C+0LzQvtGJ0Yw8L2E+PC9saT4nICtcbiAgICAnPC91bD4nO1xuICAgIFxuICAgICQoJy5zaWRlLW1vZGFsX19oZWFkZXItd3JhcHBlcicpLmh0bWwoYnJlYWRjcnVtYnMpO1xuICAgIFxuICAgICQoJy5zaWRlLW1vZGFsX19icmVhZGNydW1icycpLmFwcGVuZCgnPGxpIGNsYXNzPVwiYnJlYWRjcnVtYnNfX2l0ZW1cIj4nK1xuICAgICc8YSBocmVmPVwiI1wiIGNsYXNzPVwiYnJlYWRjcnVtYnNfX2xpbmsgYnJlYWRjcnVtYnNfX2xpbmstLW1vZGFsIGpzLWJyZWFkY3J1bWJzX19saW5rLXRvcGljXCIgZGF0YS1wcmV2PVwiJyArXG4gICAgbGluayArXG4gICAgJ1wiPicrdGV4dCsnPC9hPjwvbGk+Jyk7XG4gIFxuICAgICQuYWpheCh7XG4gICAgICB1cmw6IGNvbmZpZy5zdWJ0aGVtZUxpc3QgKyBsaW5rLFxuICAgICAgZGF0YVR5cGUgOiBcImpzb25cIiwgICAgICAgICAgICAgICAgICAgIFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJCgnLnNpZGUtbW9kYWxfX2NvbnRlbnQnKS5odG1sKCc8dWwgY2xhc3M9XCJzaWRlLW1vZGFsX19saXN0IHNpZGUtbW9kYWxfX2xpc3QtLWhlbHBcIj48L3VsPicpO1xuICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oaSwgdmFsKSB7IFxuICAgICAgICAgICQoJy5zaWRlLW1vZGFsX19saXN0LS1oZWxwJylcbiAgICAgICAgICAgIC5hcHBlbmQoJzxsaSBjbGFzcz1cInNpZGUtbW9kYWxfX3RoZW1lIGpzLW9wZW4tc3VidGhlbWUtY29udGVudFwiIGRhdGEtYXR0cj1cIicgK1xuICAgICAgICAgICAgICBjb25maWcuc3VidGhlbWVMaW5rICtcbiAgICAgICAgICAgICAgdmFsLmlkICtcbiAgICAgICAgICAgICAgJ1wiPjxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cInNpZGUtbW9kYWxfX3RoZW1lLWxpbmsgXCI+JytcbiAgICAgICAgICAgICAgdmFsLnRoZW1lICtcbiAgICAgICAgICAgICAgJzwvYT48L2xpPicpXG4gICAgICAgIH0pO1xuICAgICAgfSBcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBcbiAgJCgnLmpzLWJyZWFkY3J1bWJzX19saW5rLW1haW4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgIHRoZW1lc0xvYWQoKTtcbiAgfSlcbiAgZnVuY3Rpb24gdGhlbWVzTG9hZCgpe1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6IGNvbmZpZy50aGVtZXNMaXN0LCAgICAgICAgICAgICBcbiAgICAgIGRhdGFUeXBlIDogXCJqc29uXCIsICBcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQoJy5zaWRlLW1vZGFsX19jb250ZW50JykuZW1wdHkoKTtcbiAgICAgICAgJCgnLnNpZGUtbW9kYWxfX2NvbnRlbnQnKS5hcHBlbmQoJzx1bCBjbGFzcz1cInNpZGUtbW9kYWxfX2xpc3Qgc2lkZS1tb2RhbF9fbGlzdC0taGVscFwiPjwvdWw+Jyk7XG4gICAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbihpLCB2YWwpIHsgXG4gICAgICAgICAgJCgnLnNpZGUtbW9kYWxfX2xpc3QtLWhlbHAnKVxuICAgICAgICAgICAgLmFwcGVuZCgnPGxpIGNsYXNzPVwic2lkZS1tb2RhbF9fdGhlbWUganMtb3Blbi1zdWJ0aGVtZVwiIGRhdGEtYXR0cj1cIicgKyBcbiAgICAgICAgICAgIGNvbmZpZy50aGVtZUxpbmsgK1xuICAgICAgICAgICAgdmFsLmlkICtcbiAgICAgICAgICAgICdcIj48YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJzaWRlLW1vZGFsX190aGVtZS1saW5rXCI+JytcbiAgICAgICAgICAgIHZhbC50aGVtZSArXG4gICAgICAgICAgICAnPC9hPjwvbGk+JylcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBicmVhZGNydW1icyA9ICc8bGkgY2xhc3M9XCJicmVhZGNydW1ic19faXRlbVwiPjxzcGFuIGNsYXNzPVwiYnJlYWRjcnVtYnNfX2xpbmsganMtYnJlYWRjcnVtYnNfX2xpbmstbWFpbiBicmVhZGNydW1ic19fbGluay0tbW9kYWxcIj7QrtGA0LjQtNC40YfQtdGB0LrQsNGPINC/0L7QvNC+0YnRjDwvc3Bhbj48L2xpPic7ICBcbiAgICAgICAgJCgnLnNpZGUtbW9kYWxfX2JyZWFkY3J1bWJzJykuaHRtbChicmVhZGNydW1icyk7XG4gICAgICB9IFxuICAgIH0pO1xuICB9XG4gICQoJy5qcy1idG4teWVzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogY29uZmlnLmZvcm1IZWxwWWVzLCAgICAgICAgICAgICBcbiAgICAgIGRhdGFUeXBlIDogXCJodG1sXCIsICAgICAgICAgICAgICAgICAgICBcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQoJy5zdWJ0aGVtZV9fYmxvY2snKS5odG1sKCBkYXRhICk7XG4gICAgICB9IFxuICAgIH0pO1xuICB9KTtcbiAgXG4gICQoJy5qcy1idG4tbm8nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiBjb25maWcuZm9ybUhlbHBGb3JtLCAgICAgICAgICAgICBcbiAgICAgIGRhdGFUeXBlIDogXCJodG1sXCIsICAgICAgICAgICAgICAgICAgICBcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQoJy5zdWJ0aGVtZV9fYmxvY2snKS5odG1sKCBkYXRhICk7XG4gICAgICB9IFxuICAgIH0pO1xuICB9KTtcbiAgXG4gIFxuICAkKCcuanMtYnJlYWRjcnVtYnNfX2xpbmstdG9waWMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gICAgdmFyIHRleHQgPSAkdGhpcy50ZXh0KCk7XG4gICAgdmFyIHByZXZpb3VzID0gJHRoaXMuYXR0cignZGF0YS1wcmV2Jyk7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogY29uZmlnLnN1YnRoZW1lTGlzdCArIHByZXZpb3VzICsgJy5qc29uJyxcbiAgICAgIGRhdGFUeXBlIDogXCJqc29uXCIsICAgICAgICAgICAgICAgICAgICBcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQoJy5zaWRlLW1vZGFsX19jb250ZW50JykuaHRtbCgnPHVsIGNsYXNzPVwic2lkZS1tb2RhbF9fbGlzdCBzaWRlLW1vZGFsX19saXN0LS1oZWxwXCI+PC91bD4nKTtcbiAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGksIHZhbCkgeyBcbiAgICAgICAgICAkKCcuc2lkZS1tb2RhbF9fbGlzdC0taGVscCcpXG4gICAgICAgICAgICAuYXBwZW5kKCc8bGkgY2xhc3M9XCJzaWRlLW1vZGFsX190aGVtZSBqcy1vcGVuLXN1YnRoZW1lLWNvbnRlbnRcIiBkYXRhLWF0dHI9XCInICtcbiAgICAgICAgICAgICAgY29uZmlnLnN1YnRoZW1lTGluayArXG4gICAgICAgICAgICAgIHZhbC5pZCArXG4gICAgICAgICAgICAgICdcIj48YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJzaWRlLW1vZGFsX190aGVtZS1saW5rIFwiPicrXG4gICAgICAgICAgICAgIHZhbC50aGVtZSArXG4gICAgICAgICAgICAgICc8L2E+PC9saT4nKVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGJyZWFkY3J1bWJzID0gJzx1bCBjbGFzcz1cImJyZWFkY3J1bWJzX19saXN0IHNpZGUtbW9kYWxfX2JyZWFkY3J1bWJzIHUtamMtZnNcIj4nK1xuICAgICAgICAnPGxpIGNsYXNzPVwiYnJlYWRjcnVtYnNfX2l0ZW1cIj48YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJicmVhZGNydW1ic19fbGluayBqcy1icmVhZGNydW1ic19fbGluay1tYWluIGJyZWFkY3J1bWJzX19saW5rLS1tb2RhbFwiPtCu0YDQuNC00LjRh9C10YHQutCw0Y8g0L/QvtC80L7RidGMPC9hPjwvbGk+JyArXG4gICAgICAgICc8L3VsPic7XG4gICAgICAgICQoJy5zaWRlLW1vZGFsX19oZWFkZXItd3JhcHBlcicpLmh0bWwoYnJlYWRjcnVtYnMpO1xuICBcbiAgICAgICAgJCgnLnNpZGUtbW9kYWxfX2JyZWFkY3J1bWJzJykuYXBwZW5kKCc8bGkgY2xhc3M9XCJicmVhZGNydW1ic19faXRlbVwiPicrXG4gICAgICAgICc8YSBocmVmPVwiI1wiIGNsYXNzPVwiYnJlYWRjcnVtYnNfX2xpbmsgYnJlYWRjcnVtYnNfX2xpbmstLW1vZGFsIGpzLWJyZWFkY3J1bWJzX19saW5rLXRvcGljXCIgZGF0YS1wcmV2PVwiJyArXG4gICAgICAgIHByZXZpb3VzICtcbiAgICAgICAgJ1wiPicrdGV4dCsnPC9hPjwvbGk+Jyk7XG4gICAgICB9IFxuICAgIH0pO1xuICB9KVxuICAkKCcuanMtdGFiX19pdGVtJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcudGFiJykuZmluZCgnLmpzLXRhYl9faXRlbScpLnJlbW92ZUNsYXNzKCdqcy1hY3RpdmUnKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnanMtYWN0aXZlJyk7XG4gIFxuICAgIHZhciB2YWwgPSAkdGhpcy5hdHRyKCdkYXRhLXRhYicpOyAgICBcbiAgXG4gICAgJHRoaXMuY2xvc2VzdCgnLnRhYicpLmZpbmQoJy50YWJfX2Jsb2NrJykucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgICQoJ1tkYXRhLWNvbnRlbnQ9XCInK3ZhbCsnXCJdJykuYWRkQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICB9KTtcbiAgJCgnI2NvbnRhY3RzJykub2ZmKCdzdWJtaXQnKS5vbignc3VibWl0JywgZnVuY3Rpb24oZSkge1xuICAgICQoJyNjb250YWN0cy1tb2RhbCcpLmFkZENsYXNzKCdpc09wZW5lZCcpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZm9ybSA9IHRoaXM7XG4gIFxuICAgICQuYWpheCh7XG4gICAgICBkYXRhOiAkKGZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgbWV0aG9kOiBmb3JtLm1ldGhvZCxcbiAgICAgIHVybDogZm9ybS5hY3Rpb24sICAgICAgICAgICAgIFxuICAgICAgZGF0YVR5cGUgOiBcImh0bWxcIiwgICAgICAgICAgICAgICAgICAgIFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJCgnLm1vZGFsX19jb250ZW50JykuaHRtbCggZGF0YSApO1xuICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pOyBcbiAgXG4gICQoJyNoZWxwX3NpZGViYXJfZm9ybScpLm9mZignc3VibWl0Jykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAkKCcjaGVscC1tb2RhbCcpLmFkZENsYXNzKCdpc09wZW5lZCcpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZm9ybSA9IHRoaXM7XG4gIFxuICAgICQuYWpheCh7XG4gICAgICBkYXRhOiAkKGZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgbWV0aG9kOiBmb3JtLm1ldGhvZCxcbiAgICAgIHVybDogZm9ybS5hY3Rpb24sICAgICAgICAgICAgIFxuICAgICAgZGF0YVR5cGUgOiBcImh0bWxcIiwgICAgICAgICAgICAgICAgICAgIFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJCgnLm1vZGFsX19jb250ZW50JykuaHRtbCggZGF0YSApO1xuICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSkiXX0=
