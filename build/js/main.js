$(document).ready(function(){if(function(s){"use strict";s.fn.emulateTransitionEnd=function(t){var e=!1,i=this;s(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||s(i).trigger(s.support.transition.end)},t),this},s(function(){s.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),s.support.transition&&(s.event.special.bsTransitionEnd={bindType:s.support.transition.end,delegateType:s.support.transition.end,handle:function(t){if(s(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(h){"use strict";var u=function(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))};function o(n){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),i=h.extend({},u.DEFAULTS,t.data(),"object"==typeof n&&n),s="string"==typeof n?n:i.slide;e||t.data("bs.carousel",e=new u(this,i)),"number"==typeof n?e.to(n):s?e[s]():i.interval&&e.pause().cycle()})}u.VERSION="3.3.5",u.TRANSITION_DURATION=600,u.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},u.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},u.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},u.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},u.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var s=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(s)},u.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},u.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},u.prototype.next=function(){if(!this.sliding)return this.slide("next")},u.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},u.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),s=e||this.getItemForDirection(t,i),n=this.interval,a="next"==t?"left":"right",o=this;if(s.hasClass("active"))return this.sliding=!1;var r=s[0],l=h.Event("slide.bs.carousel",{relatedTarget:r,direction:a});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=h(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var d=h.Event("slid.bs.carousel",{relatedTarget:r,direction:a});return h.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(a),s.addClass(a),i.one("bsTransitionEnd",function(){s.removeClass([t,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(d)},0)}).emulateTransitionEnd(u.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),n&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=o,h.fn.carousel.Constructor=u,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this};var e=function(t){var e,i=h(this),s=h(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var n=h.extend({},s.data(),i.data()),a=i.attr("data-slide-to");a&&(n.interval=!1),o.call(s,n),a&&s.data("bs.carousel").to(a),t.preventDefault()}};h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);o.call(t,t.data())})})}(jQuery),$(".carousel-item-image .item").each(function(){for(var t=$(this),e=1;e<5;e++)(t=t.next()).length||(t=$(this).siblings(":first")),t.children(":first-child").clone().addClass("cloneditem-"+e).appendTo($(this))}),$(".carousel").carousel({interval:0}),$("#carousel-item-image").carousel({interval:0}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(o){"use strict";var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.$trigger=o('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var e,i=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return o(i)}function l(s){return this.each(function(){var t=o(this),e=t.data("bs.collapse"),i=o.extend({},r.DEFAULTS,t.data(),"object"==typeof s&&s);!e&&i.toggle&&/show|hide/.test(s)&&(i.toggle=!1),e||t.data("bs.collapse",e=new r(this,i)),"string"==typeof s&&e[s]()})}r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".collapse__tab").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var i=o.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){e&&e.length&&(l.call(e,"hide"),t||e.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var n=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!o.support.transition)return n.call(this);var a=o.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",o.proxy(n,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[s](this.$element[0][a])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=o.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!o.support.transition)return i.call(this);this.$element[e](0).one("bsTransitionEnd",o.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return o(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(o.proxy(function(t,e){var i=o(e);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=o.fn.collapse;o.fn.collapse=l,o.fn.collapse.Constructor=r,o.fn.collapse.noConflict=function(){return o.fn.collapse=t,this},o(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=o(this);e.attr("data-target")||t.preventDefault();var i=n(e),s=i.data("bs.collapse")?"toggle":e.data();l.call(i,s)})}(jQuery),$(".js-hide-filter").on("click",function(t){t.preventDefault();var e=$(this);$(".filter__input-group--add").hasClass("js-isVisible")?($(".filter__input-group--add").removeClass("js-isVisible"),e.removeClass("iSopened")):($(".filter__input-group--add").addClass("js-isVisible"),e.addClass("iSopened"))}),$(".js-select-btn").on("click",function(){$(".js-select-block").hasClass("isOpen")?$(".js-select-block").removeClass("isOpen"):$(".js-select-block").addClass("isOpen")}),$(".js-select-item").on("click",function(){var t=$(this);t.addClass("js-selected");var e=t.text(),i=t.attr("data-group");$('.js-select-btn[data-group="'+i+'"]').text(e),$(".js-select-label").addClass("floated"),$(".js-select-block").removeClass("isOpen")}),$(".item__img").click(function(){var t=$(this).attr("src");console.log(t),$(".image__container").css("background-image","url("+t+")")}),null!==document.getElementById("map")){ymaps.ready(function(){var t=new ymaps.Map("map",{center:[55.76,37.64],zoom:18,controls:[]}),e=new ymaps.Placemark([55.760584,37.63945],{},{iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[57,51],iconImageOffset:[-37,-50]}),i=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div><br><div id='zoom-out' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div>",{build:function(){i.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()-1,{checkZoomRange:!0})}}),s=new ymaps.control.ZoomControl({options:{layout:i,position:{left:30,top:465}}});t.controls.add(s),t.geoObjects.add(e)})}$("#modal-close").on("click",function(t){$(this).closest(".js-modal").removeClass("isOpened")}),$(".js-modal__btn").on("click",function(t){var e=$(this).attr("data-modal");$("#"+e).addClass("isOpened")}),$(".js-tab__item").on("click",function(t){var e=$(this);e.closest(".tab").find(".js-tab__item").removeClass("js-active"),e.addClass("js-active");var i=e.attr("data-tab");e.closest(".tab").find(".tab__block").removeClass("js-active"),$('[data-content="'+i+'"]').addClass("js-active")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJmbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiZHVyYXRpb24iLCJjYWxsZWQiLCIkZWwiLCJ0aGlzIiwib25lIiwic2V0VGltZW91dCIsInRyaWdnZXIiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsImVuZCIsImVsIiwiY3JlYXRlRWxlbWVudCIsInRyYW5zRW5kRXZlbnROYW1lcyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJuYW1lIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ0cmFuc2l0aW9uRW5kIiwiZXZlbnQiLCJzcGVjaWFsIiwiYnNUcmFuc2l0aW9uRW5kIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJlIiwidGFyZ2V0IiwiaXMiLCJoYW5kbGVPYmoiLCJoYW5kbGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJqUXVlcnkiLCJDYXJvdXNlbCIsImVsZW1lbnQiLCJvcHRpb25zIiwiJGVsZW1lbnQiLCIkaW5kaWNhdG9ycyIsImZpbmQiLCJwYXVzZWQiLCJzbGlkaW5nIiwiaW50ZXJ2YWwiLCIkYWN0aXZlIiwiJGl0ZW1zIiwia2V5Ym9hcmQiLCJvbiIsInByb3h5Iiwia2V5ZG93biIsInBhdXNlIiwiZG9jdW1lbnRFbGVtZW50IiwiY3ljbGUiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwiZXh0ZW5kIiwiREVGQVVMVFMiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiVkVSU0lPTiIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJ3cmFwIiwicHJvdG90eXBlIiwidGVzdCIsInRhZ05hbWUiLCJ3aGljaCIsInByZXYiLCJuZXh0IiwicHJldmVudERlZmF1bHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJpdGVtIiwicGFyZW50IiwiY2hpbGRyZW4iLCJpbmRleCIsImdldEl0ZW1Gb3JEaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJhY3RpdmUiLCJhY3RpdmVJbmRleCIsImxlbmd0aCIsIml0ZW1JbmRleCIsImVxIiwicG9zIiwidGhhdCIsInR5cGUiLCIkbmV4dCIsImlzQ3ljbGluZyIsImhhc0NsYXNzIiwicmVsYXRlZFRhcmdldCIsInNsaWRlRXZlbnQiLCJFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsInJlbW92ZUNsYXNzIiwiJG5leHRJbmRpY2F0b3IiLCJhZGRDbGFzcyIsInNsaWRFdmVudCIsIm9mZnNldFdpZHRoIiwiam9pbiIsIm9sZCIsImNhcm91c2VsIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiY2xpY2tIYW5kbGVyIiwiaHJlZiIsIiR0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsInNsaWRlSW5kZXgiLCJjYWxsIiwid2luZG93IiwiJGNhcm91c2VsIiwiaXRlbVRvQ2xvbmUiLCJpIiwic2libGluZ3MiLCJjbG9uZSIsImFwcGVuZFRvIiwiRXJyb3IiLCJ2ZXJzaW9uIiwianF1ZXJ5Iiwic3BsaXQiLCJDb2xsYXBzZSIsIiR0cmlnZ2VyIiwiaWQiLCJ0cmFuc2l0aW9uaW5nIiwiJHBhcmVudCIsImdldFBhcmVudCIsImFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyIsInRvZ2dsZSIsImdldFRhcmdldEZyb21UcmlnZ2VyIiwiZGltZW5zaW9uIiwic2hvdyIsImFjdGl2ZXNEYXRhIiwiYWN0aXZlcyIsInN0YXJ0RXZlbnQiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiaXNPcGVuIiwidG9nZ2xlQ2xhc3MiLCJjb2xsYXBzZSIsInRleHQiLCJncm91cCIsImNsaWNrIiwiaW1nU3JjIiwiY29uc29sZSIsImxvZyIsImNzcyIsImdldEVsZW1lbnRCeUlkIiwieW1hcHMiLCJteU1hcCIsIk1hcCIsImNlbnRlciIsInpvb20iLCJjb250cm9scyIsInBsYWNlbWFyayIsIlBsYWNlbWFyayIsImljb25MYXlvdXQiLCJpY29uSW1hZ2VIcmVmIiwiaWNvbkltYWdlU2l6ZSIsImljb25JbWFnZU9mZnNldCIsIlpvb21MYXlvdXQiLCJ0ZW1wbGF0ZUxheW91dEZhY3RvcnkiLCJjcmVhdGVDbGFzcyIsImJ1aWxkIiwic3VwZXJjbGFzcyIsInpvb21JbkNhbGxiYWNrIiwidXRpbCIsImJpbmQiLCJ6b29tSW4iLCJ6b29tT3V0Q2FsbGJhY2siLCJ6b29tT3V0IiwiY2xlYXIiLCJ1bmJpbmQiLCJtYXAiLCJnZXREYXRhIiwiY29udHJvbCIsImdldE1hcCIsInNldFpvb20iLCJnZXRab29tIiwiY2hlY2tab29tUmFuZ2UiLCJ6b29tQ29udHJvbCIsIlpvb21Db250cm9sIiwibGF5b3V0IiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwiYWRkIiwiZ2VvT2JqZWN0cyIsImNsb3Nlc3QiLCJ2YWwiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBZ1ZoQixHQXRVQyxTQUFVRixHQUNULGFBeUJBQSxFQUFFRyxHQUFHQyxxQkFBdUIsU0FBVUMsR0FDcEMsSUFBSUMsR0FBUyxFQUNUQyxFQUFNQyxLQUNWUixFQUFFUSxNQUFNQyxJQUFJLGtCQUFtQixXQUFjSCxHQUFTLElBR3RELE9BREFJLFdBRGUsV0FBbUJKLEdBQVFOLEVBQUVPLEdBQUtJLFFBQVFYLEVBQUVZLFFBQVFDLFdBQVdDLE1BQ3pEVCxHQUNkRyxNQUdUUixFQUFFLFdBQ0FBLEVBQUVZLFFBQVFDLFdBOUJaLFdBQ0UsSUFBSUUsRUFBS2QsU0FBU2UsY0FBYyxhQUU1QkMsRUFBcUIsQ0FDdkJDLGlCQUFtQixzQkFDbkJDLGNBQW1CLGdCQUNuQkMsWUFBbUIsZ0NBQ25CUCxXQUFtQixpQkFHckIsSUFBSyxJQUFJUSxLQUFRSixFQUNmLFFBQXVCSyxJQUFuQlAsRUFBR1EsTUFBTUYsR0FDWCxNQUFPLENBQUVQLElBQUtHLEVBQW1CSSxJQUlyQyxPQUFPLEVBY2dCRyxHQUVsQnhCLEVBQUVZLFFBQVFDLGFBRWZiLEVB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RzdCckssRUFBRSxnQkFBZ0JtRCxHQUFHLFFBQVEsU0FBU3BCLEdBQ3hCL0IsRUFBR1EsTUFFVCtMLFFBQVEsYUFBYWxHLFlBQVksY0FFekNyRyxFQUFFLGtCQUFrQm1ELEdBQUcsUUFBUSxTQUFTcEIsR0FDdEMsSUFBSXlLLEVBQU14TSxFQUFHUSxNQUFPMEcsS0FBSyxjQVF6QmxILEVBQUUsSUFBSXdNLEdBQUtqRyxTQUFTLGNBRXRCdkcsRUFBRSxpQkFBaUJtRCxHQUFHLFFBQVEsU0FBU3BCLEdBQ3JDLElBQUk2QixFQUFRNUQsRUFBR1EsTUFFZm9ELEVBQU0ySSxRQUFRLFFBQVEzSixLQUFLLGlCQUFpQnlELFlBQVksYUFDeER6QyxFQUFNMkMsU0FBUyxhQUVmLElBQUlpRyxFQUFNNUksRUFBTXNELEtBQUssWUFFckJ0RCxFQUFNMkksUUFBUSxRQUFRM0osS0FBSyxlQUFleUQsWUFBWSxhQUN0RHJHLEVBQUUsa0JBQWtCd00sRUFBSSxNQUFNakcsU0FBUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQm9vdHN0cmFwOiB0cmFuc2l0aW9uLmpzIHYzLjMuNVxuICAgKiBodHRwczovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdHJhbnNpdGlvbnNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgXG4gIFxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICAgIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwczovL3d3dy5tb2Rlcm5penIuY29tLylcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZCgpIHtcbiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG4gIFxuICAgICAgdmFyIHRyYW5zRW5kRXZlbnROYW1lcyA9IHtcbiAgICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgICAgTW96VHJhbnNpdGlvbiAgICA6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgT1RyYW5zaXRpb24gICAgICA6ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXG4gICAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICAgIH1cbiAgXG4gICAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiB7IGVuZDogdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdIH1cbiAgICAgICAgfVxuICAgICAgfVxuICBcbiAgICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgICB9XG4gIFxuICAgIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAgICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICAgIHZhciBjYWxsZWQgPSBmYWxzZVxuICAgICAgdmFyICRlbCA9IHRoaXNcbiAgICAgICQodGhpcykub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWUgfSlcbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsgaWYgKCFjYWxsZWQpICQoJGVsKS50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCkgfVxuICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gICAgJChmdW5jdGlvbiAoKSB7XG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25FbmQoKVxuICBcbiAgICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVyblxuICBcbiAgICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICAgIGJpbmRUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICAgIGRlbGVnYXRlVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoaXMpKSByZXR1cm4gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICBcbiAgfShqUXVlcnkpO1xuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIEJvb3RzdHJhcDogY2Fyb3VzZWwuanMgdjMuMy41XG4gICAqIGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjYXJvdXNlbFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICBcbiAgXG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgXG4gICAgLy8gQ0FST1VTRUwgQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpXG4gICAgICB0aGlzLiRpbmRpY2F0b3JzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuY2Fyb3VzZWwtaW5kaWNhdG9ycycpXG4gICAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgICAgdGhpcy5wYXVzZWQgICAgICA9IG51bGxcbiAgICAgIHRoaXMuc2xpZGluZyAgICAgPSBudWxsXG4gICAgICB0aGlzLmludGVydmFsICAgID0gbnVsbFxuICAgICAgdGhpcy4kYWN0aXZlICAgICA9IG51bGxcbiAgICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG4gIFxuICAgICAgdGhpcy5vcHRpb25zLmtleWJvYXJkICYmIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMua2V5ZG93biwgdGhpcykpXG4gIFxuICAgICAgdGhpcy5vcHRpb25zLnBhdXNlID09ICdob3ZlcicgJiYgISgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpICYmIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uKCdtb3VzZWVudGVyLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLnBhdXNlLCB0aGlzKSlcbiAgICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLlZFUlNJT04gID0gJzMuMy41J1xuICBcbiAgICBDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gNjAwXG4gIFxuICAgIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgICBwYXVzZTogJ2hvdmVyJyxcbiAgICAgIHdyYXA6IHRydWUsXG4gICAgICBrZXlib2FyZDogdHJ1ZVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHJldHVyblxuICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgICBjYXNlIDM5OiB0aGlzLm5leHQoKTsgYnJlYWtcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuXG4gICAgICB9XG4gIFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuY3ljbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcbiAgXG4gICAgICB0aGlzLmludGVydmFsICYmIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcbiAgXG4gICAgICB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICAgICAgJiYgIXRoaXMucGF1c2VkXG4gICAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuICBcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW0gfHwgdGhpcy4kYWN0aXZlKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb24gPSBmdW5jdGlvbiAoZGlyZWN0aW9uLCBhY3RpdmUpIHtcbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KGFjdGl2ZSlcbiAgICAgIHZhciB3aWxsV3JhcCA9IChkaXJlY3Rpb24gPT0gJ3ByZXYnICYmIGFjdGl2ZUluZGV4ID09PSAwKVxuICAgICAgICAgICAgICAgICAgfHwgKGRpcmVjdGlvbiA9PSAnbmV4dCcgJiYgYWN0aXZlSW5kZXggPT0gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpKVxuICAgICAgaWYgKHdpbGxXcmFwICYmICF0aGlzLm9wdGlvbnMud3JhcCkgcmV0dXJuIGFjdGl2ZVxuICAgICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uID09ICdwcmV2JyA/IC0xIDogMVxuICAgICAgdmFyIGl0ZW1JbmRleCA9IChhY3RpdmVJbmRleCArIGRlbHRhKSAlIHRoaXMuJGl0ZW1zLmxlbmd0aFxuICAgICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmVxKGl0ZW1JbmRleClcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgIHZhciB0aGF0ICAgICAgICA9IHRoaXNcbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJykpXG4gIFxuICAgICAgaWYgKHBvcyA+ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSB8fCBwb3MgPCAwKSByZXR1cm5cbiAgXG4gICAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgICBpZiAoYWN0aXZlSW5kZXggPT0gcG9zKSByZXR1cm4gdGhpcy5wYXVzZSgpLmN5Y2xlKClcbiAgXG4gICAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgdGhpcy4kaXRlbXMuZXEocG9zKSlcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IHRydWUpXG4gIFxuICAgICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpXG4gICAgICAgIHRoaXMuY3ljbGUodHJ1ZSlcbiAgICAgIH1cbiAgXG4gICAgICB0aGlzLmludGVydmFsID0gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuICBcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICAgIHJldHVybiB0aGlzLnNsaWRlKCdwcmV2JylcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5zbGlkZSA9IGZ1bmN0aW9uICh0eXBlLCBuZXh0KSB7XG4gICAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgICAgdmFyICRuZXh0ICAgICA9IG5leHQgfHwgdGhpcy5nZXRJdGVtRm9yRGlyZWN0aW9uKHR5cGUsICRhY3RpdmUpXG4gICAgICB2YXIgaXNDeWNsaW5nID0gdGhpcy5pbnRlcnZhbFxuICAgICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgICAgdmFyIHRoYXQgICAgICA9IHRoaXNcbiAgXG4gICAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuICBcbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gJG5leHRbMF1cbiAgICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsXG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICB9KVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRlRXZlbnQpXG4gICAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG4gIFxuICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZVxuICBcbiAgICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcbiAgXG4gICAgICBpZiAodGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIHZhciAkbmV4dEluZGljYXRvciA9ICQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KCRuZXh0KV0pXG4gICAgICAgICRuZXh0SW5kaWNhdG9yICYmICRuZXh0SW5kaWNhdG9yLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuICBcbiAgICAgIHZhciBzbGlkRXZlbnQgPSAkLkV2ZW50KCdzbGlkLmJzLmNhcm91c2VsJywgeyByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LCBkaXJlY3Rpb246IGRpcmVjdGlvbiB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgICAkbmV4dC5hZGRDbGFzcyh0eXBlKVxuICAgICAgICAkbmV4dFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAgICRuZXh0LmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICAgJGFjdGl2ZVxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRuZXh0LnJlbW92ZUNsYXNzKFt0eXBlLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKFsnYWN0aXZlJywgZGlyZWN0aW9uXS5qb2luKCcgJykpXG4gICAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgICAgICAgICB9LCAwKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAkbmV4dC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2VcbiAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgIH1cbiAgXG4gICAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG4gIFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENhcm91c2VsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuICAgICAgICB2YXIgYWN0aW9uICA9IHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycgPyBvcHRpb24gOiBvcHRpb25zLnNsaWRlXG4gIFxuICAgICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJywgKGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnbnVtYmVyJykgZGF0YS50byhvcHRpb24pXG4gICAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5pbnRlcnZhbCkgZGF0YS5wYXVzZSgpLmN5Y2xlKClcbiAgICAgIH0pXG4gICAgfVxuICBcbiAgICB2YXIgb2xkID0gJC5mbi5jYXJvdXNlbFxuICBcbiAgICAkLmZuLmNhcm91c2VsICAgICAgICAgICAgID0gUGx1Z2luXG4gICAgJC5mbi5jYXJvdXNlbC5Db25zdHJ1Y3RvciA9IENhcm91c2VsXG4gIFxuICBcbiAgICAvLyBDQVJPVVNFTCBOTyBDT05GTElDVFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgICQuZm4uY2Fyb3VzZWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgXG4gICAgLy8gQ0FST1VTRUwgREFUQS1BUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuICBcbiAgICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBocmVmXG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdjYXJvdXNlbCcpKSByZXR1cm5cbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgICB2YXIgc2xpZGVJbmRleCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2xpZGUtdG8nKVxuICAgICAgaWYgKHNsaWRlSW5kZXgpIG9wdGlvbnMuaW50ZXJ2YWwgPSBmYWxzZVxuICBcbiAgICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbnMpXG4gIFxuICAgICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICAgJHRhcmdldC5kYXRhKCdicy5jYXJvdXNlbCcpLnRvKHNsaWRlSW5kZXgpXG4gICAgICB9XG4gIFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuICBcbiAgICAkKGRvY3VtZW50KVxuICAgICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0nLCBjbGlja0hhbmRsZXIpXG4gICAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlLXRvXScsIGNsaWNrSGFuZGxlcilcbiAgXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgJCgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICAgIFBsdWdpbi5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSlcbiAgICAgIH0pXG4gICAgfSlcbiAgXG4gIH0oalF1ZXJ5KTtcbiAgXG4gICtmdW5jdGlvbigpe1xuICAgICQoJy5jYXJvdXNlbC1pdGVtLWltYWdlIC5pdGVtJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgdmFyIGl0ZW1Ub0Nsb25lID0gJCh0aGlzKTtcbiAgXG4gICAgICBmb3IgKHZhciBpPTE7aTw1O2krKykge1xuICAgICAgICBpdGVtVG9DbG9uZSA9IGl0ZW1Ub0Nsb25lLm5leHQoKTtcbiAgXG4gICAgICAgIC8vIHdyYXAgYXJvdW5kIGlmIGF0IGVuZCBvZiBpdGVtIGNvbGxlY3Rpb25cbiAgICAgICAgaWYgKCFpdGVtVG9DbG9uZS5sZW5ndGgpIHtcbiAgICAgICAgICBpdGVtVG9DbG9uZSA9ICQodGhpcykuc2libGluZ3MoJzpmaXJzdCcpO1xuICAgICAgICB9XG4gIFxuICAgICAgICAvLyBncmFiIGl0ZW0sIGNsb25lLCBhZGQgbWFya2VyIGNsYXNzLCBhZGQgdG8gY29sbGVjdGlvblxuICAgICAgICBpdGVtVG9DbG9uZS5jaGlsZHJlbignOmZpcnN0LWNoaWxkJykuY2xvbmUoKVxuICAgICAgICAgIC5hZGRDbGFzcyhcImNsb25lZGl0ZW0tXCIrKGkpKVxuICAgICAgICAgIC5hcHBlbmRUbygkKHRoaXMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSgpO1xuICBcbiAgJCgnLmNhcm91c2VsJykuY2Fyb3VzZWwoe1xuICBcdGludGVydmFsOiAwIC8vdGVtcFxuICB9KTtcbiAgXG4gICQoJyNjYXJvdXNlbC1pdGVtLWltYWdlJykuY2Fyb3VzZWwoeyBcbiAgICBpbnRlcnZhbDogMCAvL3RlbXBcbiAgfSk7XG4gIC8qIVxuICAgKiBCb290c3RyYXAgdjMuMy43IChodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbSlcbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxOCBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqL1xuICBcbiAgLyohXG4gICAqIEdlbmVyYXRlZCB1c2luZyB0aGUgQm9vdHN0cmFwIEN1c3RvbWl6ZXIgKDxub25lPilcbiAgICogQ29uZmlnIHNhdmVkIHRvIGNvbmZpZy5qc29uIGFuZCA8bm9uZT5cbiAgICovXG4gIGlmICh0eXBlb2YgalF1ZXJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeScpXG4gIH1cbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB2ZXJzaW9uID0gJC5mbi5qcXVlcnkuc3BsaXQoJyAnKVswXS5zcGxpdCgnLicpXG4gICAgaWYgKCh2ZXJzaW9uWzBdIDwgMiAmJiB2ZXJzaW9uWzFdIDwgOSkgfHwgKHZlcnNpb25bMF0gPT0gMSAmJiB2ZXJzaW9uWzFdID09IDkgJiYgdmVyc2lvblsyXSA8IDEpIHx8ICh2ZXJzaW9uWzBdID4gMykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciwgYnV0IGxvd2VyIHRoYW4gdmVyc2lvbiA0JylcbiAgICB9XG4gIH0oalF1ZXJ5KTtcbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBCb290c3RyYXA6IGNvbGxhcHNlLmpzIHYzLjMuN1xuICAgKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICBcbiAgLyoganNoaW50IGxhdGVkZWY6IGZhbHNlICovXG4gIFxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICAgIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQgICAgICA9ICQoZWxlbWVudClcbiAgICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICAgIHRoaXMuJHRyaWdnZXIgICAgICA9ICQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2hyZWY9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS10YXJnZXQ9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcbiAgXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuICAgICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LCB0aGlzLiR0cmlnZ2VyKVxuICAgICAgfVxuICBcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlKSB0aGlzLnRvZ2dsZSgpXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5WRVJTSU9OICA9ICczLjMuNydcbiAgXG4gICAgQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTiA9IDM1MFxuICBcbiAgICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICAgIHRvZ2dsZTogdHJ1ZVxuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICAgIH1cbiAgXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuICBcbiAgICAgIHZhciBhY3RpdmVzRGF0YVxuICAgICAgdmFyIGFjdGl2ZXMgPSB0aGlzLiRwYXJlbnQgJiYgdGhpcy4kcGFyZW50LmNoaWxkcmVuKCcuY29sbGFwc2VfX3RhYicpLmNoaWxkcmVuKCcuaW4sIC5jb2xsYXBzaW5nJylcbiAgXG4gICAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICBhY3RpdmVzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgICBpZiAoYWN0aXZlc0RhdGEgJiYgYWN0aXZlc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgICB9XG4gIFxuICAgICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuICBcbiAgICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgICAgYWN0aXZlc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgICB9XG4gIFxuICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcbiAgXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgXG4gICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuICBcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcbiAgXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgICAgfVxuICBcbiAgICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG4gIFxuICAgICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbMF1bc2Nyb2xsU2l6ZV0pXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuICBcbiAgICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy5jb2xsYXBzZScpXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgXG4gICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0XG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlIGluJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgXG4gICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG4gIFxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuY29sbGFwc2UnKVxuICAgICAgfVxuICBcbiAgICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICBbZGltZW5zaW9uXSgwKVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpID8gJ2hpZGUnIDogJ3Nob3cnXSgpXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuZ2V0UGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICQodGhpcy5vcHRpb25zLnBhcmVudClcbiAgICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHRoaXMub3B0aW9ucy5wYXJlbnQgKyAnXCJdJylcbiAgICAgICAgLmVhY2goJC5wcm94eShmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudClcbiAgICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhnZXRUYXJnZXRGcm9tVHJpZ2dlcigkZWxlbWVudCksICRlbGVtZW50KVxuICAgICAgICB9LCB0aGlzKSlcbiAgICAgICAgLmVuZCgpXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gKCRlbGVtZW50LCAkdHJpZ2dlcikge1xuICAgICAgdmFyIGlzT3BlbiA9ICRlbGVtZW50Lmhhc0NsYXNzKCdpbicpXG4gIFxuICAgICAgJGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgICAgICR0cmlnZ2VyXG4gICAgICAgIC50b2dnbGVDbGFzcygnY29sbGFwc2VkJywgIWlzT3BlbilcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gICAgfVxuICBcbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdHJpZ2dlcikge1xuICAgICAgdmFyIGhyZWZcbiAgICAgIHZhciB0YXJnZXQgPSAkdHJpZ2dlci5hdHRyKCdkYXRhLXRhcmdldCcpXG4gICAgICAgIHx8IChocmVmID0gJHRyaWdnZXIuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gIFxuICAgICAgcmV0dXJuICQodGFyZ2V0KVxuICAgIH1cbiAgXG4gIFxuICAgIC8vIENPTExBUFNFIFBMVUdJTiBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gIFxuICAgICAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy50b2dnbGUgJiYgL3Nob3d8aGlkZS8udGVzdChvcHRpb24pKSBvcHRpb25zLnRvZ2dsZSA9IGZhbHNlXG4gICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgICAgfSlcbiAgICB9XG4gIFxuICAgIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG4gIFxuICAgICQuZm4uY29sbGFwc2UgICAgICAgICAgICAgPSBQbHVnaW5cbiAgICAkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yID0gQ29sbGFwc2VcbiAgXG4gIFxuICAgIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09XG4gIFxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgXG4gICAgICBpZiAoISR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykpIGUucHJldmVudERlZmF1bHQoKVxuICBcbiAgICAgIHZhciAkdGFyZ2V0ID0gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcbiAgXG4gICAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24pXG4gICAgfSlcbiAgXG4gIH0oalF1ZXJ5KTtcbiAgJCgnLmpzLWhpZGUtZmlsdGVyJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICBpZiAoICQoJy5maWx0ZXJfX2lucHV0LWdyb3VwLS1hZGQnKS5oYXNDbGFzcygnanMtaXNWaXNpYmxlJykgKSB7XG4gICAgICAkKCcuZmlsdGVyX19pbnB1dC1ncm91cC0tYWRkJykucmVtb3ZlQ2xhc3MoJ2pzLWlzVmlzaWJsZScpO1xuICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2lTb3BlbmVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5maWx0ZXJfX2lucHV0LWdyb3VwLS1hZGQnKS5hZGRDbGFzcygnanMtaXNWaXNpYmxlJyk7ICAgICAgXG4gICAgICAkdGhpcy5hZGRDbGFzcygnaVNvcGVuZWQnKTtcbiAgICB9XG4gIH0pO1xuICAkKCcuanMtc2VsZWN0LWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGlmICgkKCcuanMtc2VsZWN0LWJsb2NrJykuaGFzQ2xhc3MoJ2lzT3BlbicpKSB7XG4gICAgICAkKCcuanMtc2VsZWN0LWJsb2NrJykucmVtb3ZlQ2xhc3MoJ2lzT3BlbicpXG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5qcy1zZWxlY3QtYmxvY2snKS5hZGRDbGFzcygnaXNPcGVuJyk7XG4gICAgfVxuICB9KTtcbiAgXG4gICQoJy5qcy1zZWxlY3QtaXRlbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnanMtc2VsZWN0ZWQnKTtcbiAgICB2YXIgdGV4dCA9ICR0aGlzLnRleHQoKTtcbiAgICB2YXIgZ3JvdXAgPSAkdGhpcy5hdHRyKCdkYXRhLWdyb3VwJyk7XG4gICAgJCgnLmpzLXNlbGVjdC1idG5bZGF0YS1ncm91cD1cIicgKyBncm91cCArICdcIl0nKS50ZXh0KHRleHQpO1xuICAgICQoJy5qcy1zZWxlY3QtbGFiZWwnKS5hZGRDbGFzcygnZmxvYXRlZCcpO1xuICAgICQoJy5qcy1zZWxlY3QtYmxvY2snKS5yZW1vdmVDbGFzcygnaXNPcGVuJylcbiAgfSlcbiAgJCgnLml0ZW1fX2ltZycpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGltZ1NyYyA9ICQoIHRoaXMgKS5hdHRyKCdzcmMnKTtcbiAgXG4gICAgY29uc29sZS5sb2coIGltZ1NyYyApO1xuICAgIFxuICAgICQoJy5pbWFnZV9fY29udGFpbmVyJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybCgnICsgaW1nU3JjICsgJyknICk7XG4gIH0pO1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpICE9PSBudWxsKSB7XG4gIC8vICAgZnVuY3Rpb24gbWFwU2l6ZSgpe1xuICAvLyAgICAgdmFyIG1hcFBvcyA9ICQoJyNtYXAnKS5vZmZzZXQoKS50b3A7XG4gIC8vICAgICB2YXIgd2luSGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuICAvLyAgICAgdmFyIG1hcEhlaWdodCA9IHdpbkhlaWdodCAtIG1hcFBvcztcbiAgLy8gICAgIC8vIGNvbnNvbGUubG9nKHdpbkhlaWdodCk7XG4gIC8vICAgICAkKCcjbWFwJykuY3NzKCdoZWlnaHQnLCBtYXBIZWlnaHQpO1xuICAvLyAgIH07XG4gIFxuICAvLyAgIG1hcFNpemUoKTtcbiAgXG4gIC8vICAgJCggd2luZG93ICkucmVzaXplKGZ1bmN0aW9uKCkge1xuICAvLyAgICAgbWFwU2l6ZSgpO1xuICAvLyAgIH0pO1xuICBcbiAgICAgIC8vINCk0YPQvdC60YbQuNGPIHltYXBzLnJlYWR5KCkg0LHRg9C00LXRgiDQstGL0LfQstCw0L3QsCwg0LrQvtCz0LTQsFxuICAgICAgLy8g0LfQsNCz0YDRg9C30Y/RgtGB0Y8g0LLRgdC1INC60L7QvNC/0L7QvdC10L3RgtGLIEFQSSwg0LAg0YLQsNC60LbQtSDQutC+0LPQtNCwINCx0YPQtNC10YIg0LPQvtGC0L7QstC+IERPTS3QtNC10YDQtdCy0L4uXG4gICAgICB5bWFwcy5yZWFkeShpbml0KTtcbiAgXG4gICAgICBmdW5jdGlvbiBpbml0KCl7IFxuICAgICAgICAgIC8vINCh0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLRiy4gICAgXG4gICAgICAgICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcIm1hcFwiLCB7XG4gICAgICAgICAgICAgIC8vINCa0L7QvtGA0LTQuNC90LDRgtGLINGG0LXQvdGC0YDQsCDQutCw0YDRgtGLLlxuICAgICAgICAgICAgICAvLyDQn9C+0YDRj9C00L7QuiDQv9C+INGD0LzQvtC70YfQvdC40Y46IMKr0YjQuNGA0L7RgtCwLCDQtNC+0LvQs9C+0YLQsMK7LlxuICAgICAgICAgICAgICAvLyDQp9GC0L7QsdGLINC90LUg0L7Qv9GA0LXQtNC10LvRj9GC0Ywg0LrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC90YLRgNCwINC60LDRgNGC0Ysg0LLRgNGD0YfQvdGD0Y4sXG4gICAgICAgICAgICAgIC8vINCy0L7RgdC/0L7Qu9GM0LfRg9C50YLQtdGB0Ywg0LjQvdGB0YLRgNGD0LzQtdC90YLQvtC8INCe0L/RgNC10LTQtdC70LXQvdC40LUg0LrQvtC+0YDQtNC40L3QsNGCLlxuICAgICAgICAgICAgICBjZW50ZXI6IFs1NS43NiwgMzcuNjRdLFxuICAgICAgICAgICAgICAvLyDQo9GA0L7QstC10L3RjCDQvNCw0YHRiNGC0LDQsdC40YDQvtCy0LDQvdC40Y8uINCU0L7Qv9GD0YHRgtC40LzRi9C1INC30L3QsNGH0LXQvdC40Y86XG4gICAgICAgICAgICAgIC8vINC+0YIgMCAo0LLQtdGB0Ywg0LzQuNGAKSDQtNC+IDE5LlxuICAgICAgICAgICAgICB6b29tOiAxOCxcbiAgICAgICAgICAgICAgY29udHJvbHM6IFtdXG4gICAgICAgICAgfSksIFxuICBcbiAgICAgICAgICAvLyDQnNC10YLQutCwLCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQsdCw0LvRg9C90LAg0LrQvtGC0L7RgNC+0Lkg0LfQsNCz0YDRg9C20LDQtdGC0YHRjyDRgSDQv9C+0LzQvtGJ0YzRjiBBSkFYLlxuICAgICAgICAgIHBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzU1Ljc2MDU4NCwgMzcuNjM5NDUwXSwge30sIHtcbiAgICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnaW1hZ2VzL21hcF9fYmFsb29uLnBuZycsXG4gICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFs1NywgNTFdLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMzcsIC01MF1cbiAgICAgICAgICB9KSxcbiAgXG4gICAgICAgICAgLy8g0KHQvtC30LTQsNC00LjQvCDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60LjQuSDQvNCw0LrQtdGCINC/0L7Qu9C30YPQvdC60LAg0LzQsNGB0YjRgtCw0LHQsC5cbiAgICAgICAgICBab29tTGF5b3V0ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKFwiPGRpdiBjbGFzcz0nbWFwX196b29tLWJsb2NrIHUtamMtc2J1LWZkLWNvbCc+XCIgK1xuICAgICAgICAgIFwiPGRpdiBpZD0nem9vbS1pbicgY2xhc3M9J21hcF9fem9vbSBtYXBfX3pvb20tLW1pbnVzIHUtamMtY2UgdS1haS1jZSc+XCIgK1xuICAgICAgICAgIFwiPHN2ZyBjbGFzcz0nc3ZnJyB3aWR0aD0nOHB4JyBoZWlnaHQ9JzJweCcgdmlld0JveD0nMCAwIDggMicgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJz5cIiArXG4gICAgICAgICAgXCI8cmVjdCBpZD0nbWFwX19taW51cycgd2lkdGg9JzgnIGhlaWdodD0nMic+PC9yZWN0PlwiICtcbiAgICAgICAgICBcIjwvc3ZnPjwvZGl2Pjxicj5cIiArXG4gICAgICAgICAgXCI8ZGl2IGlkPSd6b29tLW91dCcgY2xhc3M9J21hcF9fem9vbSB1LWpjLWNlIHUtYWktY2UnPlwiICtcbiAgICAgICAgICBcIjxzdmcgY2xhc3M9J3N2Zycgd2lkdGg9JzEycHgnIGhlaWdodD0nMTJweCcgdmlld0JveD0nMCAwIDEyIDEyJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnPlwiICtcbiAgICAgICAgICBcIjxnIGlkPSdHcm91cCcgPjxyZWN0IGlkPSdSZWN0YW5nbGUtMycgeD0nMCcgeT0nNScgd2lkdGg9JzEyJyBoZWlnaHQ9JzInPjwvcmVjdD5cIiArXG4gICAgICAgICAgXCI8cmVjdCBpZD0nUmVjdGFuZ2xlLTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDYuMDAwMDAwLCA2LjAwMDAwMCkgcm90YXRlKDkwLjAwMDAwMCkgdHJhbnNsYXRlKC02LjAwMDAwMCwgLTYuMDAwMDAwKSAnIHg9JzAnIHk9JzUnIHdpZHRoPScxMicgaGVpZ2h0PScyJz48L3JlY3Q+PC9nPlwiICtcbiAgICAgICAgICBcIjwvc3ZnPjwvZGl2PlwiLCB7XG4gIFxuICAgICAgICAgIC8vINCf0LXRgNC10L7Qv9GA0LXQtNC10LvRj9C10Lwg0LzQtdGC0L7QtNGLINC80LDQutC10YLQsCwg0YfRgtC+0LHRiyDQstGL0L/QvtC70L3Rj9GC0Ywg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtSDQtNC10LnRgdGC0LLQuNGPXG4gICAgICAgICAgLy8g0L/RgNC4INC/0L7RgdGC0YDQvtC10L3QuNC4INC4INC+0YfQuNGB0YLQutC1INC80LDQutC10YLQsC5cbiAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyDQktGL0LfRi9Cy0LDQtdC8INGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDQvNC10YLQvtC0IGJ1aWxkLlxuICAgICAgICAgICAgICBab29tTGF5b3V0LnN1cGVyY2xhc3MuYnVpbGQuY2FsbCh0aGlzKTtcbiAgXG4gICAgICAgICAgICAgIC8vINCf0YDQuNCy0Y/Qt9GL0LLQsNC10Lwg0YTRg9C90LrRhtC40Lgt0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQuiDQutC+0L3RgtC10LrRgdGC0YMg0Lgg0YHQvtGF0YDQsNC90Y/QtdC8INGB0YHRi9C70LrQuFxuICAgICAgICAgICAgICAvLyDQvdCwINC90LjRhSwg0YfRgtC+0LHRiyDQv9C+0YLQvtC8INC+0YLQv9C40YHQsNGC0YzRgdGPINC+0YIg0YHQvtCx0YvRgtC40LkuXG4gICAgICAgICAgICAgIHRoaXMuem9vbUluQ2FsbGJhY2sgPSB5bWFwcy51dGlsLmJpbmQodGhpcy56b29tSW4sIHRoaXMpO1xuICAgICAgICAgICAgICB0aGlzLnpvb21PdXRDYWxsYmFjayA9IHltYXBzLnV0aWwuYmluZCh0aGlzLnpvb21PdXQsIHRoaXMpO1xuICBcbiAgICAgICAgICAgICAgLy8g0J3QsNGH0LjQvdCw0LXQvCDRgdC70YPRiNCw0YLRjCDQutC70LjQutC4INC90LAg0LrQvdC+0L/QutCw0YUg0LzQsNC60LXRgtCwLlxuICAgICAgICAgICAgICAkKCcjem9vbS1pbicpLmJpbmQoJ2NsaWNrJywgdGhpcy56b29tSW5DYWxsYmFjayk7XG4gICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLmJpbmQoJ2NsaWNrJywgdGhpcy56b29tT3V0Q2FsbGJhY2spO1xuICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vINCh0L3QuNC80LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LrQu9C40LrQvtCyLlxuICAgICAgICAgICAgICAkKCcjem9vbS1pbicpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21JbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgJCgnI3pvb20tb3V0JykudW5iaW5kKCdjbGljaycsIHRoaXMuem9vbU91dENhbGxiYWNrKTtcbiAgXG4gICAgICAgICAgICAgIC8vINCS0YvQt9GL0LLQsNC10Lwg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQgY2xlYXIuXG4gICAgICAgICAgICAgIFpvb21MYXlvdXQuc3VwZXJjbGFzcy5jbGVhci5jYWxsKHRoaXMpO1xuICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgIHpvb21JbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXREYXRhKCkuY29udHJvbC5nZXRNYXAoKTtcbiAgICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSArIDEsIHtjaGVja1pvb21SYW5nZTogdHJ1ZX0pO1xuICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgIHpvb21PdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0RGF0YSgpLmNvbnRyb2wuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgLSAxLCB7Y2hlY2tab29tUmFuZ2U6IHRydWV9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgfSksXG4gICAgICAgICAgem9vbUNvbnRyb2wgPSBuZXcgeW1hcHMuY29udHJvbC5ab29tQ29udHJvbCh7XG4gICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgIGxheW91dDogWm9vbUxheW91dCxcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbGVmdDogMzAsXG4gICAgICAgICAgICAgICAgICAgICAgdG9wOiA0NjUgLy90ZW1wXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBteU1hcC5jb250cm9scy5hZGQoem9vbUNvbnRyb2wpO1xuICAgICAgICAgIG15TWFwLmdlb09iamVjdHMuYWRkKHBsYWNlbWFyayk7XG4gICAgICB9XG4gIH1cbiAgJCgnI21vZGFsLWNsb3NlJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcuanMtbW9kYWwnKS5yZW1vdmVDbGFzcygnaXNPcGVuZWQnKTtcbiAgfSk7XG4gICQoJy5qcy1tb2RhbF9fYnRuJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKSB7XG4gICAgdmFyIHZhbCA9ICQoIHRoaXMgKS5hdHRyKCdkYXRhLW1vZGFsJyk7XG4gICAgXG4gICAgLy8gdmFyIHN0eWxlcyA9IHtcbiAgICAvLyAgIGRpc3BsYXkgOiBcImJsb2NrXCIsXG4gICAgLy8gICB3aWR0aDogXCIxMDAlXCIsXG4gICAgLy8gICB0b3A6IC1oZWFkZUhlaWdodFxuICAgIC8vIH07XG4gICAgXG4gICAgJCgnIycrdmFsKS5hZGRDbGFzcygnaXNPcGVuZWQnKTtcbiAgfSk7XG4gICQoJy5qcy10YWJfX2l0ZW0nKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gIFxuICAgICR0aGlzLmNsb3Nlc3QoJy50YWInKS5maW5kKCcuanMtdGFiX19pdGVtJykucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgICR0aGlzLmFkZENsYXNzKCdqcy1hY3RpdmUnKTtcbiAgXG4gICAgdmFyIHZhbCA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFiJyk7ICAgIFxuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcudGFiJykuZmluZCgnLnRhYl9fYmxvY2snKS5yZW1vdmVDbGFzcygnanMtYWN0aXZlJyk7XG4gICAgJCgnW2RhdGEtY29udGVudD1cIicrdmFsKydcIl0nKS5hZGRDbGFzcygnanMtYWN0aXZlJyk7XG4gIH0pO1xufSkiXX0=
