$(document).ready(function(){if(function(s){"use strict";s.fn.emulateTransitionEnd=function(t){var e=!1,i=this;s(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||s(i).trigger(s.support.transition.end)},t),this},s(function(){s.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),s.support.transition&&(s.event.special.bsTransitionEnd={bindType:s.support.transition.end,delegateType:s.support.transition.end,handle:function(t){if(s(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(h){"use strict";var u=function(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))};function o(n){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),i=h.extend({},u.DEFAULTS,t.data(),"object"==typeof n&&n),s="string"==typeof n?n:i.slide;e||t.data("bs.carousel",e=new u(this,i)),"number"==typeof n?e.to(n):s?e[s]():i.interval&&e.pause().cycle()})}u.VERSION="3.3.5",u.TRANSITION_DURATION=600,u.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},u.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},u.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},u.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},u.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var s=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(s)},u.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},u.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},u.prototype.next=function(){if(!this.sliding)return this.slide("next")},u.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},u.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),s=e||this.getItemForDirection(t,i),n=this.interval,a="next"==t?"left":"right",o=this;if(s.hasClass("active"))return this.sliding=!1;var r=s[0],l=h.Event("slide.bs.carousel",{relatedTarget:r,direction:a});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=h(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var d=h.Event("slid.bs.carousel",{relatedTarget:r,direction:a});return h.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(a),s.addClass(a),i.one("bsTransitionEnd",function(){s.removeClass([t,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(d)},0)}).emulateTransitionEnd(u.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),n&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=o,h.fn.carousel.Constructor=u,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this};var e=function(t){var e,i=h(this),s=h(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var n=h.extend({},s.data(),i.data()),a=i.attr("data-slide-to");a&&(n.interval=!1),o.call(s,n),a&&s.data("bs.carousel").to(a),t.preventDefault()}};h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);o.call(t,t.data())})})}(jQuery),$(".carousel-item-image .item").each(function(){for(var t=$(this),e=1;e<5;e++)(t=t.next()).length||(t=$(this).siblings(":first")),t.children(":first-child").clone().addClass("cloneditem-"+e).appendTo($(this))}),$(".carousel").carousel({interval:0}),$("#carousel-item-image").carousel({interval:0}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(o){"use strict";var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.$trigger=o('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var e,i=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return o(i)}function l(s){return this.each(function(){var t=o(this),e=t.data("bs.collapse"),i=o.extend({},r.DEFAULTS,t.data(),"object"==typeof s&&s);!e&&i.toggle&&/show|hide/.test(s)&&(i.toggle=!1),e||t.data("bs.collapse",e=new r(this,i)),"string"==typeof s&&e[s]()})}r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".collapse__tab").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var i=o.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){e&&e.length&&(l.call(e,"hide"),t||e.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var n=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!o.support.transition)return n.call(this);var a=o.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",o.proxy(n,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[s](this.$element[0][a])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=o.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!o.support.transition)return i.call(this);this.$element[e](0).one("bsTransitionEnd",o.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return o(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(o.proxy(function(t,e){var i=o(e);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=o.fn.collapse;o.fn.collapse=l,o.fn.collapse.Constructor=r,o.fn.collapse.noConflict=function(){return o.fn.collapse=t,this},o(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=o(this);e.attr("data-target")||t.preventDefault();var i=n(e),s=i.data("bs.collapse")?"toggle":e.data();l.call(i,s)})}(jQuery),$(".js-hide-filter").on("click",function(t){t.preventDefault();var e=$(this);$(".filter__input-group--add").hasClass("js-isVisible")?($(".filter__input-group--add").removeClass("js-isVisible"),e.removeClass("iSopened")):($(".filter__input-group--add").addClass("js-isVisible"),e.addClass("iSopened"))}),$(".js-select-btn").on("click",function(){$(".js-select-block").hasClass("isOpen")?$(".js-select-block").removeClass("isOpen"):$(".js-select-block").addClass("isOpen")}),$(".js-select-item").on("click",function(){var t=$(this);t.addClass("js-selected");var e=t.text(),i=t.attr("data-group");$('.js-select-btn[data-group="'+i+'"]').text(e),$(".js-select-label").addClass("floated"),$(".js-select-block").removeClass("isOpen")}),$(".item__img").click(function(){var t=$(this).attr("src");console.log(t),$(".image__container").css("background-image","url("+t+")")}),null!==document.getElementById("map")){function t(){var e=new ymaps.Map("map",{center:[55.76,37.64],zoom:10,controls:[]}),i=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div><br><div id='zoom-out' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div>",{build:function(){i.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()-1,{checkZoomRange:!0})}});function s(t){return{type:"FeatureCollection",features:t.map(function(t,e){return{id:e,type:"Feature",geometry:{type:"Point",coordinates:[t.lat,t.long]},properties:{iconCaption:t.serialNumber}}})}}function t(){return fetch("../js/test.json").then(function(t){return t.json()}).then(function(t){return s(t)})}$(window).on("resize",function(){var t=document.getElementById("map").offsetHeight/2-50;e.controls.remove("zoomControl"),e.controls.add("zoomControl",{layout:i,position:{left:"30px",top:t}})}).resize();var n=new ymaps.ObjectManager({clusterize:!0,gridSize:64,clusterIconLayout:"default#pieChart",clusterDisableClickZoom:!1});t().then(function(t){n.add(t)}),n.objects.options.set({iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[57,51],iconImageOffset:[-37,-50]}),e.geoObjects.add(n)}ymaps.ready(t)}else if(null!==document.getElementById("item-map")){ymaps.ready(t);var s=$("#item-map").attr("data-lng"),n=$("#item-map").attr("data-lat");function t(){var e=new ymaps.Map("item-map",{center:[s,n],zoom:13,controls:[]}),t=new ymaps.Placemark([s,n],{},{iconLayout:"default#image",iconImageHref:"images/map__baloon.png",iconImageSize:[57,51],iconImageOffset:[-37,-50]}),i=ymaps.templateLayoutFactory.createClass("<div class='map__zoom-block u-jc-sbu-fd-col'><div id='zoom-in' class='map__zoom u-jc-ce u-ai-ce'><svg class='svg' width='12px' height='12px' viewBox='0 0 12 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g id='Group' ><rect id='Rectangle-3' x='0' y='5' width='12' height='2'></rect><rect id='Rectangle-3' transform='translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) ' x='0' y='5' width='12' height='2'></rect></g></svg></div><br><div id='zoom-out' class='map__zoom map__zoom--minus u-jc-ce u-ai-ce'><svg class='svg' width='8px' height='2px' viewBox='0 0 8 2' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect id='map__minus' width='8' height='2'></rect></svg></div>",{build:function(){i.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()-1,{checkZoomRange:!0})}});$(window).on("resize",function(){var t=document.getElementById("item-map").offsetHeight/2-50;e.controls.remove("zoomControl"),e.controls.add("zoomControl",{layout:i,position:{left:"30px",top:t}})}).resize(),e.geoObjects.add(t)}}$("#modal-close").on("click",function(t){$(this).closest(".js-modal").removeClass("isOpened")}),$(".js-modal__btn").on("click",function(t){var e=$(this).attr("data-modal");$("#"+e).addClass("isOpened")}),$(window).on("resize",function(){if(null!==$(".scrollable-inner"))for(var t=0;t<$(".scrollable-inner").length;t++){var e=$(".scrollable-inner")[t],i=$(e).attr("data-iscroll"),s=$('.scrollable-parent[data-pscroll="'+i+'"]'),n=e.clientHeight;s.height(n)}}).resize(),$(".js-tab__item").on("click",function(t){var e=$(this);e.closest(".tab").find(".js-tab__item").removeClass("js-active"),e.addClass("js-active");var i=e.attr("data-tab");e.closest(".tab").find(".tab__block").removeClass("js-active"),$('[data-content="'+i+'"]').addClass("js-active")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJmbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiZHVyYXRpb24iLCJjYWxsZWQiLCIkZWwiLCJ0aGlzIiwib25lIiwic2V0VGltZW91dCIsInRyaWdnZXIiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsImVuZCIsImVsIiwiY3JlYXRlRWxlbWVudCIsInRyYW5zRW5kRXZlbnROYW1lcyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJuYW1lIiwidW5kZWZpbmVkIiwic3R5bGUiLCJ0cmFuc2l0aW9uRW5kIiwiZXZlbnQiLCJzcGVjaWFsIiwiYnNUcmFuc2l0aW9uRW5kIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJlIiwidGFyZ2V0IiwiaXMiLCJoYW5kbGVPYmoiLCJoYW5kbGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJqUXVlcnkiLCJDYXJvdXNlbCIsImVsZW1lbnQiLCJvcHRpb25zIiwiJGVsZW1lbnQiLCIkaW5kaWNhdG9ycyIsImZpbmQiLCJwYXVzZWQiLCJzbGlkaW5nIiwiaW50ZXJ2YWwiLCIkYWN0aXZlIiwiJGl0ZW1zIiwia2V5Ym9hcmQiLCJvbiIsInByb3h5Iiwia2V5ZG93biIsInBhdXNlIiwiZG9jdW1lbnRFbGVtZW50IiwiY3ljbGUiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwiZXh0ZW5kIiwiREVGQVVMVFMiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiVkVSU0lPTiIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJ3cmFwIiwicHJvdG90eXBlIiwidGVzdCIsInRhZ05hbWUiLCJ3aGljaCIsInByZXYiLCJuZXh0IiwicHJldmVudERlZmF1bHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJpdGVtIiwicGFyZW50IiwiY2hpbGRyZW4iLCJpbmRleCIsImdldEl0ZW1Gb3JEaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJhY3RpdmUiLCJhY3RpdmVJbmRleCIsImxlbmd0aCIsIml0ZW1JbmRleCIsImVxIiwicG9zIiwidGhhdCIsInR5cGUiLCIkbmV4dCIsImlzQ3ljbGluZyIsImhhc0NsYXNzIiwicmVsYXRlZFRhcmdldCIsInNsaWRlRXZlbnQiLCJFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsInJlbW92ZUNsYXNzIiwiJG5leHRJbmRpY2F0b3IiLCJhZGRDbGFzcyIsInNsaWRFdmVudCIsIm9mZnNldFdpZHRoIiwiam9pbiIsIm9sZCIsImNhcm91c2VsIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiY2xpY2tIYW5kbGVyIiwiaHJlZiIsIiR0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsInNsaWRlSW5kZXgiLCJjYWxsIiwid2luZG93IiwiJGNhcm91c2VsIiwiaXRlbVRvQ2xvbmUiLCJpIiwic2libGluZ3MiLCJjbG9uZSIsImFwcGVuZFRvIiwiRXJyb3IiLCJ2ZXJzaW9uIiwianF1ZXJ5Iiwic3BsaXQiLCJDb2xsYXBzZSIsIiR0cmlnZ2VyIiwiaWQiLCJ0cmFuc2l0aW9uaW5nIiwiJHBhcmVudCIsImdldFBhcmVudCIsImFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyIsInRvZ2dsZSIsImdldFRhcmdldEZyb21UcmlnZ2VyIiwiZGltZW5zaW9uIiwic2hvdyIsImFjdGl2ZXNEYXRhIiwiYWN0aXZlcyIsInN0YXJ0RXZlbnQiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiaXNPcGVuIiwidG9nZ2xlQ2xhc3MiLCJjb2xsYXBzZSIsInRleHQiLCJncm91cCIsImNsaWNrIiwiaW1nU3JjIiwiY29uc29sZSIsImxvZyIsImNzcyIsImdldEVsZW1lbnRCeUlkIiwiaW5pdCIsIm15TWFwIiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiY29udHJvbHMiLCJab29tTGF5b3V0IiwidGVtcGxhdGVMYXlvdXRGYWN0b3J5IiwiY3JlYXRlQ2xhc3MiLCJidWlsZCIsInN1cGVyY2xhc3MiLCJ6b29tSW5DYWxsYmFjayIsInV0aWwiLCJiaW5kIiwiem9vbUluIiwiem9vbU91dENhbGxiYWNrIiwiem9vbU91dCIsImNsZWFyIiwidW5iaW5kIiwibWFwIiwiZ2V0RGF0YSIsImNvbnRyb2wiLCJnZXRNYXAiLCJzZXRab29tIiwiZ2V0Wm9vbSIsImNoZWNrWm9vbVJhbmdlIiwibWFwU2VydmVyRGF0YSIsInNlcnZlckRhdGEiLCJmZWF0dXJlcyIsIm9iaiIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJsYXQiLCJsb25nIiwicHJvcGVydGllcyIsImljb25DYXB0aW9uIiwic2VyaWFsTnVtYmVyIiwibG9hZExpc3QiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJjZW50ZXJQb3MiLCJyZW1vdmUiLCJhZGQiLCJsYXlvdXQiLCJwb3NpdGlvbiIsImxlZnQiLCJ0b3AiLCJyZXNpemUiLCJvYmplY3RNYW5hZ2VyIiwiT2JqZWN0TWFuYWdlciIsImNsdXN0ZXJpemUiLCJncmlkU2l6ZSIsImNsdXN0ZXJJY29uTGF5b3V0IiwiY2x1c3RlckRpc2FibGVDbGlja1pvb20iLCJvYmplY3RzIiwic2V0IiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiZ2VvT2JqZWN0cyIsImxuZyIsInBsYWNlbWFyayIsIlBsYWNlbWFyayIsImNsb3Nlc3QiLCJ2YWwiLCJzY3JJbiIsInNjckVsIiwic2NyUGFyIiwic2NySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaGVpZ2h0Il0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQWdWaEIsR0F0VUMsU0FBVUYsR0FDVCxhQXlCQUEsRUFBRUcsR0FBR0MscUJBQXVCLFNBQVVDLEdBQ3BDLElBQUlDLEdBQVMsRUFDVEMsRUFBTUMsS0FDVlIsRUFBRVEsTUFBTUMs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QkFBa0JtTyxFQUFJLE1BQU01SCxTQUFTIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMy41XG4gICAqIGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICBcbiAgXG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgXG4gICAgLy8gQ1NTIFRSQU5TSVRJT04gU1VQUE9SVCAoU2hvdXRvdXQ6IGh0dHBzOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcbiAgXG4gICAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgICAgfVxuICBcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XG4gICAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgICB9XG4gICAgICB9XG4gIFxuICAgICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxuICAgIH1cbiAgXG4gICAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgICB2YXIgJGVsID0gdGhpc1xuICAgICAgJCh0aGlzKS5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHsgY2FsbGVkID0gdHJ1ZSB9KVxuICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICBcbiAgICAkKGZ1bmN0aW9uICgpIHtcbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG4gIFxuICAgICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuXG4gIFxuICAgICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgICAgYmluZFR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhpcykpIHJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIFxuICB9KGpRdWVyeSk7XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQm9vdHN0cmFwOiBjYXJvdXNlbC5qcyB2My4zLjVcbiAgICogaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Nhcm91c2VsXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gIFxuICBcbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy4kZWxlbWVudCAgICA9ICQoZWxlbWVudClcbiAgICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICAgIHRoaXMub3B0aW9ucyAgICAgPSBvcHRpb25zXG4gICAgICB0aGlzLnBhdXNlZCAgICAgID0gbnVsbFxuICAgICAgdGhpcy5zbGlkaW5nICAgICA9IG51bGxcbiAgICAgIHRoaXMuaW50ZXJ2YWwgICAgPSBudWxsXG4gICAgICB0aGlzLiRhY3RpdmUgICAgID0gbnVsbFxuICAgICAgdGhpcy4kaXRlbXMgICAgICA9IG51bGxcbiAgXG4gICAgICB0aGlzLm9wdGlvbnMua2V5Ym9hcmQgJiYgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5rZXlkb3duLCB0aGlzKSlcbiAgXG4gICAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiAhKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgJiYgdGhpcy4kZWxlbWVudFxuICAgICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgICAub24oJ21vdXNlbGVhdmUuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMuY3ljbGUsIHRoaXMpKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwuVkVSU0lPTiAgPSAnMy4zLjUnXG4gIFxuICAgIENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04gPSA2MDBcbiAgXG4gICAgQ2Fyb3VzZWwuREVGQVVMVFMgPSB7XG4gICAgICBpbnRlcnZhbDogNTAwMCxcbiAgICAgIHBhdXNlOiAnaG92ZXInLFxuICAgICAgd3JhcDogdHJ1ZSxcbiAgICAgIGtleWJvYXJkOiB0cnVlXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG4gICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgICAgY2FzZSAzNzogdGhpcy5wcmV2KCk7IGJyZWFrXG4gICAgICAgIGNhc2UgMzk6IHRoaXMubmV4dCgpOyBicmVha1xuICAgICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICAgIH1cbiAgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IGZhbHNlKVxuICBcbiAgICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuICBcbiAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnZhbFxuICAgICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICAgJiYgKHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCwgdGhpcyksIHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpXG4gIFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdGhpcy4kaXRlbXMgPSBpdGVtLnBhcmVudCgpLmNoaWxkcmVuKCcuaXRlbScpXG4gICAgICByZXR1cm4gdGhpcy4kaXRlbXMuaW5kZXgoaXRlbSB8fCB0aGlzLiRhY3RpdmUpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUZvckRpcmVjdGlvbiA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIGFjdGl2ZSkge1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoYWN0aXZlKVxuICAgICAgdmFyIHdpbGxXcmFwID0gKGRpcmVjdGlvbiA9PSAncHJldicgJiYgYWN0aXZlSW5kZXggPT09IDApXG4gICAgICAgICAgICAgICAgICB8fCAoZGlyZWN0aW9uID09ICduZXh0JyAmJiBhY3RpdmVJbmRleCA9PSAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkpXG4gICAgICBpZiAod2lsbFdyYXAgJiYgIXRoaXMub3B0aW9ucy53cmFwKSByZXR1cm4gYWN0aXZlXG4gICAgICB2YXIgZGVsdGEgPSBkaXJlY3Rpb24gPT0gJ3ByZXYnID8gLTEgOiAxXG4gICAgICB2YXIgaXRlbUluZGV4ID0gKGFjdGl2ZUluZGV4ICsgZGVsdGEpICUgdGhpcy4kaXRlbXMubGVuZ3RoXG4gICAgICByZXR1cm4gdGhpcy4kaXRlbXMuZXEoaXRlbUluZGV4KVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgdmFyIHRoYXQgICAgICAgID0gdGhpc1xuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcbiAgXG4gICAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxuICBcbiAgICAgIGlmICh0aGlzLnNsaWRpbmcpICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50Lm9uZSgnc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHsgdGhhdC50byhwb3MpIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICAgIGlmIChhY3RpdmVJbmRleCA9PSBwb3MpIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKVxuICBcbiAgICAgIHJldHVybiB0aGlzLnNsaWRlKHBvcyA+IGFjdGl2ZUluZGV4ID8gJ25leHQnIDogJ3ByZXYnLCB0aGlzLiRpdGVtcy5lcShwb3MpKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcbiAgXG4gICAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCcubmV4dCwgLnByZXYnKS5sZW5ndGggJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZClcbiAgICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgICAgfVxuICBcbiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG4gIFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICAgIENhcm91c2VsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpXG4gICAgfVxuICBcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICAgIH1cbiAgXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXG4gICAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCB0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24odHlwZSwgJGFjdGl2ZSlcbiAgICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXG4gICAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuICBcbiAgICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiAodGhpcy5zbGlkaW5nID0gZmFsc2UpXG4gIFxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KCdzbGlkZS5icy5jYXJvdXNlbCcsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcbiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgIH0pXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudClcbiAgICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgXG4gICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG4gIFxuICAgICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKVxuICBcbiAgICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdmFyICRuZXh0SW5kaWNhdG9yID0gJCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoJG5leHQpXSlcbiAgICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG4gIFxuICAgICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XG4gICAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXG4gICAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgICAkYWN0aXZlXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICAgIH0sIDApXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgfVxuICBcbiAgICAgIGlzQ3ljbGluZyAmJiB0aGlzLmN5Y2xlKClcbiAgXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gIFxuICAgIC8vIENBUk9VU0VMIFBMVUdJTiBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ2Fyb3VzZWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gICAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcbiAgXG4gICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnLCAoZGF0YSA9IG5ldyBDYXJvdXNlbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uKSBkYXRhW2FjdGlvbl0oKVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmludGVydmFsKSBkYXRhLnBhdXNlKCkuY3ljbGUoKVxuICAgICAgfSlcbiAgICB9XG4gIFxuICAgIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG4gIFxuICAgICQuZm4uY2Fyb3VzZWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcbiAgXG4gIFxuICAgIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJC5mbi5jYXJvdXNlbCA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIFxuICBcbiAgICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09XG4gIFxuICAgIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGhyZWZcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcbiAgICAgIHZhciBzbGlkZUluZGV4ID0gJHRoaXMuYXR0cignZGF0YS1zbGlkZS10bycpXG4gICAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG4gIFxuICAgICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9ucylcbiAgXG4gICAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgICAkdGFyZ2V0LmRhdGEoJ2JzLmNhcm91c2VsJykudG8oc2xpZGVJbmRleClcbiAgICAgIH1cbiAgXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIFxuICAgICQoZG9jdW1lbnQpXG4gICAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXScsIGNsaWNrSGFuZGxlcilcbiAgICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGUtdG9dJywgY2xpY2tIYW5kbGVyKVxuICBcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRjYXJvdXNlbCA9ICQodGhpcylcbiAgICAgICAgUGx1Z2luLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKVxuICAgICAgfSlcbiAgICB9KVxuICBcbiAgfShqUXVlcnkpO1xuICBcbiAgK2Z1bmN0aW9uKCl7XG4gICAgJCgnLmNhcm91c2VsLWl0ZW0taW1hZ2UgLml0ZW0nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgaXRlbVRvQ2xvbmUgPSAkKHRoaXMpO1xuICBcbiAgICAgIGZvciAodmFyIGk9MTtpPDU7aSsrKSB7XG4gICAgICAgIGl0ZW1Ub0Nsb25lID0gaXRlbVRvQ2xvbmUubmV4dCgpO1xuICBcbiAgICAgICAgLy8gd3JhcCBhcm91bmQgaWYgYXQgZW5kIG9mIGl0ZW0gY29sbGVjdGlvblxuICAgICAgICBpZiAoIWl0ZW1Ub0Nsb25lLmxlbmd0aCkge1xuICAgICAgICAgIGl0ZW1Ub0Nsb25lID0gJCh0aGlzKS5zaWJsaW5ncygnOmZpcnN0Jyk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIGdyYWIgaXRlbSwgY2xvbmUsIGFkZCBtYXJrZXIgY2xhc3MsIGFkZCB0byBjb2xsZWN0aW9uXG4gICAgICAgIGl0ZW1Ub0Nsb25lLmNoaWxkcmVuKCc6Zmlyc3QtY2hpbGQnKS5jbG9uZSgpXG4gICAgICAgICAgLmFkZENsYXNzKFwiY2xvbmVkaXRlbS1cIisoaSkpXG4gICAgICAgICAgLmFwcGVuZFRvKCQodGhpcykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KCk7XG4gIFxuICAkKCcuY2Fyb3VzZWwnKS5jYXJvdXNlbCh7XG4gIFx0aW50ZXJ2YWw6IDAgLy90ZW1wXG4gIH0pO1xuICBcbiAgJCgnI2Nhcm91c2VsLWl0ZW0taW1hZ2UnKS5jYXJvdXNlbCh7IFxuICAgIGludGVydmFsOiAwIC8vdGVtcFxuICB9KTtcbiAgLyohXG4gICAqIEJvb3RzdHJhcCB2My4zLjcgKGh0dHA6Ly9nZXRib290c3RyYXAuY29tKVxuICAgKiBDb3B5cmlnaHQgMjAxMS0yMDE4IFR3aXR0ZXIsIEluYy5cbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICovXG4gIFxuICAvKiFcbiAgICogR2VuZXJhdGVkIHVzaW5nIHRoZSBCb290c3RyYXAgQ3VzdG9taXplciAoPG5vbmU+KVxuICAgKiBDb25maWcgc2F2ZWQgdG8gY29uZmlnLmpzb24gYW5kIDxub25lPlxuICAgKi9cbiAgaWYgKHR5cGVvZiBqUXVlcnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCb290c3RyYXBcXCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5JylcbiAgfVxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIHZlcnNpb24gPSAkLmZuLmpxdWVyeS5zcGxpdCgnICcpWzBdLnNwbGl0KCcuJylcbiAgICBpZiAoKHZlcnNpb25bMF0gPCAyICYmIHZlcnNpb25bMV0gPCA5KSB8fCAodmVyc2lvblswXSA9PSAxICYmIHZlcnNpb25bMV0gPT0gOSAmJiB2ZXJzaW9uWzJdIDwgMSkgfHwgKHZlcnNpb25bMF0gPiAzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb290c3RyYXBcXCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5IHZlcnNpb24gMS45LjEgb3IgaGlnaGVyLCBidXQgbG93ZXIgdGhhbiB2ZXJzaW9uIDQnKVxuICAgIH1cbiAgfShqUXVlcnkpO1xuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIEJvb3RzdHJhcDogY29sbGFwc2UuanMgdjMuMy43XG4gICAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2NvbGxhcHNlXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gIFxuICAvKiBqc2hpbnQgbGF0ZWRlZjogZmFsc2UgKi9cbiAgXG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgXG4gICAgLy8gQ09MTEFQU0UgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxuICAgICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgICAgdGhpcy4kdHJpZ2dlciAgICAgID0gJCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1baHJlZj1cIiMnICsgZWxlbWVudC5pZCArICdcIl0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXRhcmdldD1cIiMnICsgZWxlbWVudC5pZCArICdcIl0nKVxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gbnVsbFxuICBcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB7XG4gICAgICAgIHRoaXMuJHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuJGVsZW1lbnQsIHRoaXMuJHRyaWdnZXIpXG4gICAgICB9XG4gIFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgICB9XG4gIFxuICAgIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMy43J1xuICBcbiAgICBDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMzUwXG4gIFxuICAgIENvbGxhcHNlLkRFRkFVTFRTID0ge1xuICAgICAgdG9nZ2xlOiB0cnVlXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGhhc1dpZHRoID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnd2lkdGgnKVxuICAgICAgcmV0dXJuIGhhc1dpZHRoID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gICAgfVxuICBcbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG4gIFxuICAgICAgdmFyIGFjdGl2ZXNEYXRhXG4gICAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuY2hpbGRyZW4oJy5jb2xsYXBzZV9fdGFiJykuY2hpbGRyZW4oJy5pbiwgLmNvbGxhcHNpbmcnKVxuICBcbiAgICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICAgIGFjdGl2ZXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICAgIGlmIChhY3RpdmVzRGF0YSAmJiBhY3RpdmVzRGF0YS50cmFuc2l0aW9uaW5nKSByZXR1cm5cbiAgICAgIH1cbiAgXG4gICAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMuY29sbGFwc2UnKVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG4gIFxuICAgICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgICBhY3RpdmVzRGF0YSB8fCBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJywgbnVsbClcbiAgICAgIH1cbiAgXG4gICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuICBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpW2RpbWVuc2lvbl0oMClcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuICBcbiAgICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gIFxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuICBcbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZSBpbicpW2RpbWVuc2lvbl0oJycpXG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5jb2xsYXBzZScpXG4gICAgICB9XG4gIFxuICAgICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcbiAgXG4gICAgICB2YXIgc2Nyb2xsU2l6ZSA9ICQuY2FtZWxDYXNlKFsnc2Nyb2xsJywgZGltZW5zaW9uXS5qb2luKCctJykpXG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgICB9XG4gIFxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG4gIFxuICAgICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuICBcbiAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG4gIFxuICAgICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcbiAgXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UgaW4nKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuICBcbiAgICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuICBcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcbiAgXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy5jb2xsYXBzZScpXG4gICAgICB9XG4gIFxuICAgICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcbiAgXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilcbiAgICB9XG4gIFxuICAgIENvbGxhcHNlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykgPyAnaGlkZScgOiAnc2hvdyddKClcbiAgICB9XG4gIFxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5nZXRQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJCh0aGlzLm9wdGlvbnMucGFyZW50KVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS1wYXJlbnQ9XCInICsgdGhpcy5vcHRpb25zLnBhcmVudCArICdcIl0nKVxuICAgICAgICAuZWFjaCgkLnByb3h5KGZ1bmN0aW9uIChpLCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KVxuICAgICAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKGdldFRhcmdldEZyb21UcmlnZ2VyKCRlbGVtZW50KSwgJGVsZW1lbnQpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgICAgICAuZW5kKClcbiAgICB9XG4gIFxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MgPSBmdW5jdGlvbiAoJGVsZW1lbnQsICR0cmlnZ2VyKSB7XG4gICAgICB2YXIgaXNPcGVuID0gJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJylcbiAgXG4gICAgICAkZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICAgICAgJHRyaWdnZXJcbiAgICAgICAgLnRvZ2dsZUNsYXNzKCdjb2xsYXBzZWQnLCAhaXNPcGVuKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgICB9XG4gIFxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEZyb21UcmlnZ2VyKCR0cmlnZ2VyKSB7XG4gICAgICB2YXIgaHJlZlxuICAgICAgdmFyIHRhcmdldCA9ICR0cmlnZ2VyLmF0dHIoJ2RhdGEtdGFyZ2V0JylcbiAgICAgICAgfHwgKGhyZWYgPSAkdHJpZ2dlci5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgXG4gICAgICByZXR1cm4gJCh0YXJnZXQpXG4gICAgfVxuICBcbiAgXG4gICAgLy8gQ09MTEFQU0UgUExVR0lOIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgXG4gICAgICAgIGlmICghZGF0YSAmJiBvcHRpb25zLnRvZ2dsZSAmJiAvc2hvd3xoaWRlLy50ZXN0KG9wdGlvbikpIG9wdGlvbnMudG9nZ2xlID0gZmFsc2VcbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScsIChkYXRhID0gbmV3IENvbGxhcHNlKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgICB9KVxuICAgIH1cbiAgXG4gICAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcbiAgXG4gICAgJC5mbi5jb2xsYXBzZSAgICAgICAgICAgICA9IFBsdWdpblxuICAgICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuICBcbiAgXG4gICAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PVxuICBcbiAgICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkLmZuLmNvbGxhcHNlID0gb2xkXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gIFxuICAgIC8vIENPTExBUFNFIERBVEEtQVBJXG4gICAgLy8gPT09PT09PT09PT09PT09PT1cbiAgXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICBcbiAgICAgIGlmICghJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIFxuICAgICAgdmFyICR0YXJnZXQgPSBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICB2YXIgb3B0aW9uICA9IGRhdGEgPyAndG9nZ2xlJyA6ICR0aGlzLmRhdGEoKVxuICBcbiAgICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbilcbiAgICB9KVxuICBcbiAgfShqUXVlcnkpO1xuICAkKCcuanMtaGlkZS1maWx0ZXInKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgIGlmICggJCgnLmZpbHRlcl9faW5wdXQtZ3JvdXAtLWFkZCcpLmhhc0NsYXNzKCdqcy1pc1Zpc2libGUnKSApIHtcbiAgICAgICQoJy5maWx0ZXJfX2lucHV0LWdyb3VwLS1hZGQnKS5yZW1vdmVDbGFzcygnanMtaXNWaXNpYmxlJyk7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcygnaVNvcGVuZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmZpbHRlcl9faW5wdXQtZ3JvdXAtLWFkZCcpLmFkZENsYXNzKCdqcy1pc1Zpc2libGUnKTsgICAgICBcbiAgICAgICR0aGlzLmFkZENsYXNzKCdpU29wZW5lZCcpO1xuICAgIH1cbiAgfSk7XG4gICQoJy5qcy1zZWxlY3QtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCQoJy5qcy1zZWxlY3QtYmxvY2snKS5oYXNDbGFzcygnaXNPcGVuJykpIHtcbiAgICAgICQoJy5qcy1zZWxlY3QtYmxvY2snKS5yZW1vdmVDbGFzcygnaXNPcGVuJylcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmpzLXNlbGVjdC1ibG9jaycpLmFkZENsYXNzKCdpc09wZW4nKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgJCgnLmpzLXNlbGVjdC1pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0aGlzID0gJCggdGhpcyApO1xuICAgICR0aGlzLmFkZENsYXNzKCdqcy1zZWxlY3RlZCcpO1xuICAgIHZhciB0ZXh0ID0gJHRoaXMudGV4dCgpO1xuICAgIHZhciBncm91cCA9ICR0aGlzLmF0dHIoJ2RhdGEtZ3JvdXAnKTtcbiAgICAkKCcuanMtc2VsZWN0LWJ0bltkYXRhLWdyb3VwPVwiJyArIGdyb3VwICsgJ1wiXScpLnRleHQodGV4dCk7XG4gICAgJCgnLmpzLXNlbGVjdC1sYWJlbCcpLmFkZENsYXNzKCdmbG9hdGVkJyk7XG4gICAgJCgnLmpzLXNlbGVjdC1ibG9jaycpLnJlbW92ZUNsYXNzKCdpc09wZW4nKVxuICB9KVxuICAkKCcuaXRlbV9faW1nJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICB2YXIgaW1nU3JjID0gJCggdGhpcyApLmF0dHIoJ3NyYycpO1xuICBcbiAgICBjb25zb2xlLmxvZyggaW1nU3JjICk7XG4gICAgXG4gICAgJCgnLmltYWdlX19jb250YWluZXInKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKCcgKyBpbWdTcmMgKyAnKScgKTtcbiAgfSk7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJykgIT09IG51bGwpIHtcbiAgICAgIC8vINCk0YPQvdC60YbQuNGPIHltYXBzLnJlYWR5KCkg0LHRg9C00LXRgiDQstGL0LfQstCw0L3QsCwg0LrQvtCz0LTQsFxuICAgICAgLy8g0LfQsNCz0YDRg9C30Y/RgtGB0Y8g0LLRgdC1INC60L7QvNC/0L7QvdC10L3RgtGLIEFQSSwg0LAg0YLQsNC60LbQtSDQutC+0LPQtNCwINCx0YPQtNC10YIg0LPQvtGC0L7QstC+IERPTS3QtNC10YDQtdCy0L4uXG4gICAgICB5bWFwcy5yZWFkeShpbml0KTtcbiAgXG4gICAgICBmdW5jdGlvbiBpbml0KCl7IFxuICAgICAgICAgIC8vINCh0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLRiy4gICAgXG4gICAgICAgICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcIm1hcFwiLCB7XG4gICAgICAgICAgICAgIC8vINCa0L7QvtGA0LTQuNC90LDRgtGLINGG0LXQvdGC0YDQsCDQutCw0YDRgtGLLlxuICAgICAgICAgICAgICAvLyDQn9C+0YDRj9C00L7QuiDQv9C+INGD0LzQvtC70YfQvdC40Y46IMKr0YjQuNGA0L7RgtCwLCDQtNC+0LvQs9C+0YLQsMK7LlxuICAgICAgICAgICAgICAvLyDQp9GC0L7QsdGLINC90LUg0L7Qv9GA0LXQtNC10LvRj9GC0Ywg0LrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC90YLRgNCwINC60LDRgNGC0Ysg0LLRgNGD0YfQvdGD0Y4sXG4gICAgICAgICAgICAgIC8vINCy0L7RgdC/0L7Qu9GM0LfRg9C50YLQtdGB0Ywg0LjQvdGB0YLRgNGD0LzQtdC90YLQvtC8INCe0L/RgNC10LTQtdC70LXQvdC40LUg0LrQvtC+0YDQtNC40L3QsNGCLlxuICAgICAgICAgICAgICBjZW50ZXI6IFs1NS43NiwgMzcuNjRdLFxuICAgICAgICAgICAgICAvLyDQo9GA0L7QstC10L3RjCDQvNCw0YHRiNGC0LDQsdC40YDQvtCy0LDQvdC40Y8uINCU0L7Qv9GD0YHRgtC40LzRi9C1INC30L3QsNGH0LXQvdC40Y86XG4gICAgICAgICAgICAgIC8vINC+0YIgMCAo0LLQtdGB0Ywg0LzQuNGAKSDQtNC+IDE5LlxuICAgICAgICAgICAgICB6b29tOiAxMCxcbiAgICAgICAgICAgICAgY29udHJvbHM6IFtdXG4gICAgICAgICAgfSk7IFxuICBcbiAgICAgICAgICAvLyDQnNC10YLQutCwLCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQsdCw0LvRg9C90LAg0LrQvtGC0L7RgNC+0Lkg0LfQsNCz0YDRg9C20LDQtdGC0YHRjyDRgSDQv9C+0LzQvtGJ0YzRjiBBSkFYLlxuICAgICAgICAgIC8vIHZhciBwbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NS43NjA1ODQsIDM3LjYzOTQ1MF0sIHt9LCB7XG4gICAgICAgICAgLy8gICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcbiAgICAgICAgICAvLyAgICAgaWNvbkltYWdlSHJlZjogJ2ltYWdlcy9tYXBfX2JhbG9vbi5wbmcnLFxuICAgICAgICAgIC8vICAgICBpY29uSW1hZ2VTaXplOiBbNTcsIDUxXSxcbiAgICAgICAgICAvLyAgICAgaWNvbkltYWdlT2Zmc2V0OiBbLTM3LCAtNTBdXG4gICAgICAgICAgLy8gfSk7XG4gIFxuICAgICAgICAgIHZhciBab29tTGF5b3V0ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKFwiPGRpdiBjbGFzcz0nbWFwX196b29tLWJsb2NrIHUtamMtc2J1LWZkLWNvbCc+XCIgK1xuICAgICAgICAgIFwiPGRpdiBpZD0nem9vbS1pbicgY2xhc3M9J21hcF9fem9vbSB1LWpjLWNlIHUtYWktY2UnPlwiICtcbiAgICAgICAgICBcIjxzdmcgY2xhc3M9J3N2Zycgd2lkdGg9JzEycHgnIGhlaWdodD0nMTJweCcgdmlld0JveD0nMCAwIDEyIDEyJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnPlwiICtcbiAgICAgICAgICBcIjxnIGlkPSdHcm91cCcgPjxyZWN0IGlkPSdSZWN0YW5nbGUtMycgeD0nMCcgeT0nNScgd2lkdGg9JzEyJyBoZWlnaHQ9JzInPjwvcmVjdD5cIiArXG4gICAgICAgICAgXCI8cmVjdCBpZD0nUmVjdGFuZ2xlLTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDYuMDAwMDAwLCA2LjAwMDAwMCkgcm90YXRlKDkwLjAwMDAwMCkgdHJhbnNsYXRlKC02LjAwMDAwMCwgLTYuMDAwMDAwKSAnIHg9JzAnIHk9JzUnIHdpZHRoPScxMicgaGVpZ2h0PScyJz48L3JlY3Q+PC9nPlwiICtcbiAgICAgICAgICBcIjwvc3ZnPjwvZGl2Pjxicj5cIiArXG4gICAgICAgICAgXCI8ZGl2IGlkPSd6b29tLW91dCcgY2xhc3M9J21hcF9fem9vbSBtYXBfX3pvb20tLW1pbnVzIHUtamMtY2UgdS1haS1jZSc+XCIgK1xuICAgICAgICAgIFwiPHN2ZyBjbGFzcz0nc3ZnJyB3aWR0aD0nOHB4JyBoZWlnaHQ9JzJweCcgdmlld0JveD0nMCAwIDggMicgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJz5cIiArXG4gICAgICAgICAgXCI8cmVjdCBpZD0nbWFwX19taW51cycgd2lkdGg9JzgnIGhlaWdodD0nMic+PC9yZWN0PlwiICtcbiAgICAgICAgICBcIjwvc3ZnPjwvZGl2PlwiLCB7XG4gICAgICAgICAgICAgIC8vINCf0LXRgNC10L7Qv9GA0LXQtNC10LvRj9C10Lwg0LzQtdGC0L7QtNGLINC80LDQutC10YLQsCwg0YfRgtC+0LHRiyDQstGL0L/QvtC70L3Rj9GC0Ywg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtSDQtNC10LnRgdGC0LLQuNGPXG4gICAgICAgICAgICAgIC8vINC/0YDQuCDQv9C+0YHRgtGA0L7QtdC90LjQuCDQuCDQvtGH0LjRgdGC0LrQtSDQvNCw0LrQtdGC0LAuXG4gICAgICAgICAgICAgIGJ1aWxkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAvLyDQktGL0LfRi9Cy0LDQtdC8INGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDQvNC10YLQvtC0IGJ1aWxkLlxuICAgICAgICAgICAgICAgICAgWm9vbUxheW91dC5zdXBlcmNsYXNzLmJ1aWxkLmNhbGwodGhpcyk7XG4gIFxuICAgICAgICAgICAgICAgICAgLy8g0J/RgNC40LLRj9C30YvQstCw0LXQvCDRhNGD0L3QutGG0LjQuC3QvtCx0YDQsNCx0L7RgtGH0LjQutC4INC6INC60L7QvdGC0LXQutGB0YLRgyDQuCDRgdC+0YXRgNCw0L3Rj9C10Lwg0YHRgdGL0LvQutC4XG4gICAgICAgICAgICAgICAgICAvLyDQvdCwINC90LjRhSwg0YfRgtC+0LHRiyDQv9C+0YLQvtC8INC+0YLQv9C40YHQsNGC0YzRgdGPINC+0YIg0YHQvtCx0YvRgtC40LkuXG4gICAgICAgICAgICAgICAgICB0aGlzLnpvb21JbkNhbGxiYWNrID0geW1hcHMudXRpbC5iaW5kKHRoaXMuem9vbUluLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuem9vbU91dENhbGxiYWNrID0geW1hcHMudXRpbC5iaW5kKHRoaXMuem9vbU91dCwgdGhpcyk7XG4gIFxuICAgICAgICAgICAgICAgICAgLy8g0J3QsNGH0LjQvdCw0LXQvCDRgdC70YPRiNCw0YLRjCDQutC70LjQutC4INC90LAg0LrQvdC+0L/QutCw0YUg0LzQsNC60LXRgtCwLlxuICAgICAgICAgICAgICAgICAgJCgnI3pvb20taW4nKS5iaW5kKCdjbGljaycsIHRoaXMuem9vbUluQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgJCgnI3pvb20tb3V0JykuYmluZCgnY2xpY2snLCB0aGlzLnpvb21PdXRDYWxsYmFjayk7XG4gICAgICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgICAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgLy8g0KHQvdC40LzQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQutC70LjQutC+0LIuXG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1pbicpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21JbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21PdXRDYWxsYmFjayk7XG4gIFxuICAgICAgICAgICAgICAgICAgLy8g0JLRi9C30YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBjbGVhci5cbiAgICAgICAgICAgICAgICAgIFpvb21MYXlvdXQuc3VwZXJjbGFzcy5jbGVhci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAgICAgem9vbUluOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXREYXRhKCkuY29udHJvbC5nZXRNYXAoKTtcbiAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgKyAxLCB7Y2hlY2tab29tUmFuZ2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgICAgIHpvb21PdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLmdldERhdGEoKS5jb250cm9sLmdldE1hcCgpO1xuICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSAtIDEsIHtjaGVja1pvb21SYW5nZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gIFxuICAgICAgICAgIC8vIHZhciBjdHJsID0gbXlNYXAuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpLm9wdGlvbnMuZ2V0KCdsZWZ0Jyk7XG4gICAgICAgICAgLy8gdmFyIG9iaiA9IG15TWFwLmNvbnRyb2xzLmdldCgnem9vbUNvbnRyb2wnKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhteU1hcCwgJ3pvb21Db250cm9sJywgY3RybCwgb2JqKTtcbiAgXG4gICAgICAgICAgJCggd2luZG93ICkub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkgeyAgIFxuICAgICAgICAgIC8v0L7Qv9GA0LXQtNC10LvRj9C10Lwg0LLQtdGA0YLQuNC60LDQu9GM0L3Ri9C5INGG0LXQvdGC0YAg0LrQsNGA0YLRi1xuICAgICAgICAgICAgICB2YXIgY2VudGVyUG9zID0gKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFwiKS5vZmZzZXRIZWlnaHQgLyAyICkgLSA1MDsgICAgXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNlbnRlclBvcyk7ICBcbiAgXG4gICAgICAgICAgICAgIC8v0LfQsNC00LDQtdC8INGB0LLQvtC50YHRgtCy0LAg0LrQvdC+0L/QvtC6INC30YPQvNCwXG4gICAgICAgICAgICAgIC8vIHZhciB6b29tQ29udHJvbCA9IG5ldyB5bWFwcy5jb250cm9sLlpvb21Db250cm9sKHtcbiAgICAgICAgICAgICAgLy8gICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgLy8gICAgICAgICBsYXlvdXQ6IFpvb21MYXlvdXQsXG4gICAgICAgICAgICAgIC8vICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbGVmdDogMzAsXG4gICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRvcDogY2VudGVyUG9zXG4gICAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAvLyB9KTtcbiAgXG4gICAgICAgICAgICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgnem9vbUNvbnRyb2wnKTtcbiAgICAgICAgICAgICAgLy8g0KHQvtC30LTQsNC00LjQvCDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60LjQuSDQvNCw0LrQtdGCINC/0L7Qu9C30YPQvdC60LAg0LzQsNGB0YjRgtCw0LHQsC5cbiAgICAgICAgICAgICAgbXlNYXAuY29udHJvbHMuYWRkKCd6b29tQ29udHJvbCcsIHtcbiAgICAgICAgICAgICAgICAgIGxheW91dDogWm9vbUxheW91dCxcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbGVmdDogJzMwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogY2VudGVyUG9zXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pOyAgICAgICAgXG4gICAgICAgICAgfSkucmVzaXplKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gbXlNYXAuZ2VvT2JqZWN0cy5hZGQocGxhY2VtYXJrKTtcbiAgXG4gICAgICAgICAgZnVuY3Rpb24gbWFwU2VydmVyRGF0YShzZXJ2ZXJEYXRhKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICBmZWF0dXJlczogc2VydmVyRGF0YS5tYXAoZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJGZWF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQb2ludFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbb2JqLmxhdCwgb2JqLmxvbmddIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25DYXB0aW9uOiBvYmouc2VyaWFsTnVtYmVyIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9uczogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHByZXNldDogZ2V0T2JqZWN0UHJlc2V0KG9iaikgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgXG4gICAgICAgICAgLy8gZnVuY3Rpb24gZ2V0T2JqZWN0UHJlc2V0KG9iaikge1xuICAgICAgICAgIC8vICAgICByZXR1cm4gb2JqLmlzQWN0aXZlXG4gICAgICAgICAgLy8gICAgICAgICA/ICdpc2xhbmRzI2JsdWVDaXJjbGVEb3RJY29uV2l0aENhcHRpb24nXG4gICAgICAgICAgLy8gICAgICAgICA6ICdpc2xhbmRzI3JlZENpcmNsZURvdEljb25XaXRoQ2FwdGlvbic7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgICAgXG4gICAgICBcbiAgICAgICAgICBmdW5jdGlvbiBsb2FkTGlzdCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKFwiLi4vanMvdGVzdC5qc29uXCIpXG4gICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXBTZXJ2ZXJEYXRhKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgXG4gICAgICAgICAgdmFyIG9iamVjdE1hbmFnZXIgPSBuZXcgeW1hcHMuT2JqZWN0TWFuYWdlcih7XG4gICAgICAgICAgICAgIGNsdXN0ZXJpemU6IHRydWUsXG4gICAgICAgICAgICAgIGdyaWRTaXplOiA2NCxcbiAgICAgICAgICAgICAgY2x1c3Rlckljb25MYXlvdXQ6ICdkZWZhdWx0I3BpZUNoYXJ0JyxcbiAgICAgICAgICAgICAgLy8gY2x1c3Rlckljb25JbWFnZUhyZWY6ICdpbWFnZXMvbWFwX19iYWxvb24ucG5nJyxcbiAgICAgICAgICAgICAgY2x1c3RlckRpc2FibGVDbGlja1pvb206IGZhbHNlXG4gICAgICAgICAgICAgIC8vIGdlb09iamVjdE9wZW5CYWxsb29uT25DbGljazogdHJ1ZSxcbiAgICAgICAgICAgICAgLy8gZ2VvT2JqZWN0SGlkZUljb25PbkJhbGxvb25PcGVuOiB0cnVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIG9iamVjdE1hbmFnZXIuY2x1c3RlcnMub3B0aW9ucy5zZXQoe1xuICAgICAgICAgIC8vICAgICBjbHVzdGVySWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgIC8vICAgICBjbHVzdGVySWNvbkltYWdlSHJlZjogJ2ltYWdlcy9tYXBfX2JhbG9vbi5wbmcnLFxuICAgICAgICAgIC8vICAgICBjbHVzdGVySWNvbkltYWdlU2l6ZTogWzU3LCA1MV0sXG4gICAgICAgICAgLy8gICAgIGNsdXN0ZXJJY29uSW1hZ2VPZmZzZXQ6IFstMzcsIC01MF1cbiAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2FkTGlzdCgpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICBvYmplY3RNYW5hZ2VyLmFkZChkYXRhKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBcbiAgICAgICAgICBvYmplY3RNYW5hZ2VyLm9iamVjdHMub3B0aW9ucy5zZXQoe1xuICAgICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgICAgICAgIGljb25JbWFnZUhyZWY6ICdpbWFnZXMvbWFwX19iYWxvb24ucG5nJyxcbiAgICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzU3LCA1MV0sXG4gICAgICAgICAgICAgIGljb25JbWFnZU9mZnNldDogWy0zNywgLTUwXVxuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChvYmplY3RNYW5hZ2VyKTtcbiAgICAgIH1cbiAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbS1tYXAnKSAhPT0gbnVsbCkge1xuICAgICAgeW1hcHMucmVhZHkoaW5pdCk7XG4gIFxuICAgICAgdmFyIGxuZyA9ICQoJyNpdGVtLW1hcCcpLmF0dHIoJ2RhdGEtbG5nJyk7XG4gICAgICB2YXIgbGF0ID0gJCgnI2l0ZW0tbWFwJykuYXR0cignZGF0YS1sYXQnKTtcbiAgXG4gICAgICBmdW5jdGlvbiBpbml0KCl7IFxuICAgICAgICAgIHZhciBteU1hcCA9IG5ldyB5bWFwcy5NYXAoXCJpdGVtLW1hcFwiLCB7XG4gICAgICAgICAgICAgIGNlbnRlcjogW2xuZywgbGF0XSxcbiAgICAgICAgICAgICAgem9vbTogMTMsXG4gICAgICAgICAgICAgIGNvbnRyb2xzOiBbXVxuICAgICAgICAgIH0pOyBcbiAgXG4gICAgICAgICAgdmFyIHBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoW2xuZywgbGF0XSwge30sIHtcbiAgICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnaW1hZ2VzL21hcF9fYmFsb29uLnBuZycsXG4gICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFs1NywgNTFdLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMzcsIC01MF1cbiAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgdmFyIFpvb21MYXlvdXQgPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3MoXCI8ZGl2IGNsYXNzPSdtYXBfX3pvb20tYmxvY2sgdS1qYy1zYnUtZmQtY29sJz5cIiArXG4gICAgICAgICAgXCI8ZGl2IGlkPSd6b29tLWluJyBjbGFzcz0nbWFwX196b29tIHUtamMtY2UgdS1haS1jZSc+XCIgK1xuICAgICAgICAgIFwiPHN2ZyBjbGFzcz0nc3ZnJyB3aWR0aD0nMTJweCcgaGVpZ2h0PScxMnB4JyB2aWV3Qm94PScwIDAgMTIgMTInIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+XCIgK1xuICAgICAgICAgIFwiPGcgaWQ9J0dyb3VwJyA+PHJlY3QgaWQ9J1JlY3RhbmdsZS0zJyB4PScwJyB5PSc1JyB3aWR0aD0nMTInIGhlaWdodD0nMic+PC9yZWN0PlwiICtcbiAgICAgICAgICBcIjxyZWN0IGlkPSdSZWN0YW5nbGUtMycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNi4wMDAwMDAsIDYuMDAwMDAwKSByb3RhdGUoOTAuMDAwMDAwKSB0cmFuc2xhdGUoLTYuMDAwMDAwLCAtNi4wMDAwMDApICcgeD0nMCcgeT0nNScgd2lkdGg9JzEyJyBoZWlnaHQ9JzInPjwvcmVjdD48L2c+XCIgK1xuICAgICAgICAgIFwiPC9zdmc+PC9kaXY+PGJyPlwiICtcbiAgICAgICAgICBcIjxkaXYgaWQ9J3pvb20tb3V0JyBjbGFzcz0nbWFwX196b29tIG1hcF9fem9vbS0tbWludXMgdS1qYy1jZSB1LWFpLWNlJz5cIiArXG4gICAgICAgICAgXCI8c3ZnIGNsYXNzPSdzdmcnIHdpZHRoPSc4cHgnIGhlaWdodD0nMnB4JyB2aWV3Qm94PScwIDAgOCAyJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnPlwiICtcbiAgICAgICAgICBcIjxyZWN0IGlkPSdtYXBfX21pbnVzJyB3aWR0aD0nOCcgaGVpZ2h0PScyJz48L3JlY3Q+XCIgK1xuICAgICAgICAgIFwiPC9zdmc+PC9kaXY+XCIsIHtcbiAgICAgICAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIFpvb21MYXlvdXQuc3VwZXJjbGFzcy5idWlsZC5jYWxsKHRoaXMpO1xuICBcbiAgICAgICAgICAgICAgICAgIHRoaXMuem9vbUluQ2FsbGJhY2sgPSB5bWFwcy51dGlsLmJpbmQodGhpcy56b29tSW4sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgdGhpcy56b29tT3V0Q2FsbGJhY2sgPSB5bWFwcy51dGlsLmJpbmQodGhpcy56b29tT3V0LCB0aGlzKTtcbiAgXG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1pbicpLmJpbmQoJ2NsaWNrJywgdGhpcy56b29tSW5DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1vdXQnKS5iaW5kKCdjbGljaycsIHRoaXMuem9vbU91dENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAkKCcjem9vbS1pbicpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21JbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICQoJyN6b29tLW91dCcpLnVuYmluZCgnY2xpY2snLCB0aGlzLnpvb21PdXRDYWxsYmFjayk7XG4gIFxuICAgICAgICAgICAgICAgICAgWm9vbUxheW91dC5zdXBlcmNsYXNzLmNsZWFyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgICAgICB6b29tSW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLmdldERhdGEoKS5jb250cm9sLmdldE1hcCgpO1xuICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20obWFwLmdldFpvb20oKSArIDEsIHtjaGVja1pvb21SYW5nZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAgICAgem9vbU91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0RGF0YSgpLmNvbnRyb2wuZ2V0TWFwKCk7XG4gICAgICAgICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpIC0gMSwge2NoZWNrWm9vbVJhbmdlOiB0cnVlfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgJCggd2luZG93ICkub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkgeyAgIFxuICAgICAgICAgICAgICB2YXIgY2VudGVyUG9zID0gKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIml0ZW0tbWFwXCIpLm9mZnNldEhlaWdodCAvIDIgKSAtIDUwOyAgICBcbiAgXG4gICAgICAgICAgICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgnem9vbUNvbnRyb2wnKTtcbiAgICAgICAgICAgICAgbXlNYXAuY29udHJvbHMuYWRkKCd6b29tQ29udHJvbCcsIHtcbiAgICAgICAgICAgICAgICAgIGxheW91dDogWm9vbUxheW91dCxcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbGVmdDogJzMwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgIHRvcDogY2VudGVyUG9zXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pOyAgICAgICAgXG4gICAgICAgICAgfSkucmVzaXplKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQocGxhY2VtYXJrKTtcbiAgICAgIH1cbiAgfVxuICAkKCcjbW9kYWwtY2xvc2UnKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKCB0aGlzICk7XG4gIFxuICAgICR0aGlzLmNsb3Nlc3QoJy5qcy1tb2RhbCcpLnJlbW92ZUNsYXNzKCdpc09wZW5lZCcpO1xuICB9KTtcbiAgJCgnLmpzLW1vZGFsX19idG4nKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdmFsID0gJCggdGhpcyApLmF0dHIoJ2RhdGEtbW9kYWwnKTtcbiAgICBcbiAgICAvLyB2YXIgc3R5bGVzID0ge1xuICAgIC8vICAgZGlzcGxheSA6IFwiYmxvY2tcIixcbiAgICAvLyAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAvLyAgIHRvcDogLWhlYWRlSGVpZ2h0XG4gICAgLy8gfTtcbiAgICBcbiAgICAkKCcjJyt2YWwpLmFkZENsYXNzKCdpc09wZW5lZCcpO1xuICB9KTtcbiAgJCggd2luZG93ICkub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkgeyAgIFxuICAgIGlmICgkKCcuc2Nyb2xsYWJsZS1pbm5lcicpICE9PSBudWxsKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICAkKCcuc2Nyb2xsYWJsZS1pbm5lcicpLmxlbmd0aDsgaSArKykge1xuICAgICAgICB2YXIgc2NySW4gPSAkKCcuc2Nyb2xsYWJsZS1pbm5lcicpW2ldO1xuICAgICAgICB2YXIgc2NyRWwgPSAkKHNjckluKS5hdHRyKCdkYXRhLWlzY3JvbGwnKTtcbiAgICAgICAgdmFyIHNjclBhciA9ICQoJy5zY3JvbGxhYmxlLXBhcmVudFtkYXRhLXBzY3JvbGw9XCInICsgc2NyRWwgKyAnXCJdJylcbiAgICAgICAgdmFyIHNjckhlaWdodCA9IHNjckluLmNsaWVudEhlaWdodDtcbiAgICAgICAgLy8gY29uc29sZS5sb2coc2NySGVpZ2h0KTtcbiAgICAgICAgc2NyUGFyLmhlaWdodChzY3JIZWlnaHQpO1xuICAgICAgfTtcbiAgICB9O1xuICB9KS5yZXNpemUoKTtcbiAgJCgnLmpzLXRhYl9faXRlbScpLm9uKCdjbGljaycsZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcbiAgXG4gICAgJHRoaXMuY2xvc2VzdCgnLnRhYicpLmZpbmQoJy5qcy10YWJfX2l0ZW0nKS5yZW1vdmVDbGFzcygnanMtYWN0aXZlJyk7XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICBcbiAgICB2YXIgdmFsID0gJHRoaXMuYXR0cignZGF0YS10YWInKTsgICAgXG4gIFxuICAgICR0aGlzLmNsb3Nlc3QoJy50YWInKS5maW5kKCcudGFiX19ibG9jaycpLnJlbW92ZUNsYXNzKCdqcy1hY3RpdmUnKTtcbiAgICAkKCdbZGF0YS1jb250ZW50PVwiJyt2YWwrJ1wiXScpLmFkZENsYXNzKCdqcy1hY3RpdmUnKTtcbiAgfSk7XG59KSJdfQ==
